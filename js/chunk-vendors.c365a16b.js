(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"057f":function(t,e,r){var i=r("fc6a"),n=r("241c").f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return n(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?o(t):n(i(t))}},"06cf":function(t,e,r){var i=r("83ab"),n=r("d1e7"),a=r("5c6c"),s=r("fc6a"),o=r("c04e"),h=r("5135"),l=r("0cfb"),u=Object.getOwnPropertyDescriptor;e.f=i?u:function(t,e){if(t=s(t),e=o(e,!0),l)try{return u(t,e)}catch(r){}if(h(t,e))return a(!n.f.call(t,e),t[e])}},"0b16":function(t,e,r){"use strict";var i=r("1985"),n=r("35e8");function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=x,e.resolve=D,e.resolveObject=A,e.format=T,e.Url=a;var s=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["<",">",'"',"`"," ","\r","\n","\t"],u=["{","}","|","\\","^","`"].concat(l),c=["'"].concat(u),f=["%","/","?",";","#"].concat(c),p=["/","?","#"],d=255,_=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=r("b383");function x(t,e,r){if(t&&n.isObject(t)&&t instanceof a)return t;var i=new a;return i.parse(t,e,r),i}function T(t){return n.isString(t)&&(t=x(t)),t instanceof a?t.format():a.prototype.format.call(t)}function D(t,e){return x(t,!1,!0).resolve(e)}function A(t,e){return t?x(t,!1,!0).resolveObject(e):e}a.prototype.parse=function(t,e,r){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var a=t.indexOf("?"),o=-1!==a&&a<t.indexOf("#")?"?":"#",l=t.split(o),u=/\\/g;l[0]=l[0].replace(u,"/"),t=l.join(o);var x=t;if(x=x.trim(),!r&&1===t.split("#").length){var T=h.exec(x);if(T)return this.path=x,this.href=x,this.pathname=T[1],T[2]?(this.search=T[2],this.query=e?b.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var D=s.exec(x);if(D){D=D[0];var A=D.toLowerCase();this.protocol=A,x=x.substr(D.length)}if(r||D||x.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===x.substr(0,2);!w||D&&v[D]||(x=x.substr(2),this.slashes=!0)}if(!v[D]&&(w||D&&!g[D])){for(var S,E,P=-1,O=0;O<p.length;O++){var I=x.indexOf(p[O]);-1!==I&&(-1===P||I<P)&&(P=I)}E=-1===P?x.lastIndexOf("@"):x.lastIndexOf("@",P),-1!==E&&(S=x.slice(0,E),x=x.slice(E+1),this.auth=decodeURIComponent(S)),P=-1;for(O=0;O<f.length;O++){I=x.indexOf(f[O]);-1!==I&&(-1===P||I<P)&&(P=I)}-1===P&&(P=x.length),this.host=x.slice(0,P),x=x.slice(P),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var M=this.hostname.split(/\./),F=(O=0,M.length);O<F;O++){var R=M[O];if(R&&!R.match(_)){for(var B="",N=0,L=R.length;N<L;N++)R.charCodeAt(N)>127?B+="x":B+=R[N];if(!B.match(_)){var k=M.slice(0,O),j=M.slice(O+1),U=R.match(m);U&&(k.push(U[1]),j.unshift(U[2])),j.length&&(x="/"+j.join(".")+x),this.hostname=k.join(".");break}}}this.hostname.length>d?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=i.toASCII(this.hostname));var X=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+X,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==x[0]&&(x="/"+x))}if(!y[A])for(O=0,F=c.length;O<F;O++){var G=c[O];if(-1!==x.indexOf(G)){var Y=encodeURIComponent(G);Y===G&&(Y=escape(G)),x=x.split(G).join(Y)}}var H=x.indexOf("#");-1!==H&&(this.hash=x.substr(H),x=x.slice(0,H));var z=x.indexOf("?");if(-1!==z?(this.search=x.substr(z),this.query=x.substr(z+1),e&&(this.query=b.parse(this.query)),x=x.slice(0,z)):e&&(this.search="",this.query={}),x&&(this.pathname=x),g[A]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){X=this.pathname||"";var W=this.search||"";this.path=X+W}return this.href=this.format(),this},a.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",a=!1,s="";this.host?a=t+this.host:this.hostname&&(a=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=b.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==a?(a="//"+(a||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):a||(a=""),i&&"#"!==i.charAt(0)&&(i="#"+i),o&&"?"!==o.charAt(0)&&(o="?"+o),r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})),o=o.replace("#","%23"),e+a+r+o+i},a.prototype.resolve=function(t){return this.resolveObject(x(t,!1,!0)).format()},a.prototype.resolveObject=function(t){if(n.isString(t)){var e=new a;e.parse(t,!1,!0),t=e}for(var r=new a,i=Object.keys(this),s=0;s<i.length;s++){var o=i[s];r[o]=this[o]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),l=0;l<h.length;l++){var u=h[l];"protocol"!==u&&(r[u]=t[u])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!g[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var p=c[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||v[t.protocol])r.pathname=t.pathname;else{var d=(t.pathname||"").split("/");while(d.length&&!(t.host=d.shift()));t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var _=r.pathname||"",m=r.search||"";r.path=_+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||y||r.host&&t.pathname,T=x,D=r.pathname&&r.pathname.split("/")||[],A=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(A&&(r.hostname="",r.port=null,r.host&&(""===D[0]?D[0]=r.host:D.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),x=x&&(""===d[0]||""===D[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,D=d;else if(d.length)D||(D=[]),D.pop(),D=D.concat(d),r.search=t.search,r.query=t.query;else if(!n.isNullOrUndefined(t.search)){if(A){r.hostname=r.host=D.shift();var w=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");w&&(r.auth=w.shift(),r.host=r.hostname=w.shift())}return r.search=t.search,r.query=t.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!D.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=D.slice(-1)[0],E=(r.host||t.host||D.length>1)&&("."===S||".."===S)||""===S,P=0,O=D.length;O>=0;O--)S=D[O],"."===S?D.splice(O,1):".."===S?(D.splice(O,1),P++):P&&(D.splice(O,1),P--);if(!x&&!T)for(;P--;P)D.unshift("..");!x||""===D[0]||D[0]&&"/"===D[0].charAt(0)||D.unshift(""),E&&"/"!==D.join("/").substr(-1)&&D.push("");var I=""===D[0]||D[0]&&"/"===D[0].charAt(0);if(A){r.hostname=r.host=I?"":D.length?D.shift():"";w=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");w&&(r.auth=w.shift(),r.host=r.hostname=w.shift())}return x=x||r.host&&D.length,x&&!I&&D.unshift(""),D.length?r.pathname=D.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},a.prototype.parseHost=function(){var t=this.host,e=o.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},"0cfb":function(t,e,r){var i=r("83ab"),n=r("d039"),a=r("cc12");t.exports=!i&&!n((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},"18a5":function(t,e,r){"use strict";var i=r("23e7"),n=r("857a"),a=r("eae9");i({target:"String",proto:!0,forced:a("anchor")},{anchor:function(t){return n(this,"a","name",t)}})},1985:function(t,e,r){(function(t,i){var n;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(a){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof i&&i;s.global!==s&&s.window!==s&&s.self;var o,h=2147483647,l=36,u=1,c=26,f=38,p=700,d=72,_=128,m="-",y=/^xn--/,v=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-u,T=Math.floor,D=String.fromCharCode;function A(t){throw new RangeError(b[t])}function w(t,e){var r=t.length,i=[];while(r--)i[r]=e(t[r]);return i}function S(t,e){var r=t.split("@"),i="";r.length>1&&(i=r[0]+"@",t=r[1]),t=t.replace(g,".");var n=t.split("."),a=w(n,e).join(".");return i+a}function E(t){var e,r,i=[],n=0,a=t.length;while(n<a)e=t.charCodeAt(n++),e>=55296&&e<=56319&&n<a?(r=t.charCodeAt(n++),56320==(64512&r)?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--)):i.push(e);return i}function P(t){return w(t,(function(t){var e="";return t>65535&&(t-=65536,e+=D(t>>>10&1023|55296),t=56320|1023&t),e+=D(t),e})).join("")}function O(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:l}function I(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function C(t,e,r){var i=0;for(t=r?T(t/p):t>>1,t+=T(t/e);t>x*c>>1;i+=l)t=T(t/x);return T(i+(x+1)*t/(t+f))}function M(t){var e,r,i,n,a,s,o,f,p,y,v=[],g=t.length,b=0,x=_,D=d;for(r=t.lastIndexOf(m),r<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&A("not-basic"),v.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<g;){for(a=b,s=1,o=l;;o+=l){if(n>=g&&A("invalid-input"),f=O(t.charCodeAt(n++)),(f>=l||f>T((h-b)/s))&&A("overflow"),b+=f*s,p=o<=D?u:o>=D+c?c:o-D,f<p)break;y=l-p,s>T(h/y)&&A("overflow"),s*=y}e=v.length+1,D=C(b-a,e,0==a),T(b/e)>h-x&&A("overflow"),x+=T(b/e),b%=e,v.splice(b++,0,x)}return P(v)}function F(t){var e,r,i,n,a,s,o,f,p,y,v,g,b,x,w,S=[];for(t=E(t),g=t.length,e=_,r=0,a=d,s=0;s<g;++s)v=t[s],v<128&&S.push(D(v));i=n=S.length,n&&S.push(m);while(i<g){for(o=h,s=0;s<g;++s)v=t[s],v>=e&&v<o&&(o=v);for(b=i+1,o-e>T((h-r)/b)&&A("overflow"),r+=(o-e)*b,e=o,s=0;s<g;++s)if(v=t[s],v<e&&++r>h&&A("overflow"),v==e){for(f=r,p=l;;p+=l){if(y=p<=a?u:p>=a+c?c:p-a,f<y)break;w=f-y,x=l-y,S.push(D(I(y+w%x,0))),f=T(w/x)}S.push(D(I(f,0))),a=C(r,b,i==n),r=0,++i}++r,++e}return S.join("")}function R(t){return S(t,(function(t){return y.test(t)?M(t.slice(4).toLowerCase()):t}))}function B(t){return S(t,(function(t){return v.test(t)?"xn--"+F(t):t}))}o={version:"1.4.1",ucs2:{decode:E,encode:P},decode:M,encode:F,toASCII:B,toUnicode:R},n=function(){return o}.call(e,r,e,t),void 0===n||(t.exports=n)})()}).call(this,r("62e4")(t),r("c8ba"))},"19aa":function(t,e){t.exports=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t}},"1be4":function(t,e,r){var i=r("d066");t.exports=i("document","documentElement")},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(t,e,r){var i=r("b622"),n=i("iterator"),a=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){a=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(h){}t.exports=function(t,e){if(!e&&!a)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},t(i)}catch(h){}return r}},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},2266:function(t,e,r){var i=r("825a"),n=r("e95a"),a=r("50c4"),s=r("f8c2"),o=r("35a1"),h=r("9bdd"),l=function(t,e){this.stopped=t,this.result=e},u=t.exports=function(t,e,r,u,c){var f,p,d,_,m,y,v,g=s(e,r,u?2:1);if(c)f=t;else{if(p=o(t),"function"!=typeof p)throw TypeError("Target is not iterable");if(n(p)){for(d=0,_=a(t.length);_>d;d++)if(m=u?g(i(v=t[d])[0],v[1]):g(t[d]),m&&m instanceof l)return m;return new l(!1)}f=p.call(t)}y=f.next;while(!(v=y.call(f)).done)if(m=h(f,g,v.value,u),"object"==typeof m&&m&&m instanceof l)return m;return new l(!1)};u.stop=function(t){return new l(!0,t)}},"22a2":function(t,e,r){"use strict";r.r(e);var i={};r.r(i),r.d(i,"isMobile",(function(){return l.a})),r.d(i,"EventEmitter",(function(){return d.a})),r.d(i,"earcut",(function(){return m.a})),r.d(i,"url",(function(){return v.a})),r.d(i,"BaseTextureCache",(function(){return it})),r.d(i,"CanvasRenderTarget",(function(){return ot})),r.d(i,"DATA_URI",(function(){return ut})),r.d(i,"ProgramCache",(function(){return et})),r.d(i,"TextureCache",(function(){return rt})),r.d(i,"clearTextureCache",(function(){return at})),r.d(i,"correctBlendMode",(function(){return G})),r.d(i,"createIndicesForQuads",(function(){return W})),r.d(i,"decomposeDataUri",(function(){return ct})),r.d(i,"deprecation",(function(){return _t})),r.d(i,"destroyTextureCache",(function(){return nt})),r.d(i,"determineCrossOrigin",(function(){return ft})),r.d(i,"getResolutionOfUrl",(function(){return pt})),r.d(i,"hex2rgb",(function(){return L})),r.d(i,"hex2string",(function(){return k})),r.d(i,"isPow2",(function(){return Q})),r.d(i,"isWebGLSupported",(function(){return N})),r.d(i,"log2",(function(){return tt})),r.d(i,"nextPow2",(function(){return J})),r.d(i,"premultiplyBlendMode",(function(){return V})),r.d(i,"premultiplyRgba",(function(){return Y})),r.d(i,"premultiplyTint",(function(){return H})),r.d(i,"premultiplyTintToRgba",(function(){return z})),r.d(i,"removeItems",(function(){return $})),r.d(i,"rgb2hex",(function(){return U})),r.d(i,"sayHello",(function(){return B})),r.d(i,"sign",(function(){return Z})),r.d(i,"skipHello",(function(){return R})),r.d(i,"string2hex",(function(){return j})),r.d(i,"trimCanvas",(function(){return st})),r.d(i,"uid",(function(){return K}));var n={};r.r(n),r.d(n,"AccessibilityManager",(function(){return ie})),r.d(n,"accessibleTarget",(function(){return Wt}));var a={};r.r(a),r.d(a,"Extract",(function(){return Vi}));var s={};r.r(s),r.d(s,"InteractionData",(function(){return Gi})),r.d(s,"InteractionEvent",(function(){return Hi})),r.d(s,"InteractionManager",(function(){return Zi})),r.d(s,"InteractionTrackingData",(function(){return zi})),r.d(s,"interactiveTarget",(function(){return $i}));var o={};r.r(o),r.d(o,"BasePrepare",(function(){return Vn})),r.d(o,"CountLimiter",(function(){return Xn})),r.d(o,"Prepare",(function(){return Kn})),r.d(o,"TimeLimiter",(function(){return ta}));r("eb0a");var h=r("8114"),l=r.n(h);
/*!
 * @pixi/settings - v5.1.3
 * Compiled Mon, 09 Sep 2019 04:51:53 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
function u(t){var e=!0;if(l.a.tablet||l.a.phone){if(e=!1,l.a.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var i=parseInt(r[1],10);i>=11&&(e=!0)}}if(l.a.android.device){var n=navigator.userAgent.match(/Android\s([0-9.]*)/);if(n){var a=parseInt(n[1],10);a>=7&&(e=!0)}}}return e?t:4}function c(){return!l.a.apple.device}var f={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:u(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:l.a.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:c(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},p=r("f142"),d=r.n(p),_=r("5664"),m=r.n(_),y=r("0b16"),v=r.n(y),g={WEBGL_LEGACY:0,WEBGL:1,WEBGL2:2},b={UNKNOWN:0,WEBGL:1,CANVAS:2},x={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19,NONE:20,SRC_OVER:0,SRC_IN:21,SRC_OUT:22,SRC_ATOP:23,DST_OVER:24,DST_IN:25,DST_OUT:26,DST_ATOP:27,ERASE:26,SUBTRACT:28},T={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},D={RGBA:6408,RGB:6407,ALPHA:6406,LUMINANCE:6409,LUMINANCE_ALPHA:6410,DEPTH_COMPONENT:6402,DEPTH_STENCIL:34041},A={TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,TEXTURE_2D_ARRAY:35866,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074},w={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_5_6_5:33635,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,FLOAT:5126,HALF_FLOAT:36193},S={LINEAR:1,NEAREST:0},E={CLAMP:33071,REPEAT:10497,MIRRORED_REPEAT:33648},P={OFF:0,POW2:1,ON:2},O={AUTO:0,MANUAL:1},I={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};
/*!
 * @pixi/utils - v5.1.3
 * Compiled Mon, 09 Sep 2019 04:51:53 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
f.RETINA_PREFIX=/@([0-9\.]+)x/,f.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var C,M=!1,F="5.1.3";function R(){M=!0}function B(t){if(!M){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+F+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+F+" - "+t+" - http://www.pixijs.com/");M=!0}}function N(){return"undefined"===typeof C&&(C=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:f.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,i}catch(a){return!1}}()),C}function L(t,e){return e=e||[],e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function k(t){return t=t.toString(16),t="000000".substr(0,6-t.length)+t,"#"+t}function j(t){return"string"===typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}function U(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}function X(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[x.NORMAL_NPM]=x.NORMAL,t[x.ADD_NPM]=x.ADD,t[x.SCREEN_NPM]=x.SCREEN,e[x.NORMAL]=x.NORMAL_NPM,e[x.ADD]=x.ADD_NPM,e[x.SCREEN]=x.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}var V=X();function G(t,e){return V[e?1:0][t]}function Y(t,e,r,i){return r=r||new Float32Array(4),i||void 0===i?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function H(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,i=t>>8&255,n=255&t;return r=r*e+.5|0,i=i*e+.5|0,n=n*e+.5|0,(255*e<<24)+(r<<16)+(i<<8)+n}function z(t,e,r,i){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(i||void 0===i)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function W(t,e){void 0===e&&(e=null);var r=6*t;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}function $(t,e,r){var i,n=t.length;if(!(e>=n||0===r)){r=e+r>n?n-e:r;var a=n-r;for(i=e;i<a;++i)t[i]=t[i+r];t.length=a}}var q=0;function K(){return++q}function Z(t){return 0===t?0:t<0?-1:1}function J(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Q(t){return!(t&t-1)&&!!t}function tt(t){var e=(t>65535)<<4;t>>>=e;var r=(t>255)<<3;return t>>>=r,e|=r,r=(t>15)<<2,t>>>=r,e|=r,r=(t>3)<<1,t>>>=r,e|=r,e|t>>1}var et={},rt=Object.create(null),it=Object.create(null);function nt(){var t;for(t in rt)rt[t].destroy();for(t in it)it[t].destroy()}function at(){var t;for(t in rt)delete rt[t];for(t in it)delete it[t]}function st(t){var e,r,i,n=t.width,a=t.height,s=t.getContext("2d"),o=s.getImageData(0,0,n,a),h=o.data,l=h.length,u={top:null,left:null,right:null,bottom:null},c=null;for(e=0;e<l;e+=4)0!==h[e+3]&&(r=e/4%n,i=~~(e/4/n),null===u.top&&(u.top=i),null===u.left?u.left=r:r<u.left&&(u.left=r),null===u.right?u.right=r+1:u.right<r&&(u.right=r+1),null===u.bottom?u.bottom=i:u.bottom<i&&(u.bottom=i));return null!==u.top&&(n=u.right-u.left,a=u.bottom-u.top+1,c=s.getImageData(u.left,u.top,n,a)),{height:a,width:n,data:c}}var ot=function(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||f.RESOLUTION,this.resize(t,e)},ht={width:{configurable:!0},height:{configurable:!0}};ot.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},ot.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},ot.prototype.destroy=function(){this.context=null,this.canvas=null},ht.width.get=function(){return this.canvas.width},ht.width.set=function(t){this.canvas.width=t},ht.height.get=function(){return this.canvas.height},ht.height.set=function(t){this.canvas.height=t},Object.defineProperties(ot.prototype,ht);var lt,ut=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function ct(t){var e=ut.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function ft(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,lt||(lt=document.createElement("a")),lt.href=t,t=v.a.parse(lt.href);var r=!t.port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"}function pt(t,e){var r=f.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}var dt={};function _t(t,e,r){if(void 0===r&&(r=3),!dt[e]){var i=(new Error).stack;"undefined"===typeof i?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(i))),dt[e]=!0}}
/*!
 * @pixi/math - v5.1.0
 * Compiled Fri, 19 Jul 2019 21:54:36 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var mt=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e};mt.prototype.clone=function(){return new mt(this.x,this.y)},mt.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},mt.prototype.copyTo=function(t){return t.set(this.x,this.y),t},mt.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},mt.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)};var yt=function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=e},vt={x:{configurable:!0},y:{configurable:!0}};yt.prototype.clone=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var r=t||this.cb,i=e||this.scope;return new yt(r,i,this._x,this._y)},yt.prototype.set=function(t,e){var r=t||0,i=e||(0!==e?r:0);this._x===r&&this._y===i||(this._x=r,this._y=i,this.cb.call(this.scope))},yt.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},yt.prototype.copyTo=function(t){return t.set(this._x,this._y),t},yt.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},vt.x.get=function(){return this._x},vt.x.set=function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},vt.y.get=function(){return this._y},vt.y.set=function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},Object.defineProperties(yt.prototype,vt);var gt=2*Math.PI,bt=180/Math.PI,xt=Math.PI/180,Tt={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},Dt=function(t,e,r,i,n,a){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===a&&(a=0),this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=a,this.array=null},At={IDENTITY:{configurable:!0},TEMP_MATRIX:{configurable:!0}};Dt.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},Dt.prototype.set=function(t,e,r,i,n,a){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=a,this},Dt.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},Dt.prototype.apply=function(t,e){e=e||new mt;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},Dt.prototype.applyInverse=function(t,e){e=e||new mt;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,n=t.y;return e.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},Dt.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},Dt.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},Dt.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,a=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=a*e-this.ty*r,this.ty=a*r+this.ty*e,this},Dt.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},Dt.prototype.setTransform=function(t,e,r,i,n,a,s,o,h){return this.a=Math.cos(s+h)*n,this.b=Math.sin(s+h)*n,this.c=-Math.sin(s-o)*a,this.d=Math.cos(s-o)*a,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},Dt.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},Dt.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,a=-Math.atan2(-i,n),s=Math.atan2(r,e),o=Math.abs(a+s);return o<1e-5||Math.abs(gt-o)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx,t.position.y=this.ty,t},Dt.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,a=t*i-e*r;return this.a=i/a,this.b=-e/a,this.c=-r/a,this.d=t/a,this.tx=(r*this.ty-i*n)/a,this.ty=-(t*this.ty-e*n)/a,this},Dt.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},Dt.prototype.clone=function(){var t=new Dt;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},Dt.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},Dt.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},At.IDENTITY.get=function(){return new Dt},At.TEMP_MATRIX.get=function(){return new Dt},Object.defineProperties(Dt,At);var wt=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],St=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Et=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Pt=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Ot=[],It=[],Ct=Math.sign;function Mt(){for(var t=0;t<16;t++){var e=[];Ot.push(e);for(var r=0;r<16;r++)for(var i=Ct(wt[t]*wt[r]+Et[t]*St[r]),n=Ct(St[t]*wt[r]+Pt[t]*St[r]),a=Ct(wt[t]*Et[r]+Et[t]*Pt[r]),s=Ct(St[t]*Et[r]+Pt[t]*Pt[r]),o=0;o<16;o++)if(wt[o]===i&&St[o]===n&&Et[o]===a&&Pt[o]===s){e.push(o);break}}for(var h=0;h<16;h++){var l=new Dt;l.set(wt[h],St[h],Et[h],Pt[h],0,0),It.push(l)}}Mt();var Ft={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return wt[t]},uY:function(t){return St[t]},vX:function(t){return Et[t]},vY:function(t){return Pt[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return Ot[t][e]},sub:function(t,e){return Ot[t][Ft.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2===(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Ft.S:Ft.N:2*Math.abs(e)<=Math.abs(t)?t>0?Ft.E:Ft.W:e>0?t>0?Ft.SE:Ft.SW:t>0?Ft.NE:Ft.NW},matrixAppendRotationInv:function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=It[Ft.inv(e)];n.tx=r,n.ty=i,t.append(n)}},Rt=function(){this.worldTransform=new Dt,this.localTransform=new Dt,this.position=new yt(this.onChange,this,0,0),this.scale=new yt(this.onChange,this,1,1),this.pivot=new yt(this.onChange,this,0,0),this.skew=new yt(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0},Bt={rotation:{configurable:!0}};Rt.prototype.onChange=function(){this._localID++},Rt.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},Rt.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},Rt.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},Rt.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Bt.rotation.get=function(){return this._rotation},Bt.rotation.set=function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},Object.defineProperties(Rt.prototype,Bt),Rt.IDENTITY=new Rt;var Nt=function(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=Tt.RECT},Lt={left:{configurable:!0},right:{configurable:!0},top:{configurable:!0},bottom:{configurable:!0}},kt={EMPTY:{configurable:!0}};Lt.left.get=function(){return this.x},Lt.right.get=function(){return this.x+this.width},Lt.top.get=function(){return this.y},Lt.bottom.get=function(){return this.y+this.height},kt.EMPTY.get=function(){return new Nt(0,0,0,0)},Nt.prototype.clone=function(){return new Nt(this.x,this.y,this.width,this.height)},Nt.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},Nt.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},Nt.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},Nt.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},Nt.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(n-i,0)},Nt.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=i-this.y},Nt.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=i,this.height=n-i},Object.defineProperties(Nt.prototype,Lt),Object.defineProperties(Nt,kt);var jt=function(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=Tt.CIRC};jt.prototype.clone=function(){return new jt(this.x,this.y,this.radius)},jt.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,n=this.y-e;return i*=i,n*=n,i+n<=r},jt.prototype.getBounds=function(){return new Nt(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)};var Ut=function(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i,this.type=Tt.ELIP};Ut.prototype.clone=function(){return new Ut(this.x,this.y,this.width,this.height)},Ut.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return r*=r,i*=i,r+i<=1},Ut.prototype.getBounds=function(){return new Nt(this.x-this.width,this.y-this.height,this.width,this.height)};var Xt=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];if(Array.isArray(t[0])&&(t=t[0]),t[0]instanceof mt){for(var r=[],i=0,n=t.length;i<n;i++)r.push(t[i].x,t[i].y);t=r}this.points=t,this.type=Tt.POLY,this.closeStroke=!0};Xt.prototype.clone=function(){var t=new Xt(this.points.slice());return t.closeStroke=this.closeStroke,t},Xt.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,a=i-1;n<i;a=n++){var s=this.points[2*n],o=this.points[2*n+1],h=this.points[2*a],l=this.points[2*a+1],u=o>e!==l>e&&t<(e-o)/(l-o)*(h-s)+s;u&&(r=!r)}return r};var Vt=function(t,e,r,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=r,this.height=i,this.radius=n,this.type=Tt.RREC};Vt.prototype.clone=function(){return new Vt(this.x,this.y,this.width,this.height,this.radius)},Vt.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=e-(this.y+this.radius),n=this.radius*this.radius;if(r*r+i*i<=n)return!0;if(r=t-(this.x+this.width-this.radius),r*r+i*i<=n)return!0;if(i=e-(this.y+this.height-this.radius),r*r+i*i<=n)return!0;if(r=t-(this.x+this.radius),r*r+i*i<=n)return!0}return!1},
/*!
 * @pixi/display - v5.1.3
 * Compiled Mon, 09 Sep 2019 04:51:53 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
f.SORTABLE_CHILDREN=!1;var Gt=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null};Gt.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},Gt.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},Gt.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Nt.EMPTY:(t=t||new Nt(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},Gt.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},Gt.prototype.addQuad=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY,a=t[0],s=t[1];e=a<e?a:e,r=s<r?s:r,i=a>i?a:i,n=s>n?s:n,a=t[2],s=t[3],e=a<e?a:e,r=s<r?s:r,i=a>i?a:i,n=s>n?s:n,a=t[4],s=t[5],e=a<e?a:e,r=s<r?s:r,i=a>i?a:i,n=s>n?s:n,a=t[6],s=t[7],e=a<e?a:e,r=s<r?s:r,i=a>i?a:i,n=s>n?s:n,this.minX=e,this.minY=r,this.maxX=i,this.maxY=n},Gt.prototype.addFrame=function(t,e,r,i,n){var a=t.worldTransform,s=a.a,o=a.b,h=a.c,l=a.d,u=a.tx,c=a.ty,f=this.minX,p=this.minY,d=this.maxX,_=this.maxY,m=s*e+h*r+u,y=o*e+l*r+c;f=m<f?m:f,p=y<p?y:p,d=m>d?m:d,_=y>_?y:_,m=s*i+h*r+u,y=o*i+l*r+c,f=m<f?m:f,p=y<p?y:p,d=m>d?m:d,_=y>_?y:_,m=s*e+h*n+u,y=o*e+l*n+c,f=m<f?m:f,p=y<p?y:p,d=m>d?m:d,_=y>_?y:_,m=s*i+h*n+u,y=o*i+l*n+c,f=m<f?m:f,p=y<p?y:p,d=m>d?m:d,_=y>_?y:_,this.minX=f,this.minY=p,this.maxX=d,this.maxY=_},Gt.prototype.addVertexData=function(t,e,r){for(var i=this.minX,n=this.minY,a=this.maxX,s=this.maxY,o=e;o<r;o+=2){var h=t[o],l=t[o+1];i=h<i?h:i,n=l<n?l:n,a=h>a?h:a,s=l>s?l:s}this.minX=i,this.minY=n,this.maxX=a,this.maxY=s},Gt.prototype.addVertices=function(t,e,r,i){for(var n=t.worldTransform,a=n.a,s=n.b,o=n.c,h=n.d,l=n.tx,u=n.ty,c=this.minX,f=this.minY,p=this.maxX,d=this.maxY,_=r;_<i;_+=2){var m=e[_],y=e[_+1],v=a*m+o*y+l,g=h*y+s*m+u;c=v<c?v:c,f=g<f?g:f,p=v>p?v:p,d=g>d?g:d}this.minX=c,this.minY=f,this.maxX=p,this.maxY=d},Gt.prototype.addBounds=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>n?t.maxY:n},Gt.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,a=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=n&&i<=a){var s=this.minX,o=this.minY,h=this.maxX,l=this.maxY;this.minX=r<s?r:s,this.minY=i<o?i:o,this.maxX=n>h?n:h,this.maxY=a>l?a:l}},Gt.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,a=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=n&&i<=a){var s=this.minX,o=this.minY,h=this.maxX,l=this.maxY;this.minX=r<s?r:s,this.minY=i<o?i:o,this.maxX=n>h?n:h,this.maxY=a>l?a:l}};var Yt=function(t){function e(){t.call(this),this.tempDisplayObjectParent=null,this.transform=new Rt,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Gt,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._destroyed=!1,this.isSprite=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={_tempDisplayObjectParent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},worldTransform:{configurable:!0},localTransform:{configurable:!0},position:{configurable:!0},scale:{configurable:!0},pivot:{configurable:!0},skew:{configurable:!0},rotation:{configurable:!0},angle:{configurable:!0},zIndex:{configurable:!0},worldVisible:{configurable:!0},mask:{configurable:!0}};return e.mixin=function(t){for(var r=Object.keys(t),i=0;i<r.length;++i){var n=r[i];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},r._tempDisplayObjectParent.get=function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent},e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&(this.calculateBounds(),this._lastBoundsID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new Nt),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new Nt),t=this._localBoundsRect);var i=this.getBounds(!1,t);return this.parent=r,this.transform=e,i},e.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,i){return e&&(t=e.toGlobal(t,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.render=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,r,i,n,a,s,o,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=a,this.skew.y=s,this.pivot.x=o,this.pivot.y=h,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},r.x.get=function(){return this.position.x},r.x.set=function(t){this.transform.position.x=t},r.y.get=function(){return this.position.y},r.y.set=function(t){this.transform.position.y=t},r.worldTransform.get=function(){return this.transform.worldTransform},r.localTransform.get=function(){return this.transform.localTransform},r.position.get=function(){return this.transform.position},r.position.set=function(t){this.transform.position.copyFrom(t)},r.scale.get=function(){return this.transform.scale},r.scale.set=function(t){this.transform.scale.copyFrom(t)},r.pivot.get=function(){return this.transform.pivot},r.pivot.set=function(t){this.transform.pivot.copyFrom(t)},r.skew.get=function(){return this.transform.skew},r.skew.set=function(t){this.transform.skew.copyFrom(t)},r.rotation.get=function(){return this.transform.rotation},r.rotation.set=function(t){this.transform.rotation=t},r.angle.get=function(){return this.transform.rotation*bt},r.angle.set=function(t){this.transform.rotation=t*xt},r.zIndex.get=function(){return this._zIndex},r.zIndex.set=function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},r.worldVisible.get=function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},r.mask.get=function(){return this._mask},r.mask.set=function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)},Object.defineProperties(e.prototype,r),e}(d.a);function Ht(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Yt.prototype.displayObjectUpdateTransform=Yt.prototype.updateTransform;var zt=function(t){function e(){t.call(this),this.children=[],this.sortableChildren=f.SORTABLE_CHILDREN,this.sortDirty=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={width:{configurable:!0},height:{configurable:!0}};return e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments,r=arguments.length;if(r>1)for(var i=0;i<r;i++)this.addChild(e[i]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);$(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments,r=arguments.length;if(r>1)for(var i=0;i<r;i++)this.removeChild(e[i]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,$(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,$(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0);var r,i=t,n="number"===typeof e?e:this.children.length,a=n-i;if(a>0&&a<=n){r=this.children.splice(i,a);for(var s=0;s<r.length;++s)r[s].parent=null,r[s].transform&&(r[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var o=0;o<r.length;++o)r[o].emit("removed",this),this.emit("childRemoved",r[o],this,o);return r}if(0===a&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var i=this.children[e];i._lastSortedIndex=e,t||0===i.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(Ht),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}r&&t.mask.push(this,this._mask),this._render(t);for(var n=0,a=this.children.length;n<a;n++)this.children[n].render(t);t.batch.flush(),r&&t.mask.pop(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"===typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<i.length;++n)i[n].destroy(e)},r.width.get=function(){return this.scale.x*this.getLocalBounds().width},r.width.set=function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},r.height.get=function(){return this.scale.y*this.getLocalBounds().height},r.height.set=function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},Object.defineProperties(e.prototype,r),e}(Yt);zt.prototype.containerUpdateTransform=zt.prototype.updateTransform;
/*!
 * @pixi/accessibility - v5.1.5
 * Compiled Tue, 24 Sep 2019 04:07:05 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Wt={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1};Yt.mixin(Wt);var $t=9,qt=100,Kt=0,Zt=0,Jt=2,Qt=1,te=-1e3,ee=-1e3,re=2,ie=function(t){this._hookDiv=null,(l.a.tablet||l.a.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width=qt+"px",e.style.height=qt+"px",e.style.position="absolute",e.style.top=Kt+"px",e.style.left=Zt+"px",e.style.zIndex=Jt,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessibility=!1,window.addEventListener("keydown",this._onKeyDown,!1)};ie.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width=Qt+"px",e.style.height=Qt+"px",e.style.position="absolute",e.style.top=te+"px",e.style.left=ee+"px",e.style.zIndex=re,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",(function(){t.isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},ie.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},ie.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},ie.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessibility&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},ie.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},ie.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var n=0;n<this.children.length;n++){var a=this.children[n];if(a.renderId!==this.renderId)a._accessibleActive=!1,$(this.children,n,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,n--,0===this.children.length&&this.deactivate();else{i=a._accessibleDiv;var s=a.hitArea,o=a.worldTransform;a.hitArea?(i.style.left=(o.tx+s.x*o.a)*e+"px",i.style.top=(o.ty+s.y*o.d)*r+"px",i.style.width=s.width*o.a*e+"px",i.style.height=s.height*o.d*r+"px"):(s=a.getBounds(),this.capHitArea(s),i.style.left=s.x*e+"px",i.style.top=s.y*r+"px",i.style.width=s.width*e+"px",i.style.height=s.height*r+"px",i.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(i.title=a.accessibleTitle),i.getAttribute("aria-label")!==a.accessibleHint&&null!==a.accessibleHint&&i.setAttribute("aria-label",a.accessibleHint))}}this.renderId++}},ie.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},ie.prototype.addChild=function(t){var e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=qt+"px",e.style.height=qt+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=Jt,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},ie.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},ie.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},ie.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},ie.prototype._onKeyDown=function(t){t.keyCode===$t&&this.activate()},ie.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},ie.prototype.destroy=function(){this.destroyTouchHook(),this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null};
/*!
 * @pixi/runner - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var ne=function(t){this.items=[],this._name=t,this._aliasCount=0},ae={empty:{configurable:!0},name:{configurable:!0}};ne.prototype.emit=function(t,e,r,i,n,a,s,o){if(arguments.length>8)throw new Error("max arguments reached");var h=this,l=h.name,u=h.items;this._aliasCount++;for(var c=0,f=u.length;c<f;c++)u[c][l](t,e,r,i,n,a,s,o);return u===this.items&&this._aliasCount--,this},ne.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},ne.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},ne.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},ne.prototype.contains=function(t){return-1!==this.items.indexOf(t)},ne.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},ne.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},ae.empty.get=function(){return 0===this.items.length},ae.name.get=function(){return this._name},Object.defineProperties(ne.prototype,ae),ne.prototype.dispatch=ne.prototype.emit,ne.prototype.run=ne.prototype.emit,
/*!
 * @pixi/ticker - v5.1.3
 * Compiled Mon, 09 Sep 2019 04:51:53 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
f.TARGET_FPMS=.06;var se={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50},oe=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.fn=t,this.context=e,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1};oe.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},oe.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},oe.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},oe.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e};var he=function(){var t=this;this._head=new oe(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/f.TARGET_FPMS,this.elapsedMS=1/f.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}},le={FPS:{configurable:!0},minFPS:{configurable:!0},maxFPS:{configurable:!0}},ue={shared:{configurable:!0},system:{configurable:!0}};he.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},he.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},he.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},he.prototype.add=function(t,e,r){return void 0===r&&(r=se.NORMAL),this._addListener(new oe(t,e,r))},he.prototype.addOnce=function(t,e,r){return void 0===r&&(r=se.NORMAL),this._addListener(new oe(t,e,r,!0))},he.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){while(e){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},he.prototype.remove=function(t,e){var r=this._head.next;while(r)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},he.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},he.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},he.prototype.destroy=function(){if(!this._protected){this.stop();var t=this._head.next;while(t)t=t.destroy(!0);this._head.destroy(),this._head=null}},he.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*f.TARGET_FPMS;var i=this._head,n=i.next;while(n)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},le.FPS.get=function(){return 1e3/this.elapsedMS},le.minFPS.get=function(){return 1e3/this._maxElapsedMS},le.minFPS.set=function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,f.TARGET_FPMS);this._maxElapsedMS=1/r},le.maxFPS.get=function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},le.maxFPS.set=function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},ue.shared.get=function(){if(!he._shared){var t=he._shared=new he;t.autoStart=!0,t._protected=!0}return he._shared},ue.system.get=function(){if(!he._system){var t=he._system=new he;t.autoStart=!0,t._protected=!0}return he._system},Object.defineProperties(he.prototype,le),Object.defineProperties(he,ue);var ce=function(){};ce.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,se.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?he.shared:new he,t.autoStart&&this.start()},ce.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}};
/*!
 * @pixi/core - v5.1.5
 * Compiled Tue, 24 Sep 2019 04:07:05 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var fe=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new ne("setRealSize",2),this.onUpdate=new ne("update"),this.onError=new ne("onError",1)},pe={valid:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};fe.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.run(this._width,this._height)},fe.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},fe.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.run(t,e))},pe.valid.get=function(){return!!this._width&&!!this._height},fe.prototype.update=function(){this.destroyed||this.onUpdate.run()},fe.prototype.load=function(){return Promise.resolve()},pe.width.get=function(){return this._width},pe.height.get=function(){return this._height},fe.prototype.upload=function(t,e,r){return!1},fe.prototype.style=function(t,e,r){return!1},fe.prototype.dispose=function(){},fe.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},Object.defineProperties(fe.prototype,pe);var de=function(t){function e(e){var r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;t.call(this,r,i),this.source=e,this.noSubImage=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=ft(e):!1!==r&&(t.crossOrigin="string"===typeof r?r:"anonymous")},e.prototype.upload=function(t,e,r,i){var n=t.gl,a=e.realWidth,s=e.realHeight;return i=i||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),this.noSubImage||e.target!==n.TEXTURE_2D||r.width!==a||r.height!==s?(r.width=a,r.height=s,n.texImage2D(e.target,0,e.format,e.format,e.type,i)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,i),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source.naturalWidth||this.source.videoWidth||this.source.width,r=this.source.naturalHeight||this.source.videoHeight||this.source.height;this.resize(e,r),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(fe),_e=function(t){function e(e,r){if(r=r||{},!(e instanceof HTMLImageElement)){var i=new Image;t.crossOrigin(i,e,r.crossorigin),i.src=e,e=i}t.call(this,e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(void 0!==r.createBitmap?r.createBitmap:f.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,this.premultiplyAlpha=!1!==r.premultiplyAlpha,this.bitmap=null,this._load=null,!1!==r.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(t){var e=this;return void 0!==t&&(this.createBitmap=t),this._load?this._load:(this._load=new Promise((function(t){e.url=e.source.src;var r=e,i=r.source,n=function(){e.destroyed||(i.onload=null,i.onerror=null,e.resize(i.width,i.height),e._load=null,e.createBitmap?t(e.process()):t(e))};i.complete&&i.src?n():(i.onload=n,i.onerror=function(t){return e.onError.run(t)})})),this._load)},e.prototype.process=function(){var t=this;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(this.source,0,0,this.source.width,this.source.height,{premultiplyAlpha:this.premultiplyAlpha?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,r,i){if(r.premultiplyAlpha=this.premultiplyAlpha,!this.createBitmap)return t.prototype.upload.call(this,e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,r,i,this.bitmap),!this.preserveBitmap){var n=!0;for(var a in r._glTextures){var s=r._glTextures[a];if(s!==i&&s.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e}(de),me=[];function ye(t,e){if(!t)return null;var r="";if("string"===typeof t){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(var n=me.length-1;n>=0;--n){var a=me[n];if(a.test&&a.test(t,r))return new a(t,e)}return new _e(t,e)}var ve=function(t){function e(e,r){var i=r||{},n=i.width,a=i.height;if(!n||!a)throw new Error("BufferResource width or height invalid");t.call(this,n,a),this.data=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,r.internalFormat,e.width,e.height,0,e.format,r.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(fe),ge={scaleMode:S.NEAREST,format:D.RGBA,premultiplyAlpha:!1},be=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=null),t.call(this),r=r||{};var i=r.premultiplyAlpha,n=r.mipmap,a=r.anisotropicLevel,s=r.scaleMode,o=r.width,h=r.height,l=r.wrapMode,u=r.format,c=r.type,p=r.target,d=r.resolution,_=r.resourceOptions;!e||e instanceof fe||(e=ye(e,_),e.internal=!0),this.width=o||0,this.height=h||0,this.resolution=d||f.RESOLUTION,this.mipmap=void 0!==n?n:f.MIPMAP_TEXTURES,this.anisotropicLevel=void 0!==a?a:f.ANISOTROPIC_LEVEL,this.wrapMode=l||f.WRAP_MODE,this.scaleMode=void 0!==s?s:f.SCALE_MODE,this.format=u||D.RGBA,this.type=c||w.UNSIGNED_BYTE,this.target=p||A.TEXTURE_2D,this.premultiplyAlpha=!1!==i,this.uid=K(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&h>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this.setResource(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={realWidth:{configurable:!0},realHeight:{configurable:!0}};return r.realWidth.get=function(){return Math.ceil(this.width*this.resolution-1e-4)},r.realHeight.get=function(){return Math.ceil(this.height*this.resolution-1e-4)},e.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=Q(this.realWidth)&&Q(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete it[this.cacheId],delete rt[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.from=function(t,r){var i=null;"string"===typeof t?i=t:(t._pixiId||(t._pixiId="pixiid_"+K()),i=t._pixiId);var n=it[i];return n||(n=new e(t,r),n.cacheId=i,e.addToCache(n,i)),n},e.fromBuffer=function(t,r,i,n){t=t||new Float32Array(r*i*4);var a=new ve(t,{width:r,height:i}),s=t instanceof Float32Array?w.FLOAT:w.UNSIGNED_BYTE;return new e(a,Object.assign(ge,n||{width:r,height:i,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),it[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),it[e]=t)},e.removeFromCache=function(t){if("string"===typeof t){var e=it[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete it[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete it[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},Object.defineProperties(e.prototype,r),e}(d.a);be._globalBatch=0;var xe=function(t){function e(e,r){var i;r=r||{};var n=e;Array.isArray(e)&&(i=e,n=e.length),t.call(this,r.width,r.height),this.items=[],this.itemDirtyIds=[];for(var a=0;a<n;a++){var s=new be;this.items.push(s),this.itemDirtyIds.push(-1)}if(this.length=n,this._load=null,i)for(var o=0;o<n;o++)this.addResourceAt(ye(i[o],r),o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){var r=this.items[e];if(!r)throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=A.TEXTURE_2D_ARRAY;for(var r=0;r<this.length;r++)this.items[r].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})),r=e.map((function(t){return t.load()}));return this._load=Promise.all(r).then((function(){var r=e[0],i=r.width,n=r.height;return t.resize(i,n),Promise.resolve(t)})),this._load},e.prototype.upload=function(t,e,r){var i=this,n=i.length,a=i.itemDirtyIds,s=i.items,o=t.gl;r.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,n,0,e.format,e.type,null);for(var h=0;h<n;h++){var l=s[h];a[h]<l.dirtyId&&(a[h]=l.dirtyId,l.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,h,l.resource.width,l.resource.height,1,e.format,e.type,l.resource.source))}return!0},e}(fe),Te=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(de),De=function(t){function e(r,i){if(i=i||{},t.call(this,r,i),this.length!==e.SIDES)throw new Error("Invalid length. Got "+this.length+", expected 6");for(var n=0;n<e.SIDES;n++)this.items[n].target=A.TEXTURE_CUBE_MAP_POSITIVE_X+n;!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=A.TEXTURE_CUBE_MAP},e.prototype.upload=function(t,r,i){for(var n=this.itemDirtyIds,a=0;a<e.SIDES;a++){var s=this.items[a];n[a]<s.dirtyId&&(n[a]=s.dirtyId,s.valid&&s.resource.upload(t,s,i))}return!0},e}(xe);De.SIDES=6;var Ae=function(t){function e(e,r){r=r||{},t.call(this,document.createElement("canvas")),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,!1!==r.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;return this._load?this._load:(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()})),this._load)},e.prototype._loadSvg=function(){var e=this,r=new Image;t.crossOrigin(r,this.svg,this._crossorigin),r.src=this.svg,r.onerror=function(t){r.onerror=null,e.onError.run(t)},r.onload=function(){var t=r.width,i=r.height;if(!t||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=t*e.scale,a=i*e.scale;(e._overrideWidth||e._overrideHeight)&&(n=e._overrideWidth||e._overrideHeight/i*t,a=e._overrideHeight||e._overrideWidth/t*i),n=Math.round(n),a=Math.round(a);var s=e.source;s.width=n,s.height=a,s._pixiId="canvas_"+K(),s.getContext("2d").drawImage(r,0,0,t,i,0,0,n,a),e._resolve(),e._resolve=null}},e.getSize=function(t){var r=e.SVG_SIZE.exec(t),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"===typeof t&&0===t.indexOf("data:image/svg+xml;base64")||"string"===typeof t&&0===t.indexOf("<svg")},e}(de);Ae.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var we=function(t){function e(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){var i=document.createElement("video");i.setAttribute("preload","auto"),i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline",""),"string"===typeof e&&(e=[e]),t.crossOrigin(i,e[0].src||e[0],r.crossorigin);for(var n=0;n<e.length;++n){var a=document.createElement("source"),s=e[n],o=s.src,h=s.mime;o=o||e[n];var l=o.split("?").shift().toLowerCase(),u=l.substr(l.lastIndexOf(".")+1);h=h||"video/"+u,a.src=o,a.type=h,i.appendChild(a)}e=i}t.call(this,e),this.noSubImage=!0,this._autoUpdate=!0,this._isAutoUpdating=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==r.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),!1!==r.autoLoad&&this.load()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={autoUpdate:{configurable:!0},updateFPS:{configurable:!0}};return e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var r=he.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this,e),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(r){t.valid?r(t):(t._resolve=r,e.load())})),this._load},e.prototype._onError=function(){this.source.removeEventListener("error",this._onError,!0),this.onError.run(event)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(he.shared.add(this.update,this),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(he.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){var t=this,e=t.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var r=this.valid;this.resize(e.videoWidth,e.videoHeight),!r&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},e.prototype.dispose=function(){this._isAutoUpdating&&he.shared.remove(this.update,this),this.source&&(this.source.removeEventListener("error",this._onError,!0),this.source.pause(),this.source.src="",this.source.load()),t.prototype.dispose.call(this)},r.autoUpdate.get=function(){return this._autoUpdate},r.autoUpdate.set=function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(he.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(he.shared.add(this.update,this),this._isAutoUpdating=!0))},r.updateFPS.get=function(){return this._updateFPS},r.updateFPS.set=function(t){t!==this._updateFPS&&(this._updateFPS=t)},e.test=function(t,r){return t instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1},Object.defineProperties(e.prototype,r),e}(de);we.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];var Se=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(de);me.push(_e,Se,Te,we,Ae,ve,De,xe);var Ee={INSTALLED:me,autoDetectResource:ye,ArrayResource:xe,BufferResource:ve,CanvasResource:Te,CubeResource:De,ImageResource:_e,ImageBitmapResource:Se,SVGResource:Ae,VideoResource:we,Resource:fe,BaseImageResource:de},Pe=function(t){this.renderer=t};Pe.prototype.destroy=function(){this.renderer=null};var Oe=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,i.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(ve),Ie=function(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new ne("disposeFramebuffer",2)},Ce={colorTexture:{configurable:!0}};Ce.colorTexture.get=function(){return this.colorTextures[0]},Ie.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new be(null,{scaleMode:0,resolution:1,mipmap:!1,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},Ie.prototype.addDepthTexture=function(t){return this.depthTexture=t||new be(new Oe(null,{width:this.width,height:this.height}),{scaleMode:0,resolution:1,width:this.width,height:this.height,mipmap:!1,format:D.DEPTH_COMPONENT,type:w.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},Ie.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},Ie.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},Ie.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(t/n,e/n)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(t/a,e/a)}}},Ie.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Object.defineProperties(Ie.prototype,Ce);var Me=function(t){function e(e){if("number"===typeof e){var r=arguments[0],i=arguments[1],n=arguments[2],a=arguments[3];e={width:r,height:i,scaleMode:n,resolution:a}}t.call(this,null,e);var s=e||{},o=s.width,h=s.height;this.mipmap=!1,this.width=Math.ceil(o)||100,this.height=Math.ceil(h)||100,this.valid=!0,this._canvasRenderTarget=null,this.clearColor=[0,0,0,0],this.framebuffer=new Ie(this.width*this.resolution,this.height*this.resolution).addColorTexture(0,this),this.stencilMaskStack=[],this.filterStack=[{}]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.framebuffer=null},e}(be),Fe=function(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)};Fe.prototype.set=function(t,e,r){var i=e.width,n=e.height;if(r){var a=t.width/2/i,s=t.height/2/n,o=t.x/i+a,h=t.y/n+s;r=Ft.add(r,Ft.NW),this.x0=o+a*Ft.uX(r),this.y0=h+s*Ft.uY(r),r=Ft.add(r,2),this.x1=o+a*Ft.uX(r),this.y1=h+s*Ft.uY(r),r=Ft.add(r,2),this.x2=o+a*Ft.uX(r),this.y2=h+s*Ft.uY(r),r=Ft.add(r,2),this.x3=o+a*Ft.uX(r),this.y3=h+s*Ft.uY(r)}else this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3};var Re=new Fe,Be=function(t){function e(r,i,n,a,s,o){if(t.call(this),this.noFrame=!1,i||(this.noFrame=!0,i=new Nt(0,0,1,1)),r instanceof e&&(r=r.baseTexture),this.baseTexture=r,this._frame=i,this.trim=a,this.valid=!1,this.requiresUpdate=!1,this._uvs=Re,this.uvMatrix=null,this.orig=n||i,this._rotate=Number(s||0),!0===s)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new mt(o.x,o.y):new mt(0,0),this._updateID=0,this.textureCacheIds=[],r.valid?this.noFrame?r.valid&&this.onBaseTextureUpdated(r):this.frame=i:r.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&r.on("update",this.onBaseTextureUpdated,this)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={resolution:{configurable:!0},frame:{configurable:!0},rotate:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture,i=r.resource;i&&rt[i.url]&&e.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===Re&&(this._uvs=new Fe),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,r){void 0===r&&(r={});var i=null;"string"===typeof t?i=t:(t._pixiId||(t._pixiId="pixiid_"+K()),i=t._pixiId);var n=rt[i];return n||(r.resolution||(r.resolution=pt(t)),n=new e(new be(t,r)),n.baseTexture.cacheId=i,be.addToCache(n.baseTexture,i),e.addToCache(n,i)),n},e.fromBuffer=function(t,r,i,n){return new e(be.fromBuffer(t,r,i,n))},e.fromLoader=function(t,r,i){var n=new _e(t);n.url=r;var a=new be(n,{scaleMode:f.SCALE_MODE,resolution:pt(r)}),s=new e(a);return i||(i=r),be.addToCache(s.baseTexture,i),e.addToCache(s,i),i!==r&&(be.addToCache(s.baseTexture,r),e.addToCache(s,r)),s},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),rt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),rt[e]=t)},e.removeFromCache=function(t){if("string"===typeof t){var e=rt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete rt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)rt[t.textureCacheIds[i]]===t&&delete rt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},r.resolution.get=function(){return this.baseTexture.resolution},r.frame.get=function(){return this._frame},r.frame.set=function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,a=e+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(a||s){var o=a&&s?"and":"or",h="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,l="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+o+" "+l)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},r.rotate.get=function(){return this._rotate},r.rotate.set=function(t){this._rotate=t,this.valid&&this.updateUvs()},r.width.get=function(){return this.orig.width},r.height.get=function(){return this.orig.height},Object.defineProperties(e.prototype,r),e}(d.a);function Ne(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new Be(new be(new Te(t)))}function Le(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}Be.EMPTY=new Be(new be),Le(Be.EMPTY),Le(Be.EMPTY.baseTexture),Be.WHITE=Ne(),Le(Be.WHITE),Le(Be.WHITE.baseTexture);var ke=function(t){function e(e,r){var i=null;if(!(e instanceof Me)){var n=arguments[1],a=arguments[2],s=arguments[3],o=arguments[4];console.warn("Please use RenderTexture.create("+n+", "+a+") instead of the ctor directly."),i=arguments[0],r=null,e=new Me({width:n,height:a,scaleMode:s,resolution:o})}t.call(this,e,r),this.legacyRenderer=i,this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e,r){void 0===r&&(r=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this,r=e.baseTexture;r.resolution!==t&&(r.setResolution(t),this.resize(r.width,r.height,!1))},e.create=function(t){return"number"===typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new Me(t))},e}(Be),je=function(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0};je.prototype.createTexture=function(t,e){var r=new Me(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new ke(r)},je.prototype.getOptimalTexture=function(t,e,r){void 0===r&&(r=1);var i=je.SCREEN_KEY;t*=r,e*=r,this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight||(t=J(t),e=J(e),i=(65535&t)<<16|65535&e),this.texturePool[i]||(this.texturePool[i]=[]);var n=this.texturePool[i].pop();return n||(n=this.createTexture(t,e)),n.filterPoolKey=i,n.setResolution(r),n},je.prototype.getFilterTexture=function(t,e){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},je.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},je.prototype.returnFilterTexture=function(t){this.returnTexture(t)},je.prototype.clear=function(t){if(t=!1!==t,t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},je.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var e=je.SCREEN_KEY,r=this.texturePool[e];if(this.enableFullScreen=t.width>0&&t.height>0,r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},je.SCREEN_KEY="screen";var Ue=function(t,e,r,i,n,a,s){void 0===r&&(r=!1),void 0===i&&(i=5126),this.buffer=t,this.size=e,this.normalized=r,this.type=i,this.stride=n,this.start=a,this.instance=s};Ue.prototype.destroy=function(){this.buffer=null},Ue.from=function(t,e,r,i,n){return new Ue(t,e,r,i,n)};var Xe=0,Ve=function(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=Xe++,this.disposeRunner=new ne("disposeBuffer",2)};function Ge(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}Ve.prototype.update=function(t){this.data=t||this.data,this._updateID++},Ve.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Ve.prototype.destroy=function(){this.dispose(),this.data=null},Ve.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new Ve(t)};var Ye={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function He(t,e){for(var r=0,i=0,n={},a=0;a<t.length;a++)i+=e[a],r+=t[a].length;for(var s=new ArrayBuffer(4*r),o=null,h=0,l=0;l<t.length;l++){var u=e[l],c=t[l],f=Ge(c);n[f]||(n[f]=new Ye[f](s)),o=n[f];for(var p=0;p<c.length;p++){var d=(p/u|0)*i+h,_=p%u;o[d+_]=c[p]}h+=u}return new Float32Array(s)}var ze={5126:4,5123:2,5121:1},We=0,$e={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},qe=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=We++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new ne("disposeGeometry",2),this.refCount=0};qe.prototype.addAttribute=function(t,e,r,i,n,a,s,o){if(void 0===i&&(i=!1),void 0===o&&(o=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e.data||(e instanceof Array&&(e=new Float32Array(e)),e=new Ve(e));var h=t.split("|");if(h.length>1){for(var l=0;l<h.length;l++)this.addAttribute(h[l],e,r,i,n);return this}var u=this.buffers.indexOf(e);return-1===u&&(this.buffers.push(e),u=this.buffers.length-1),this.attributes[t]=new Ue(u,r,i,n,a,s,o),this.instanced=this.instanced||o,this},qe.prototype.getAttribute=function(t){return this.attributes[t]},qe.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},qe.prototype.addIndex=function(t){return t.data||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ve(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},qe.prototype.getIndex=function(){return this.indexBuffer},qe.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],i=new Ve;for(t in this.attributes){var n=this.attributes[t],a=this.buffers[n.buffer];e.push(a.data),r.push(n.size*ze[n.type]/4),n.buffer=0}for(i.data=He(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},qe.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t],r=this.buffers[e.buffer];return r.data.length/(e.stride/4||e.size)}return 0},qe.prototype.dispose=function(){this.disposeRunner.run(this,!1)},qe.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer.destroy(),this.attributes=null},qe.prototype.clone=function(){for(var t=new qe,e=0;e<this.buffers.length;e++)t.buffers[e]=new Ve(this.buffers[e].data.slice());for(var r in this.attributes){var i=this.attributes[r];t.attributes[r]=new Ue(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},qe.merge=function(t){for(var e,r=new qe,i=[],n=[],a=[],s=0;s<t.length;s++){e=t[s];for(var o=0;o<e.buffers.length;o++)n[o]=n[o]||0,n[o]+=e.buffers[o].data.length,a[o]=0}for(var h=0;h<e.buffers.length;h++)i[h]=new($e[Ge(e.buffers[h].data)])(n[h]),r.buffers[h]=new Ve(i[h]);for(var l=0;l<t.length;l++){e=t[l];for(var u=0;u<e.buffers.length;u++)i[u].set(e.buffers[u].data,a[u]),a[u]+=e.buffers[u].data.length}if(r.attributes=e.attributes,e.indexBuffer){r.indexBuffer=r.buffers[e.buffers.indexOf(e.indexBuffer)],r.indexBuffer.index=!0;for(var c=0,f=0,p=0,d=0,_=0;_<e.buffers.length;_++)if(e.buffers[_]!==e.indexBuffer){d=_;break}for(var m in e.attributes){var y=e.attributes[m];(0|y.buffer)===d&&(f+=y.size*ze[y.type]/4)}for(var v=0;v<t.length;v++){for(var g=t[v].indexBuffer.data,b=0;b<g.length;b++)r.indexBuffer.data[b+p]+=c;c+=e.buffers[d].data.length/f,p+=g.length}}return r};var Ke=function(t){function e(){t.call(this),this.addAttribute("aVertexPosition",[0,0,1,0,1,1,0,1]).addIndex([0,1,3,2])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(qe),Ze=function(t){function e(){t.call(this),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Ve(this.vertices),this.uvBuffer=new Ve(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,e){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(qe),Je=0,Qe=function(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Je++,this.static=!!e};Qe.prototype.update=function(){this.dirtyId++},Qe.prototype.add=function(t,e,r){this.uniforms[t]=new Qe(e,r)},Qe.from=function(t,e){return new Qe(t,e)};var tr=function(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Nt,this.destinationFrame=new Nt,this.filters=[]};tr.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null};var er=function(t){function e(e){t.call(this,e),this.defaultFilterStack=[{}],this.texturePool=new je,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new Ke,this.quadUv=new Ze,this.tempRect=new Nt,this.activeState={},this.globalUniforms=new Qe({outputFrame:this.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this._pixelsWidth=e.view.width,this._pixelsHeight=e.view.height}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){for(var r=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new tr,a=e[0].resolution,s=e[0].padding,o=e[0].autoFit,h=e[0].legacy,l=1;l<e.length;l++){var u=e[l];a=Math.min(a,u.resolution),s=Math.max(s,u.padding),o=o||u.autoFit,h=h||u.legacy}1===i.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),i.push(n),n.resolution=a,n.legacy=h,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(s),o&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(a),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,a),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height,n.renderTexture.filterFrame=n.sourceFrame,r.renderTexture.bind(n.renderTexture,n.sourceFrame),r.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var n=i.inputSize,a=i.inputPixel,s=i.inputClamp;if(n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],a[0]=n[0]*e.resolution,a[1]=n[1]*e.resolution,a[2]=1/a[0],a[3]=1/a[1],s[0]=.5*a[2],s[1]=.5*a[3],s[2]=e.sourceFrame.width*n[2]-.5*a[2],s[3]=e.sourceFrame.height*n[3]-.5*a[3],e.legacy){var o=i.filterArea;o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=e.sourceFrame.x,o[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(1===r.length)r[0].apply(this,e.renderTexture,h.renderTexture,!1,e),this.returnFilterTexture(e.renderTexture);else{var l=e.renderTexture,u=this.getOptimalFilterTexture(l.width,l.height,e.resolution);u.filterFrame=l.filterFrame;var c=0;for(c=0;c<r.length-1;++c){r[c].apply(this,l,u,!0,e);var f=l;l=u,u=f}r[c].apply(this,l,h.renderTexture,!1,e),this.returnFilterTexture(l),this.returnFilterTexture(u)}e.clear(),this.statePool.push(e)},e.prototype.applyFilter=function(t,e,r,i){var n=this.renderer;n.renderTexture.bind(r,r?r.filterFrame:null),i&&n.renderTexture.clear(),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.set(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(T.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(T.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,a=e._texture,s=a.orig,o=t.set(n.width,0,0,n.height,i.x,i.y),h=e.worldTransform.copyTo(Dt.TEMP_MATRIX);return h.invert(),o.prepend(h),o.scale(1/s.width,1/s.height),o.translate(e.anchor.x,e.anchor.y),o},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(t,e,r)},e.prototype.getFilterTexture=function(t,e){if("number"===typeof t){var r=t;t=e,e=r}t=t||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(Pe),rr=function(t){this.renderer=t};rr.prototype.flush=function(){},rr.prototype.destroy=function(){this.renderer=null},rr.prototype.start=function(){},rr.prototype.stop=function(){this.flush()},rr.prototype.render=function(t){};var ir=function(t){function e(e){t.call(this,e),this.emptyRenderer=new rr(e),this.currentRenderer=this.emptyRenderer}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e}(Pe);f.PREFER_ENV=l.a.any?g.WEBGL:g.WEBGL2;var nr=0,ar=function(t){function e(e){t.call(this,e),this.webGLVersion=1,this.extensions={},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={isLost:{configurable:!0}};return r.isLost.get=function(){return!this.gl||this.gl.isContextLost()},e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=nr++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=nr++,this.renderer.runners.contextChange.run(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var r;if(f.PREFER_ENV>=g.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),r},e.prototype.getExtensions=function(){var t=this,e=t.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBKIT_WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:e.getExtension("EXT_color_buffer_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.run(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.gl.flush()},e.prototype.validateContext=function(t){var e=t.getContextAttributes();e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")},Object.defineProperties(e.prototype,r),e}(Pe),sr=function(t){function e(e){t.call(this,e),this.managedFramebuffers=[],this.unknownFramebuffer=new Ie(10,10)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={size:{configurable:!0}};return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Nt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;f.PREFER_ENV===g.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}},e.prototype.bind=function(t,e){var r=this,i=r.gl;if(t){var n=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,n.framebuffer)),n.dirtyId!==t.dirtyId&&(n.dirtyId=t.dirtyId,n.dirtyFormat!==t.dirtyFormat?(n.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):n.dirtySize!==t.dirtySize&&(n.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var a=0;a<t.colorTextures.length;a++)t.colorTextures[a].texturePart?this.renderer.texture.unbind(t.colorTextures[a].texture):this.renderer.texture.unbind(t.colorTextures[a]);t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,r,i){var n=this.viewport;n.width===r&&n.height===i&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=r,n.height=i,this.gl.viewport(t,e,r,i))},r.size.get=function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},e.prototype.clear=function(t,e,r,i){var n=this,a=n.gl;a.clearColor(t,e,r,i),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},e.prototype.initFramebuffer=function(t){var e=this,r=e.gl,i={framebuffer:r.createFramebuffer(),stencil:null,dirtyId:0,dirtyFormat:0,dirtySize:0};return t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},e.prototype.resizeFramebuffer=function(t){var e=this,r=e.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height));for(var n=t.colorTextures,a=0;a<n.length;a++)this.renderer.texture.bind(n[a],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this,r=e.gl,i=t.glFramebuffers[this.CONTEXT_UID],n=t.colorTextures,a=n.length;r.drawBuffers||(a=Math.min(a,1));for(var s=[],o=0;o<a;o++){var h=t.colorTextures[o];h.texturePart?(this.renderer.texture.bind(h.texture,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+o,r.TEXTURE_CUBE_MAP_NEGATIVE_X+h.side,h.texture._glTextures[this.CONTEXT_UID].texture,0)):(this.renderer.texture.bind(h,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+o,r.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,0)),s.push(r.COLOR_ATTACHMENT0+o)}if(s.length>1&&r.drawBuffers(s),t.depthTexture){var l=this.writeDepthTexture;if(l){var u=t.depthTexture;this.renderer.texture.bind(u,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,0)}}i.stencil||!t.stencil&&!t.depth||(i.stencil=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height),t.depthTexture||r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil))},e.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(r.framebuffer),r.stencil&&i.deleteRenderbuffer(r.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var r=t.width,i=t.height,n=this.gl,a=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,a),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,i),e.stencil=a,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,a)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Nt},Object.defineProperties(e.prototype,r),e}(Pe),or=function(t){this.buffer=t,this.updateID=-1,this.byteLength=-1,this.refCount=0},hr={5126:4,5123:2,5121:1},lr=function(t){function e(e){t.call(this,e),this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.boundBuffers={},this.managedGeometries={},this.managedBuffers={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!t.createVertexArray){var r=this.renderer.context.extensions.vertexArrayObject;f.PREFER_ENV===g.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(t){return r.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return r.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){},t.bindVertexArray=function(){},t.deleteVertexArray=function(){})}if(!t.vertexAttribDivisor){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(t,e){return i.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,n,a){return i.drawElementsInstancedANGLE(t,e,r,n,a)},t.drawArraysInstanced=function(t,e,r,n){return i.drawArraysInstancedANGLE(t,e,r,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this,i=r.gl,n=t.glVertexArrayObjects[this.CONTEXT_UID];n||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=n={});var a=n[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==a&&(this._activeVao=a,this.hasVao?i.bindVertexArray(a):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this,r=e.gl,i=0;i<t.buffers.length;i++){var n=t.buffers[i],a=n._glBuffers[this.CONTEXT_UID];if(n._updateID!==a.updateID){a.updateID=n._updateID;var s=n.index?r.ELEMENT_ARRAY_BUFFER:r.ARRAY_BUFFER;if(r.bindBuffer(s,a.buffer),this._boundBuffer=a,a.byteLength>=n.data.byteLength)r.bufferSubData(s,0,n.data);else{var o=n.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;a.byteLength=n.data.byteLength,r.bufferData(s,n.data,o)}}}},e.prototype.checkCompatibility=function(t,e){var r=t.attributes,i=e.attributeData;for(var n in i)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(t,e){var r=t.attributes,i=e.attributeData,n=["g",t.id];for(var a in r)i[a]&&n.push(a);return n.join("-")},e.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var r=this.gl,i=this.CONTEXT_UID,n=this.getSignature(t,e),a=t.glVertexArrayObjects[this.CONTEXT_UID],s=a[n];if(s)return a[e.id]=s,s;var o=t.buffers,h=t.attributes,l={},u={};for(var c in o)l[c]=0,u[c]=0;for(var f in h)!h[f].size&&e.attributeData[f]?h[f].size=e.attributeData[f].size:h[f].size||console.warn("PIXI Geometry attribute '"+f+"' size cannot be determined (likely the bound shader does not have the attribute)"),l[h[f].buffer]+=h[f].size*hr[h[f].type];for(var p in h){var d=h[p],_=d.size;void 0===d.stride&&(l[d.buffer]===_*hr[d.type]?d.stride=0:d.stride=l[d.buffer]),void 0===d.start&&(d.start=u[d.buffer],u[d.buffer]+=_*hr[d.type])}s=r.createVertexArray(),r.bindVertexArray(s);for(var m=0;m<o.length;m++){var y=o[m];y._glBuffers[i]||(y._glBuffers[i]=new or(r.createBuffer()),this.managedBuffers[y.id]=y,y.disposeRunner.add(this)),y._glBuffers[i].refCount++}return this.activateVao(t,e),this._activeVao=s,a[e.id]=s,a[n]=s,s},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),r){for(var a=0;a<n.length;a++){var s=n[a]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||e||this.disposeBuffer(n[a],e)}if(!e)for(var o in r)if("g"===o[0]){var h=r[o];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t);e=Object.keys(this.managedBuffers);for(var i=0;i<e.length;i++)this.disposeBuffer(this.managedBuffers[e[i]],t)},e.prototype.activateVao=function(t,e){var r=this.gl,i=this.CONTEXT_UID,n=t.buffers,a=t.attributes;t.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[i].buffer);var s=null;for(var o in a){var h=a[o],l=n[h.buffer],u=l._glBuffers[i];if(e.attributeData[o]){s!==u&&(r.bindBuffer(r.ARRAY_BUFFER,u.buffer),s=u);var c=e.attributeData[o].location;if(r.enableVertexAttribArray(c),r.vertexAttribPointer(c,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(c,1)}}}},e.prototype.draw=function(t,e,r,i){var n=this,a=n.gl,s=this._activeGeometry;if(s.indexBuffer){var o=s.indexBuffer.data.BYTES_PER_ELEMENT,h=2===o?a.UNSIGNED_SHORT:a.UNSIGNED_INT;2===o||4===o&&this.canUseUInt32ElementIndex?s.instanced?a.drawElementsInstanced(t,e||s.indexBuffer.data.length,h,(r||0)*o,i||1):a.drawElements(t,e||s.indexBuffer.data.length,h,(r||0)*o):console.warn("unsupported index buffer type: uint32")}else s.instanced?a.drawArraysInstanced(t,r,e||s.getSize(),i||1):a.drawArrays(t,r,e||s.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(Pe);function ur(t,e,r,i){var n=cr(t,t.VERTEX_SHADER,e),a=cr(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,a),i)for(var o in i)t.bindAttribLocation(s,i[o],o);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(a),s}function cr(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(console.warn(r),console.error(t.getShaderInfoLog(i)),null)}function fr(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return pr(2*e);case"bvec3":return pr(3*e);case"bvec4":return pr(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function pr(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}var dr,_r={},mr=_r;function yr(){if(mr===_r||mr.isContextLost()){var t,e=document.createElement("canvas");f.PREFER_ENV>=g.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),mr=t}return mr}function vr(){if(!dr){dr=I.MEDIUM;var t=yr();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);dr=e.precision?I.HIGH:I.MEDIUM}}return dr}function gr(t,e,r){if("precision"!==t.substring(0,9)){var i=e;return e===I.HIGH&&r!==I.HIGH&&(i=I.MEDIUM),"precision "+i+" float;\n"+t}return r!==I.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var br={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function xr(t){return br[t]}var Tr=null,Dr={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"};function Ar(t,e){if(!Tr){var r=Object.keys(Dr);Tr={};for(var i=0;i<r.length;++i){var n=r[i];Tr[t[n]]=Dr[n]}}return Tr[e]}var wr={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Sr={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Er(t,e){var r=0,i="var v = null;\n    var cv = null\n    var gl = renderer.gl";for(var n in t.uniforms){var a=e[n];if(a)if("float"===a.type&&1===a.size)i+="\n            if(uv."+n+" !== ud."+n+".value)\n            {\n                ud."+n+".value = uv."+n+"\n                gl.uniform1f(ud."+n+".location, uv."+n+")\n            }\n";else if("sampler2D"!==a.type&&"samplerCube"!==a.type&&"sampler2DArray"!==a.type||1!==a.size||a.isArray)if("mat3"===a.type&&1===a.size)void 0!==t.uniforms[n].a?i+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+".toArray(true));\n                \n":i+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+");\n                \n";else if("vec2"===a.type&&1===a.size)void 0!==t.uniforms[n].x?i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud."+n+".location, v.x, v.y);\n                }\n":i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud."+n+".location, v[0], v[1]);\n                }\n                \n";else if("vec4"===a.type&&1===a.size)void 0!==t.uniforms[n].width?i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud."+n+".location, v.x, v.y, v.width, v.height)\n                }\n":i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud."+n+".location, v[0], v[1], v[2], v[3])\n                }\n                \n";else{var s=1===a.size?wr:Sr,o=s[a.type].replace("location","ud."+n+".location");i+="\n            cv = ud."+n+".value;\n            v = uv."+n+";\n            "+o+";\n"}else i+="\n            renderer.texture.bind(uv."+n+", "+r+");\n\n            if(ud."+n+".value !== "+r+")\n            {\n                ud."+n+".value = "+r+";\n                gl.uniform1i(ud."+n+".location, "+r+");\n; // eslint-disable-line max-len\n            }\n",r++;else t.uniforms[n].group&&(i+="\n                    renderer.shader.syncUniformGroup(uv."+n+");\n                ")}return new Function("ud","uv","renderer",i)}var Pr,Or=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Ir(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");var r=e.createShader(e.FRAGMENT_SHADER);while(1){var i=Or.replace(/%forloop%/gi,Cr(t));if(e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}function Cr(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}function Mr(){if("boolean"===typeof Pr)return Pr;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Pr=!0===t({a:"b"},"a","b")}catch(e){Pr=!1}return Pr}var Fr="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}",Rr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n",Br=0,Nr={},Lr=function t(e,r,i){void 0===i&&(i="pixi-shader"),this.id=Br++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),Nr[i]?(Nr[i]++,i+="-"+Nr[i]):Nr[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=gr(this.vertexSrc,f.PRECISION_VERTEX,I.HIGH),this.fragmentSrc=gr(this.fragmentSrc,f.PRECISION_FRAGMENT,vr())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null},kr={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};Lr.prototype.extractData=function(t,e){var r=yr();if(r){var i=ur(r,t,e);this.attributeData=this.getAttributeData(i,r),this.uniformData=this.getUniformData(i,r),r.deleteProgram(i)}else this.uniformData={},this.attributeData={}},Lr.prototype.getAttributeData=function(t,e){for(var r={},i=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),a=0;a<n;a++){var s=e.getActiveAttrib(t,a),o=Ar(e,s.type),h={type:o,name:s.name,size:xr(o),location:0};r[s.name]=h,i.push(h)}i.sort((function(t,e){return t.name>e.name?1:-1}));for(var l=0;l<i.length;l++)i[l].location=l;return r},Lr.prototype.getUniformData=function(t,e){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<i;n++){var a=e.getActiveUniform(t,n),s=a.name.replace(/\[.*?\]/,""),o=a.name.match(/\[.*?\]/,""),h=Ar(e,a.type);r[s]={type:h,size:a.size,isArray:o,value:fr(h,a.size)}}return r},kr.defaultVertexSrc.get=function(){return Rr},kr.defaultFragmentSrc.get=function(){return Fr},Lr.from=function(t,e,r){var i=t+e,n=et[i];return n||(et[i]=n=new Lr(t,e,r)),n},Object.defineProperties(Lr,kr);var jr=function(t,e){for(var r in this.program=t,this.uniformGroup=e?e instanceof Qe?e:new Qe(e):new Qe({}),t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))},Ur={uniforms:{configurable:!0}};jr.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var i=e.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},jr.prototype.destroy=function(){this.uniformGroup=null},Ur.uniforms.get=function(){return this.uniformGroup.uniforms},jr.from=function(t,e,r){var i=Lr.from(t,e);return new jr(i,r)},Object.defineProperties(jr.prototype,Ur);var Xr=0,Vr=1,Gr=2,Yr=3,Hr=4,zr=function(){this.data=0,this.blendMode=x.NORMAL,this.polygonOffset=0,this.blend=!0},Wr={blend:{configurable:!0},offsets:{configurable:!0},culling:{configurable:!0},depthTest:{configurable:!0},clockwiseFrontFace:{configurable:!0},blendMode:{configurable:!0},polygonOffset:{configurable:!0}};Wr.blend.get=function(){return!!(this.data&1<<Xr)},Wr.blend.set=function(t){!!(this.data&1<<Xr)!==t&&(this.data^=1<<Xr)},Wr.offsets.get=function(){return!!(this.data&1<<Vr)},Wr.offsets.set=function(t){!!(this.data&1<<Vr)!==t&&(this.data^=1<<Vr)},Wr.culling.get=function(){return!!(this.data&1<<Gr)},Wr.culling.set=function(t){!!(this.data&1<<Gr)!==t&&(this.data^=1<<Gr)},Wr.depthTest.get=function(){return!!(this.data&1<<Yr)},Wr.depthTest.set=function(t){!!(this.data&1<<Yr)!==t&&(this.data^=1<<Yr)},Wr.clockwiseFrontFace.get=function(){return!!(this.data&1<<Hr)},Wr.clockwiseFrontFace.set=function(t){!!(this.data&1<<Hr)!==t&&(this.data^=1<<Hr)},Wr.blendMode.get=function(){return this._blendMode},Wr.blendMode.set=function(t){this.blend=t!==x.NONE,this._blendMode=t},Wr.polygonOffset.get=function(){return this._polygonOffset},Wr.polygonOffset.set=function(t){this.offsets=!!t,this._polygonOffset=t},zr.for2d=function(){var t=new zr;return t.depthTest=!1,t.blend=!0,t},Object.defineProperties(zr.prototype,Wr);var $r="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",qr="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n",Kr=function(t){function e(r,i,n){var a=Lr.from(r||e.defaultVertexSrc,i||e.defaultFragmentSrc);t.call(this,a,n),this.padding=0,this.resolution=f.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0,this.legacy=!!this.program.attributeData.aTextureCoord,this.state=new zr}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blendMode:{configurable:!0}},i={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};return e.prototype.apply=function(t,e,r,i,n){t.applyFilter(this,e,r,i,n)},r.blendMode.get=function(){return this.state.blendMode},r.blendMode.set=function(t){this.state.blendMode=t},i.defaultVertexSrc.get=function(){return $r},i.defaultFragmentSrc.get=function(){return qr},Object.defineProperties(e.prototype,r),Object.defineProperties(e,i),e}(jr);Kr.SOURCE_KEY_MAP={};var Zr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",Jr="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",Qr=new Dt,ti=function(t,e){this._texture=t,this.mapCoord=new Dt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._updateID=-1,this.clampOffset=0,this.clampMargin="undefined"===typeof e?.5:e,this.isSimple=!1},ei={texture:{configurable:!0}};ei.texture.get=function(){return this._texture},ei.texture.set=function(t){this._texture=t,this._updateID=-1},ti.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],a=t[i+1];e[i]=n*r.a+a*r.c+r.tx,e[i+1]=n*r.b+a*r.d+r.ty}return e},ti.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._updateID===e._updateID)return!1;this._updateID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(Qr.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(Qr));var a=e.baseTexture,s=this.uClampFrame,o=this.clampMargin/a.resolution,h=this.clampOffset;return s[0]=(e._frame.x+o+h)/a.width,s[1]=(e._frame.y+o+h)/a.height,s[2]=(e._frame.x+e._frame.width-o+h)/a.width,s[3]=(e._frame.y+e._frame.height-o+h)/a.height,this.uClampOffset[0]=h/a.realWidth,this.uClampOffset[1]=h/a.realHeight,this.isSimple=e._frame.width===a.width&&e._frame.height===a.height&&0===e.rotate,!0},Object.defineProperties(ti.prototype,ei);var ri=function(t){function e(e){var r=new Dt;t.call(this,Zr,Jr),e.renderable=!1,this.maskSprite=e,this.maskMatrix=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t,e,r,i){var n=this.maskSprite,a=this.maskSprite.texture;a.valid&&(a.transform||(a.transform=new ti(a,0)),a.transform.update(),this.uniforms.npmAlpha=a.baseTexture.premultiplyAlpha?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(a.transform.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=a.transform.uClampFrame,t.applyFilter(this,e,r,i))},e}(Kr),ii=function(t){function e(e){t.call(this,e),this.scissor=!1,this.scissorData=null,this.scissorRenderTarget=null,this.enableScissor=!1,this.alphaMaskPool=[],this.alphaMaskIndex=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){if(e.isSprite)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencil.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,i=Math.atan2(r.b,r.a);i=Math.round(i*(180/Math.PI)),i%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.pop=function(t,e){e.isSprite?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencil.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new ri(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e;var i=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filter.push(t,r),t.filterArea=i,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.batch.flush(),this.renderer.stencil.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.stencil.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,i=e.getBounds();i.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var n=this.renderer.resolution;this.renderer.gl.scissor(i.x*n,(r.root?r.size.height-i.y-i.height:i.y)*n,i.width*n,i.height*n),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer,e=t.gl;e.disable(e.SCISSOR_TEST)},e}(Pe),ni=function(t){function e(e){t.call(this,e),this.stencilMaskStack=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.stencilMaskStack.length;this.stencilMaskStack=t,t.length!==r&&(0===t.length?e.disable(e.STENCIL_TEST):(e.enable(e.STENCIL_TEST),this._useCurrent()))},e.prototype.pushStencil=function(t){var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&(this.renderer.framebuffer.forceStencil(),e.enable(e.STENCIL_TEST)),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},e.prototype.popStencil=function(){var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){t.prototype.destroy.call(this,this),this.stencilMaskStack=null},e}(Pe),ai=function(t){function e(e){t.call(this,e),this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Dt,this.transform=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,r,i){var n=this.projectionMatrix;i?(n.a=1/t.width*2*r,n.d=-1/t.height*2*r,n.tx=-1-e.x*n.a,n.ty=1-e.y*n.d):(n.a=1/t.width*2*r,n.d=1/t.height*2*r,n.tx=-1-e.x*n.a,n.ty=-1-e.y*n.d)},e.prototype.setTransform=function(){},e}(Pe),si=new Nt,oi=function(t){function e(e){t.call(this,e),this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Nt,this.destinationFrame=new Nt}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(t,e,r){void 0===t&&(t=null),this.current=t;var i,n=this.renderer;if(t){var a=t.baseTexture;i=a.resolution,r||(si.width=a.realWidth,si.height=a.realHeight,r=si),e||(e=r),this.renderer.framebuffer.bind(a.framebuffer,r),this.renderer.projection.update(r,e,i,!1),this.renderer.stencil.setMaskStack(a.stencilMaskStack)}else i=this.renderer.resolution,r||(si.width=n.width,si.height=n.height,r=si),e||(e=r),n.framebuffer.bind(null,r),this.renderer.projection.update(r,e,i,!0),this.renderer.stencil.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(e),this.destinationFrame.x=r.x/i,this.destinationFrame.y=r.y/i,this.destinationFrame.width=r.width/i,this.destinationFrame.height=r.height/i,e===r&&this.sourceFrame.copyFrom(this.destinationFrame)},e.prototype.clear=function(t){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3])},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(Pe),hi=function(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}};hi.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null};var li=0,ui=function(t){function e(e){t.call(this,e),this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this.id=li++}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.systemCheck=function(){if(!Mr())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||this.syncUniformGroup(t.uniformGroup),i},e.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t){var e=this.getglProgram();t.static&&t.dirtyId===e.uniformGroups[t.id]||(e.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,e))},e.prototype.syncUniforms=function(t,e){var r=t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t);r(e.uniformData,t.uniforms,this.renderer)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=Er(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var r=t.uniforms,i=[];for(var n in r)i.push(n),e[n]&&i.push(e[n].type);return i.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,r=t.program,i={};for(var n in r.attributeData)i[n]=r.attributeData[n].location;var a=ur(e,r.vertexSrc,r.fragmentSrc,i),s={};for(var o in r.uniformData){var h=r.uniformData[o];s[o]={location:e.getUniformLocation(a,o),value:fr(h.type,h.size)}}var l=new hi(a,s);return r.glPrograms[this.renderer.CONTEXT_UID]=l,l},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(Pe);function ci(t,e){return void 0===e&&(e=[]),e[x.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.ADD]=[t.ONE,t.ONE],e[x.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.NONE]=[0,0],e[x.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[x.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[x.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[x.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[x.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[x.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[x.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[x.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[x.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var fi=0,pi=1,di=2,_i=3,mi=4,yi=function(t){function e(e){t.call(this,e),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=x.NONE,this._blendEq=!1,this.map=[],this.map[fi]=this.setBlend,this.map[pi]=this.setOffset,this.map[di]=this.setCullFace,this.map[_i]=this.setDepthTest,this.map[mi]=this.setFrontFace,this.checks=[],this.defaultState=new zr,this.defaultState.blend=!0,this.defaultState.depth=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(t){this.gl=t,this.blendModes=ci(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){var e=this.stateId^t.data,r=0;while(e)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(var i=0;i<this.checks.length;i++)this.checks[i](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(var r=0;r<this.checks.length;r++)this.checks[r](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(0),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(e.polygonOffset,0)},e}(Pe),vi=function(t){function e(e){t.call(this,e),this.count=0,this.checkCount=0,this.maxIdle=f.GC_MAX_IDLE,this.checkCountMax=f.GC_MAX_CHECK_COUNT,this.mode=f.GC_MODE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postrender=function(){this.count++,this.mode!==O.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){for(var a=0,s=0;s<e.length;s++)null!==e[s]&&(e[a++]=e[s]);e.length=a}},e.prototype.unload=function(t){var e=this.renderer.textureSystem;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},e}(Pe),gi=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},bi=function(t){function e(e){t.call(this,e),this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new be}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new gi(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new gi(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var a=0;a<this.boundTextures.length;a++)this.bind(null,a)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this,i=r.gl;if(t){if(t=t.baseTexture||t,t.valid){t.touched=this.renderer.textureGC.count;var n=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.boundTextures[e]!==t&&i.bindTexture(t.target,n.texture),n.dirtyId!==t.dirtyId&&this.updateTexture(t),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this,r=e.gl,i=e.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<i.length;n++)i[n]===this.unknownTexture&&this.bind(null,n)}for(var a=0;a<i.length;a++)i[a]===t&&(this.currentLocation!==a&&(r.activeTexture(r.TEXTURE0+a),this.currentLocation=a),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[t.target].texture),i[a]=null)},e.prototype.initTexture=function(t){var e=new gi(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var r=this.renderer.gl;t.type===r.FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA32F),t.type===w.HALF_FLOAT&&(e.type=r.HALF_FLOAT),e.type===r.HALF_FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(r,t,e));else{var i=t.realWidth,n=t.realHeight,a=r.gl;(e.width!==i||e.height!==n||e.dirtyId<0)&&(e.width=i,e.height=n,a.texImage2D(t.target,0,e.internalFormat,i,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var r=this,i=r.gl;if(t=t.baseTexture||t,t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var n=this.managedTextures.indexOf(t);-1!==n&&$(this.managedTextures,n,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==P.POW2&&2===this.webGLVersion||t.isPowerOfTwo?(e.mipmap=t.mipmap>=1,e.wrapMode=t.wrapMode):(e.mipmap=0,e.wrapMode=E.CLAMP),t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var r=this.gl;if(e.mipmap&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===S.LINEAR){var n=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode?r.LINEAR:r.NEAREST)},e}(Pe),xi={FilterSystem:er,BatchSystem:ir,ContextSystem:ar,FramebufferSystem:sr,GeometrySystem:lr,MaskSystem:ii,StencilSystem:ni,ProjectionSystem:ai,RenderTextureSystem:oi,ShaderSystem:ui,StateSystem:yi,TextureGCSystem:vi,TextureSystem:bi},Ti=new Dt,Di=function(t){function e(e,r){t.call(this),r=Object.assign({},f.RENDER_OPTIONS,r),r.roundPixels&&(f.ROUND_PIXELS=r.roundPixels,_t("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),this.options=r,this.type=b.UNKNOWN,this.screen=new Nt(0,0,r.width,r.height),this.view=r.view||document.createElement("canvas"),this.resolution=r.resolution||f.RESOLUTION,this.transparent=r.transparent,this.autoDensity=r.autoDensity||r.autoResize||!1,this.preserveDrawingBuffer=r.preserveDrawingBuffer,this.clearBeforeRender=r.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=r.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new zt,this._lastObjectRendered=this._tempDisplayObjectParent,this.plugins={}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={width:{configurable:!0},height:{configurable:!0},backgroundColor:{configurable:!0}};return e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},r.width.get=function(){return this.view.width},r.height.get=function(){return this.view.height},e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,r,i){i=i||t.getLocalBounds(),0===i.width&&(i.width=1),0===i.height&&(i.height=1);var n=ke.create(0|i.width,0|i.height,e,r);return Ti.tx=-i.x,Ti.ty=-i.y,this.render(t,n,!1,Ti,!!t.parent),n},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=b.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoDensity=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},r.backgroundColor.get=function(){return this._backgroundColor},r.backgroundColor.set=function(t){this._backgroundColor=t,this._backgroundColorString=k(t),L(t,this._backgroundColorRgba)},Object.defineProperties(e.prototype,r),e}(d.a),Ai=function(t){function e(r){void 0===r&&(r={}),t.call(this,"WebGL",r),r=this.options,this.type=b.WEBGL,this.gl=null,this.CONTEXT_UID=0,this.runners={destroy:new ne("destroy"),contextChange:new ne("contextChange",1),reset:new ne("reset"),update:new ne("update"),postrender:new ne("postrender"),prerender:new ne("prerender"),resize:new ne("resize",2)},this.globalUniforms=new Qe({projectionMatrix:new Dt},!0),this.addSystem(ii,"mask").addSystem(ar,"context").addSystem(yi,"state").addSystem(ui,"shader").addSystem(bi,"texture").addSystem(lr,"geometry").addSystem(sr,"framebuffer").addSystem(ni,"stencil").addSystem(ai,"projection").addSystem(vi,"textureGC").addSystem(er,"filter").addSystem(oi,"renderTexture").addSystem(ir,"batch"),this.initPlugins(e.__plugins),r.context?this.context.initFromContext(r.context):this.context.initFromOptions({alpha:this.transparent,antialias:r.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:this.options.powerPreference}),this.renderingToScreen=!0,B(2===this.context.webGLVersion?"WebGL 2":"WebGL 1"),this.resize(this.options.width,this.options.height)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t){if(N())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var i in this[e]=r,this.runners)this.runners[i].add(r);return this},e.prototype.render=function(t,e,r,i,n){if(this.renderingToScreen=!e,this.runners.prerender.run(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(e||(this._lastObjectRendered=t),!n){var a=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=a}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.run(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.runners.resize.run(e,r)},e.prototype.reset=function(){return this.runners.reset.run(),this},e.prototype.clear=function(){this.framebuffer.bind(),this.framebuffer.clear()},e.prototype.destroy=function(e){for(var r in this.runners.destroy.run(),this.runners)this.runners[r].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(Di);function wi(t){return Ai.create(t)}var Si="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Ei="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Pi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.from=function(t,r){return new e(new De(t,r))},e}(be),Oi=function(){this.textures=[],this.ids=[],this.blend=0,this.textureCount=0,this.start=0,this.size=0,this.type=4},Ii=function(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)},Ci={int8View:{configurable:!0},uint8View:{configurable:!0},int16View:{configurable:!0},uint16View:{configurable:!0},int32View:{configurable:!0}};Ci.int8View.get=function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},Ci.uint8View.get=function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},Ci.int16View.get=function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},Ci.uint16View.get=function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},Ci.int32View.get=function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},Ii.prototype.view=function(t){return this[t+"View"]},Ii.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},Ii.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},Object.defineProperties(Ii.prototype,Ci);var Mi=function(t){function e(e){t.call(this,e),this.shaderGenerator=null,this.geometryClass=null,this.vertexSize=null,this.state=zr.for2d(),this.size=8e3,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._drawCalls=[];for(var r=0;r<this.size/4;r++)this._drawCalls[r]=new Oi;this._aBuffers={},this._iBuffers={},this.MAX_TEXTURES=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.renderer.gl;f.PREFER_ENV===g.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),f.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Ir(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedElements[this._bufferSize++]=t)},e.prototype.flush=function(){if(0!==this._vertexCount){var t,e,r=this.getAttributeBuffer(this._vertexCount),i=this.getIndexBuffer(this._indexCount),n=this.renderer.gl,a=this,s=a._bufferedElements,o=a._drawCalls,h=a.MAX_TEXTURES,l=a._packedGeometries,u=a.vertexSize,c=this.renderer.textureGC.count,p=0,d=0,_=0,m=o[0],y=0,v=-1;m.textureCount=0,m.start=0,m.blend=v;var g,b=++be._globalBatch;for(g=0;g<this._bufferSize;++g){var x=s[g];s[g]=null,t=x._texture.baseTexture;var T=V[t.premultiplyAlpha?1:0][x.blendMode];v!==T&&(v=T,e=null,_=h,b++),e!==t&&(e=t,t._batchEnabled!==b&&(_===h&&(b++,_=0,m.size=d-m.start,m=o[y++],m.textureCount=0,m.blend=v,m.start=d),t.touched=c,t._batchEnabled=b,t._id=_,m.textures[m.textureCount++]=t,_++)),this.packInterleavedGeometry(x,r,i,p,d),p+=x.vertexData.length/2*u,d+=x.indices.length}be._globalBatch=b,m.size=d-m.start,f.CAN_UPLOAD_SAME_BUFFER?(l[this._flushId]._buffer.update(r.rawBinaryData,0),l[this._flushId]._indexBuffer.update(i,0),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,l[this._flushId]=new this.geometryClass),l[this._flushId]._buffer.update(r.rawBinaryData,0),l[this._flushId]._indexBuffer.update(i,0),this.renderer.geometry.bind(l[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++);var D=this.renderer.texture,A=this.renderer.state;for(g=0;g<y;g++){for(var w=o[g],S=w.textureCount,E=0;E<S;E++)D.bind(w.textures[E],E),w.textures[E]=null;A.setBlendMode(w.blend),n.drawElements(w.type,w.size,n.UNSIGNED_SHORT,2*w.start)}this._bufferSize=0,this._vertexCount=0,this._indexCount=0}},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),f.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._drawCalls=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=J(Math.ceil(t/8)),r=tt(e),i=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new Ii(i*this.vertexSize*4)),n},e.prototype.getIndexBuffer=function(t){var e=J(Math.ceil(t/12)),r=tt(e),i=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n},e.prototype.packInterleavedGeometry=function(t,e,r,i,n){for(var a=e.uint32View,s=e.float32View,o=i/this.vertexSize,h=t.uvs,l=t.indices,u=t.vertexData,c=t._texture.baseTexture._id,f=Math.min(t.worldAlpha,1),p=f<1&&t._texture.baseTexture.premultiplyAlpha?H(t._tintRGB,f):t._tintRGB+(255*f<<24),d=0;d<u.length;d+=2)s[i++]=u[d],s[i++]=u[d+1],s[i++]=h[d],s[i++]=h[d+1],a[i++]=p,s[i++]=c;for(var _=0;_<l.length;_++)r[n++]=o+l[_]},e}(rr),Fi=function(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')};Fi.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=Qe.from({uSamplers:e},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+t),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Lr(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Dt,default:this.defaultGroupCache[t]};return new jr(this.programCache[t],n)},Fi.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n",e};var Ri=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this._buffer=new Ve(null,e,!1),this._indexBuffer=new Ve(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,w.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,w.FLOAT).addAttribute("aColor",this._buffer,4,!0,w.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,w.FLOAT).addIndex(this._indexBuffer)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(qe),Bi="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Ni="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Li=function(){},ki={defaultVertexSrc:{configurable:!0},defaultFragmentTemplate:{configurable:!0}};Li.create=function(t){var e=Object.assign({vertex:Bi,fragment:Ni,geometryClass:Ri,vertexSize:6},t),r=e.vertex,i=e.fragment,n=e.vertexSize,a=e.geometryClass;return function(t){function e(e){t.call(this,e),this.shaderGenerator=new Fi(r,i),this.geometryClass=a,this.vertexSize=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Mi)},ki.defaultVertexSrc.get=function(){return Bi},ki.defaultFragmentTemplate.get=function(){return Ni},Object.defineProperties(Li,ki);var ji=Li.create(),Ui=new Nt,Xi=4,Vi=function(t){this.renderer=t,t.extract=this};
/*!
 * @pixi/extract - v5.1.5
 * Compiled Tue, 24 Sep 2019 04:07:05 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Vi.prototype.image=function(t,e,r){var i=new Image;return i.src=this.base64(t,e,r),i},Vi.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},Vi.prototype.canvas=function(t){var e,r,i,n=this.renderer,a=!1,s=!1;t&&(t instanceof ke?i=t:(i=this.renderer.generateTexture(t),s=!0)),i?(e=i.baseTexture.resolution,r=i.frame,a=!1,n.renderTexture.bind(i)):(e=this.renderer.resolution,a=!0,r=Ui,r.width=this.renderer.width,r.height=this.renderer.height,n.renderTexture.bind(null));var o=Math.floor(r.width*e),h=Math.floor(r.height*e),l=new ot(o,h,1),u=new Uint8Array(Xi*o*h),c=n.gl;c.readPixels(r.x*e,r.y*e,o,h,c.RGBA,c.UNSIGNED_BYTE,u);var f=l.context.getImageData(0,0,o,h);return Vi.arrayPostDivide(u,f.data),l.context.putImageData(f,0,0),a&&(l.context.scale(1,-1),l.context.drawImage(l.canvas,0,-h)),s&&i.destroy(!0),l.canvas},Vi.prototype.pixels=function(t){var e,r,i,n=this.renderer,a=!1;t&&(t instanceof ke?i=t:(i=this.renderer.generateTexture(t),a=!0)),i?(e=i.baseTexture.resolution,r=i.frame,n.renderTexture.bind(i)):(e=n.resolution,r=Ui,r.width=n.width,r.height=n.height,n.renderTexture.bind(null));var s=r.width*e,o=r.height*e,h=new Uint8Array(Xi*s*o),l=n.gl;return l.readPixels(r.x*e,r.y*e,s,o,l.RGBA,l.UNSIGNED_BYTE,h),a&&i.destroy(!0),Vi.arrayPostDivide(h,h),h},Vi.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},Vi.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var i=e[r+3]=t[r+3];0!==i?(e[r]=Math.round(Math.min(255*t[r]/i,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/i,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/i,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}};
/*!
 * @pixi/interaction - v5.1.5
 * Compiled Tue, 24 Sep 2019 04:07:05 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Gi=function(){this.global=new mt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0},Yi={pointerId:{configurable:!0}};Yi.pointerId.get=function(){return this.identifier},Gi.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},Gi.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},Gi.prototype.reset=function(){this.isPrimary=!1},Object.defineProperties(Gi.prototype,Yi);var Hi=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null};Hi.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},Hi.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null};var zi=function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE},Wi={pointerId:{configurable:!0},flags:{configurable:!0},none:{configurable:!0},over:{configurable:!0},rightDown:{configurable:!0},leftDown:{configurable:!0}};zi.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Wi.pointerId.get=function(){return this._pointerId},Wi.flags.get=function(){return this._flags},Wi.flags.set=function(t){this._flags=t},Wi.none.get=function(){return this._flags===this.constructor.FLAGS.NONE},Wi.over.get=function(){return 0!==(this._flags&this.constructor.FLAGS.OVER)},Wi.over.set=function(t){this._doSet(this.constructor.FLAGS.OVER,t)},Wi.rightDown.get=function(){return 0!==(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},Wi.rightDown.set=function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)},Wi.leftDown.get=function(){return 0!==(this._flags&this.constructor.FLAGS.LEFT_DOWN)},Wi.leftDown.set=function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)},Object.defineProperties(zi.prototype,Wi),zi.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});var $i={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Yt.mixin($i);var qi=1,Ki={target:null,data:{global:null}},Zi=function(t){function e(e,r){t.call(this),r=r||{},this.renderer=e,this.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,this.interactionFrequency=r.interactionFrequency||10,this.mouse=new Gi,this.mouse.identifier=qi,this.mouse.global.set(-999999),this.activeInteractionData={},this.activeInteractionData[qi]=this.mouse,this.interactionDataPool=[],this.eventData=new Hi,this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.mouseOverRenderer=!1,this.supportsTouchEvents="ontouchstart"in window,this.supportsPointerEvents=!!window.PointerEvent,this.onPointerUp=this.onPointerUp.bind(this),this.processPointerUp=this.processPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.processPointerCancel=this.processPointerCancel.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.processPointerDown=this.processPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.processPointerMove=this.processPointerMove.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.processPointerOverOut=this.processPointerOverOut.bind(this),this.onPointerOver=this.onPointerOver.bind(this),this.cursorStyles={default:"inherit",pointer:"pointer"},this.currentCursorMode=null,this.cursor=null,this._tempPoint=new mt,this.resolution=1,this.delayedEvents=[],this.setTargetElement(this.renderer.view,this.renderer.resolution)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hitTest=function(t,e){return Ki.target=null,Ki.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(Ki,e,null,!0),Ki.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(he.system.add(this.update,this,se.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(he.system.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e);break}else"string"!==typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},e.prototype.mapPositionToPoint=function(t,e,r){var i;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*n,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},e.prototype.processInteractive=function(t,e,r,i,n,a){if(!e||!e.visible)return!1;var s=t.data.global;n=e.interactive||n;var o=!1,h=n,l=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:(i=!1,l=!1)),h=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(s)||(i=!1)),l&&e.interactiveChildren&&e.children)for(var u=e.children,c=u.length-1;c>=0;c--){var f=u[c],p=this.processInteractive(t,f,r,i,h,!0);if(p){if(!f.parent)continue;h=!1,p&&(t.target&&(i=!1),o=!0)}}n&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(o=!0),e.interactive&&(o&&!t.target&&(t.target=e),r&&r(t,e,!!o)));var d=this.delayedEvents;if(d.length&&!a){t.stopPropagationHint=!1;var _=d.length;this.delayedEvents=[];for(var m=0;m<_;m++){var y=d[m],v=y.displayObject,g=y.eventString,b=y.eventData;b.stopsPropagatingAt===v&&(b.stopPropagationHint=!0),this.dispatchEvent(v,g,b)}}return o},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized){var r=t.cancelable||!("cancelable"in t);r&&t.preventDefault()}for(var i=e.length,n=0;n<i;n++){var a=e[n],s=this.getInteractionDataForPointerId(a),o=this.configureInteractionEventForDOMEvent(this.eventData,a,s);if(o.data.originalEvent=t,this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",o),"touch"===a.pointerType)this.emit("touchstart",o);else if("mouse"===a.pointerType||"pen"===a.pointerType){var h=2===a.button;this.emit(h?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var i=t.data,n=t.data.identifier;if(r)if(e.trackedPointers[n]||(e.trackedPointers[n]=new zi(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===i.pointerType||"pen"===i.pointerType){var a=2===i.button;a?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,a?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var i=this.normalizeToPointerData(t),n=i.length,a=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var o=i[s],h=this.getInteractionDataForPointerId(o),l=this.configureInteractionEventForDOMEvent(this.eventData,o,h);if(l.data.originalEvent=t,this.processInteractive(l,this.renderer._lastObjectRendered,r,e||!a),this.emit(e?"pointercancel":"pointerup"+a,l),"mouse"===o.pointerType||"pen"===o.pointerType){var u=2===o.button;this.emit(u?"rightup"+a:"mouseup"+a,l)}else"touch"===o.pointerType&&(this.emit(e?"touchcancel":"touchend"+a,l),this.releaseInteractionDataForPointerId(o.pointerId,h))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var i=t.data,n=t.data.identifier,a=e.trackedPointers[n],s="touch"===i.pointerType,o="mouse"===i.pointerType||"pen"===i.pointerType,h=!1;if(o){var l=2===i.button,u=zi.FLAGS,c=l?u.RIGHT_DOWN:u.LEFT_DOWN,f=void 0!==a&&a.flags&c;r?(this.dispatchEvent(e,l?"rightup":"mouseup",t),f&&(this.dispatchEvent(e,l?"rightclick":"click",t),h=!0)):f&&this.dispatchEvent(e,l?"rightupoutside":"mouseupoutside",t),a&&(l?a.rightDown=!1:a.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),a&&(o&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),a.over=!1))):a&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),a&&a.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var r=e.length,i=0;i<r;i++){var n=e[i],a=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,a);s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var i=t.data,n="touch"===i.pointerType,a="mouse"===i.pointerType||"pen"===i.pointerType;a&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),a&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t),r=e[0];"mouse"===r.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(r),n=this.configureInteractionEventForDOMEvent(this.eventData,r,i);n.data.originalEvent=r,this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===r.pointerType||"pen"===r.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(i.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var i=t.data,n=t.data.identifier,a="mouse"===i.pointerType||"pen"===i.pointerType,s=e.trackedPointers[n];r&&!s&&(s=e.trackedPointers[n]=new zi(n)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),a&&this.delayDispatchEvent(e,"mouseover",t)),a&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),a&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t),r=e[0],i=this.getInteractionDataForPointerId(r),n=this.configureInteractionEventForDOMEvent(this.eventData,r,i);n.data.originalEvent=r,"mouse"===r.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.emit("mouseover",n)},e.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return r===qi||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:(e=this.interactionDataPool.pop()||new Gi,e.identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,i=t.changedTouches.length;r<i;r++){var n=t.changedTouches[r];"undefined"===typeof n.button&&(n.button=t.touches.length?1:0),"undefined"===typeof n.buttons&&(n.buttons=t.touches.length?1:0),"undefined"===typeof n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),"undefined"===typeof n.width&&(n.width=n.radiusX||1),"undefined"===typeof n.height&&(n.height=n.radiusY||1),"undefined"===typeof n.tiltX&&(n.tiltX=0),"undefined"===typeof n.tiltY&&(n.tiltY=0),"undefined"===typeof n.pointerType&&(n.pointerType="touch"),"undefined"===typeof n.pointerId&&(n.pointerId=n.identifier||0),"undefined"===typeof n.pressure&&(n.pressure=n.force||.5),"undefined"===typeof n.twist&&(n.twist=0),"undefined"===typeof n.tangentialPressure&&(n.tangentialPressure=0),"undefined"===typeof n.layerX&&(n.layerX=n.offsetX=n.clientX),"undefined"===typeof n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):("undefined"===typeof t.isPrimary&&(t.isPrimary=!0),"undefined"===typeof t.width&&(t.width=1),"undefined"===typeof t.height&&(t.height=1),"undefined"===typeof t.tiltX&&(t.tiltX=0),"undefined"===typeof t.tiltY&&(t.tiltY=0),"undefined"===typeof t.pointerType&&(t.pointerType="mouse"),"undefined"===typeof t.pointerId&&(t.pointerId=qi),"undefined"===typeof t.pressure&&(t.pressure=.5),"undefined"===typeof t.twist&&(t.twist=0),"undefined"===typeof t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(d.a),Ji={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive)return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},Qi=function(){this.reset()};Qi.prototype.clone=function(){var t=new Qi;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},Qi.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Be.WHITE,this.matrix=null,this.visible=!1},Qi.prototype.destroy=function(){this.texture=null,this.matrix=null};var tn=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null),this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]};tn.prototype.clone=function(){return new tn(this.shape,this.fillStyle,this.lineStyle,this.matrix)},tn.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null};var en={build:function(t){var e,r,i=t.shape,n=t.points,a=i.x,s=i.y;if(n.length=0,t.type===Tt.CIRC?(e=i.radius,r=i.radius):(e=i.width,r=i.height),0!==e&&0!==r){var o=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(i.width+i.height));o/=2.3;for(var h=2*Math.PI/o,l=0;l<o;l++)n.push(a+Math.sin(-h*l)*e,s+Math.cos(-h*l)*r);n.push(n[0],n[1])}},triangulate:function(t,e){var r=t.points,i=e.points,n=e.indices,a=i.length/2,s=a;i.push(t.shape.x,t.shape.y);for(var o=0;o<r.length;o+=2)i.push(r[o],r[o+1]),n.push(a++,s,a)}};function rn(t,e){t.lineStyle.native?an(t,e):nn(t,e)}function nn(t,e){var r=t.shape,i=t.points||r.points.slice(),n=e.closePointEps;if(0!==i.length){var a=t.lineStyle,s=new mt(i[0],i[1]),o=new mt(i[i.length-2],i[i.length-1]),h=r.type!==Tt.POLY||r.closeStroke,l=Math.abs(s.x-o.x)<n&&Math.abs(s.y-o.y)<n;if(h){i=i.slice(),l&&(i.pop(),i.pop(),o.set(i[i.length-2],i[i.length-1]));var u=o.x+.5*(s.x-o.x),c=o.y+.5*(s.y-o.y);i.unshift(u,c),i.push(u,c)}var f=e.points,p=i.length/2,d=i.length,_=f.length/2,m=a.width/2,y=i[0],v=i[1],g=i[2],b=i[3],x=0,T=0,D=-(v-b),A=y-g,w=0,S=0,E=0,P=0,O=Math.sqrt(D*D+A*A);D/=O,A/=O,D*=m,A*=m;var I=a.alignment,C=2*(1-I),M=2*I;f.push(y-D*C,v-A*C),f.push(y+D*M,v+A*M);for(var F=1;F<p-1;++F){y=i[2*(F-1)],v=i[2*(F-1)+1],g=i[2*F],b=i[2*F+1],x=i[2*(F+1)],T=i[2*(F+1)+1],D=-(v-b),A=y-g,O=Math.sqrt(D*D+A*A),D/=O,A/=O,D*=m,A*=m,w=-(b-T),S=g-x,O=Math.sqrt(w*w+S*S),w/=O,S/=O,w*=m,S*=m;var R=-A+v-(-A+b),B=-D+g-(-D+y),N=(-D+y)*(-A+b)-(-D+g)*(-A+v),L=-S+T-(-S+b),k=-w+g-(-w+x),j=(-w+x)*(-S+b)-(-w+g)*(-S+T),U=R*k-L*B;if(Math.abs(U)<.1)U+=10.1,f.push(g-D*C,b-A*C),f.push(g+D*M,b+A*M);else{var X=(B*j-k*N)/U,V=(L*N-R*j)/U,G=(X-g)*(X-g)+(V-b)*(V-b);G>196*m*m?(E=D-w,P=A-S,O=Math.sqrt(E*E+P*P),E/=O,P/=O,E*=m,P*=m,f.push(g-E*C,b-P*C),f.push(g+E*M,b+P*M),f.push(g-E*M*C,b-P*C),d++):(f.push(g+(X-g)*C,b+(V-b)*C),f.push(g-(X-g)*M,b-(V-b)*M))}}y=i[2*(p-2)],v=i[2*(p-2)+1],g=i[2*(p-1)],b=i[2*(p-1)+1],D=-(v-b),A=y-g,O=Math.sqrt(D*D+A*A),D/=O,A/=O,D*=m,A*=m,f.push(g-D*C,b-A*C),f.push(g+D*M,b+A*M);for(var Y=e.indices,H=0;H<d-2;++H)Y.push(_,_+1,_+2),_++}}function an(t,e){var r=0,i=t.shape,n=t.points||i.points,a=i.type!==Tt.POLY||i.closeStroke;if(0!==n.length){var s=e.points,o=e.indices,h=n.length/2,l=s.length/2,u=l;for(s.push(n[0],n[1]),r=1;r<h;r++)s.push(n[2*r],n[2*r+1]),o.push(u,u+1),u++;a&&o.push(u,l)}}var sn={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,i=t.holes,n=e.points,a=e.indices;if(r.length>=6){for(var s=[],o=0;o<i.length;o++){var h=i[o];s.push(r.length/2),r=r.concat(h.points)}var l=m()(r,s,2);if(!l)return;for(var u=n.length/2,c=0;c<l.length;c+=3)a.push(l[c]+u),a.push(l[c+1]+u),a.push(l[c+2]+u);for(var f=0;f<r.length;f++)n.push(r[f])}}},on={build:function(t){var e=t.shape,r=e.x,i=e.y,n=e.width,a=e.height,s=t.points;s.length=0,s.push(r,i,r+n,i,r+n,i+a,r,i+a)},triangulate:function(t,e){var r=t.points,i=e.points,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},hn={build:function(t){var e=t.shape,r=t.points,i=e.x,n=e.y,a=e.width,s=e.height,o=e.radius;r.length=0,un(i,n+o,i,n,i+o,n,r),un(i+a-o,n,i+a,n,i+a,n+o,r),un(i+a,n+s-o,i+a,n+s,i+a-o,n+s,r),un(i+o,n+s,i,n+s,i,n+s-o,r)},triangulate:function(t,e){for(var r=t.points,i=e.points,n=e.indices,a=i.length/2,s=m()(r,null,2),o=0,h=s.length;o<h;o+=3)n.push(s[o]+a),n.push(s[o+1]+a),n.push(s[o+2]+a);for(var l=0,u=r.length;l<u;l++)i.push(r[l],r[++l])}};function ln(t,e,r){var i=e-t;return t+i*r}function un(t,e,r,i,n,a,s){void 0===s&&(s=[]);for(var o=20,h=s,l=0,u=0,c=0,f=0,p=0,d=0,_=0,m=0;_<=o;++_)m=_/o,l=ln(t,r,m),u=ln(e,i,m),c=ln(r,n,m),f=ln(i,a,m),p=ln(l,c,m),d=ln(u,f,m),h.push(p,d);return h}var cn=[],fn=[],pn=new mt,dn={};dn[Tt.POLY]=sn,dn[Tt.CIRC]=en,dn[Tt.ELIP]=en,dn[Tt.RECT]=on,dn[Tt.RREC]=hn;var _n=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},mn=function(t){function e(){t.call(this),this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.dirty=0,this.batchDirty=-1,this.cacheDirty=-1,this.clearDirty=0,this.drawCalls=[],this.batches=[],this.shapeIndex=0,this._bounds=new Gt,this.boundsDirty=-1,this.boundsPadding=0,this.batchable=!1,this.indicesUint16=null,this.uvsFloat32=null,this.closePointEps=1e-4}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={bounds:{configurable:!0}};return r.bounds.get=function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].textures.length=0,fn.push(this.drawCalls[t]);this.drawCalls.length=0;for(var e=0;e<this.batches.length;e++){var r=this.batches[e];r.start=0,r.attribStart=0,r.style=null,cn.push(r)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,r,i){var n=new tn(t,e,r,i);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(!this.graphicsData.length)return null;var r=new tn(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var i=e[r];if(i.fillStyle.visible&&(i.shape&&(i.matrix?i.matrix.applyInverse(t,pn):pn.copyFrom(t),i.shape.contains(pn.x,pn.y)))){if(i.holes)for(var n=0;n<i.holes.length;n++){var a=i.holes[n];if(a.shape.contains(pn.x,pn.y))return!1}return!0}}return!1},e.prototype.updateBatches=function(){if(this.dirty!==this.cacheDirty)if(0!==this.graphicsData.length){if(this.dirty!==this.cacheDirty)for(var t=0;t<this.graphicsData.length;t++){var e=this.graphicsData[t];if(e.fillStyle&&!e.fillStyle.texture.baseTexture.valid)return;if(e.lineStyle&&!e.lineStyle.texture.baseTexture.valid)return}this.cacheDirty=this.dirty;var r=this.uvs,i=null,n=null,a=0,s=!1;if(this.batches.length>0){i=this.batches[this.batches.length-1];var o=i.style;n=o.texture.baseTexture,a=o.color+o.alpha,s=!!o.native}for(var h=this.shapeIndex;h<this.graphicsData.length;h++){this.shapeIndex++;var l=this.graphicsData[h],u=dn[l.type],c=l.fillStyle,f=l.lineStyle;u.build(l),l.matrix&&this.transformPoints(l.points,l.matrix);for(var p=0;p<2;p++){var d=0===p?c:f;if(d.visible){var _=d.texture.baseTexture,m=this.indices.length,y=this.points.length/2;!i||n===_&&a===d.color+d.alpha&&s===!!d.native||(i.size=m-i.start,i.attribSize=y-i.attribStart,i.size>0&&(i=null)),i||(i=cn.pop()||new _n,this.batches.push(i),_.wrapMode=E.REPEAT,n=_,a=d.color+d.alpha,s=d.native,i.style=d,i.start=m,i.attribStart=y);var v=this.points.length/2;if(0===p)l.holes.length?(this.processHoles(l.holes),sn.triangulate(l,this)):u.triangulate(l,this);else{rn(l,this);for(var g=0;g<l.holes.length;g++)rn(l.holes[g],this)}var b=this.points.length/2-v;this.addUvs(this.points,r,d.texture,v,b,d.matrix)}}}var x=this.indices.length,T=this.points.length/2;if(i)if(i.size=x-i.start,i.attribSize=T-i.attribStart,this.indicesUint16=new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var D=0;D<this.batches.length;D++)for(var A=this.batches[D],w=0;w<A.size;w++){var S=A.start+w;this.indicesUint16[S]=this.indicesUint16[S]-A.attribStart}}else this.buildDrawCalls();else this.batchable=!0}else this.batchable=!0},e.prototype.isBatchable=function(){for(var t=this.batches,r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++be._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].textures.length=0,fn.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.uvs,i=this.colors,n=this.textureIds,a=fn.pop()||new Oi;a.textureCount=0,a.start=0,a.size=0,a.type=T.TRIANGLES;var s=0,o=null,h=0,l=!1,u=T.TRIANGLES,c=0;this.drawCalls.push(a);for(var f=0;f<this.batches.length;f++){var p=this.batches[f],d=8,_=p.style,m=_.texture.baseTexture;l!==!!_.native&&(l=_.native,u=l?T.LINES:T.TRIANGLES,o=null,s=d,t++),o!==m&&(o=m,m._batchEnabled!==t&&(s===d&&(t++,s=0,a.size>0&&(a=fn.pop()||new Oi,this.drawCalls.push(a)),a.start=c,a.size=0,a.textureCount=0,a.type=u),m.touched=1,m._batchEnabled=t,m._id=s,m.wrapMode=10497,a.textures[a.textureCount++]=m,s++)),a.size+=p.size,c+=p.size,h=m._id,this.addColors(i,_.color,_.alpha,p.attribSize),this.addTextureIds(n,h,p.attribSize)}be._globalBatch=t;for(var y=this.points,v=new ArrayBuffer(3*y.length*4),g=new Float32Array(v),b=new Uint32Array(v),x=0,D=0;D<y.length/2;D++)g[x++]=y[2*D],g[x++]=y[2*D+1],g[x++]=r[2*D],g[x++]=r[2*D+1],b[x++]=i[D],g[x++]=n[D];this._buffer.update(v),this._indexBuffer.update(this.indicesUint16)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e],i=dn[r.type];i.build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.calculateBounds=function(){var t=1/0,e=-1/0,r=1/0,i=-1/0;if(this.graphicsData.length)for(var n=null,a=0,s=0,o=0,h=0,l=0;l<this.graphicsData.length;l++){var u=this.graphicsData[l],c=u.type,f=u.lineStyle?u.lineStyle.width:0;if(n=u.shape,c===Tt.RECT||c===Tt.RREC)a=n.x-f/2,s=n.y-f/2,o=n.width+f,h=n.height+f,t=a<t?a:t,e=a+o>e?a+o:e,r=s<r?s:r,i=s+h>i?s+h:i;else if(c===Tt.CIRC)a=n.x,s=n.y,o=n.radius+f/2,h=n.radius+f/2,t=a-o<t?a-o:t,e=a+o>e?a+o:e,r=s-h<r?s-h:r,i=s+h>i?s+h:i;else if(c===Tt.ELIP)a=n.x,s=n.y,o=n.width+f/2,h=n.height+f/2,t=a-o<t?a-o:t,e=a+o>e?a+o:e,r=s-h<r?s-h:r,i=s+h>i?s+h:i;else for(var p=n.points,d=0,_=0,m=0,y=0,v=0,g=0,b=0,x=0,T=0;T+2<p.length;T+=2)a=p[T],s=p[T+1],d=p[T+2],_=p[T+3],m=Math.abs(d-a),y=Math.abs(_-s),h=f,o=Math.sqrt(m*m+y*y),o<1e-9||(v=(h/o*y+m)/2,g=(h/o*m+y)/2,b=(d+a)/2,x=(_+s)/2,t=b-v<t?b-v:t,e=b+v>e?b+v:e,r=x-g<r?x-g:r,i=x+g>i?x+g:i)}else t=0,e=0,r=0,i=0;var D=this.boundsPadding;this._bounds.minX=t-D,this._bounds.maxX=e+D,this._bounds.minY=r-D,this._bounds.maxY=i+D},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}},e.prototype.addColors=function(t,e,r,i){var n=(e>>16)+(65280&e)+((255&e)<<16),a=H(n,r);while(i-- >0)t.push(a)},e.prototype.addTextureIds=function(t,e,r){while(r-- >0)t.push(e)},e.prototype.addUvs=function(t,e,r,i,n,a){var s=0,o=e.length,h=r.frame;while(s<n){var l=t[2*(i+s)],u=t[2*(i+s)+1];if(a){var c=a.a*l+a.c*u+a.tx;u=a.b*l+a.d*u+a.ty,l=c}s++,e.push(l/h.width,u/h.height)}var f=r.baseTexture;(h.width<f.width||h.height<f.height)&&this.adjustUvs(e,r,o,n)},e.prototype.adjustUvs=function(t,e,r,i){for(var n=e.baseTexture,a=1e-6,s=r+2*i,o=e.frame,h=o.width/n.width,l=o.height/n.height,u=o.x/o.width,c=o.y/o.height,f=Math.floor(t[r]+a),p=Math.floor(t[r+1]+a),d=r+2;d<s;d+=2)f=Math.min(f,Math.floor(t[d]+a)),p=Math.min(p,Math.floor(t[d+1]+a));u-=f,c-=p;for(var _=r;_<s;_+=2)t[_]=(t[_]+u)*h,t[_+1]=(t[_+1]+c)*l},Object.defineProperties(e.prototype,r),e}(Ri);mn.BATCHABLE_SIZE=100;var yn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},e}(Qi),vn=function(){};vn.curveLength=function(t,e,r,i,n,a,s,o){for(var h=10,l=0,u=0,c=0,f=0,p=0,d=0,_=0,m=0,y=0,v=0,g=0,b=t,x=e,T=1;T<=h;++T)u=T/h,c=u*u,f=c*u,p=1-u,d=p*p,_=d*p,m=_*t+3*d*u*r+3*p*c*n+f*s,y=_*e+3*d*u*i+3*p*c*a+f*o,v=b-m,g=x-y,b=m,x=y,l+=Math.sqrt(v*v+g*g);return l},vn.curveTo=function(t,e,r,i,n,a,s){var o=s[s.length-2],h=s[s.length-1];s.length-=2;var l=Ji._segmentsCount(vn.curveLength(o,h,t,e,r,i,n,a)),u=0,c=0,f=0,p=0,d=0;s.push(o,h);for(var _=1,m=0;_<=l;++_)m=_/l,u=1-m,c=u*u,f=c*u,p=m*m,d=p*m,s.push(f*o+3*c*m*t+3*u*p*r+d*n,f*h+3*c*m*e+3*u*p*i+d*a)};var gn=function(){};gn.curveLength=function(t,e,r,i,n,a){var s=t-2*r+n,o=e-2*i+a,h=2*r-2*t,l=2*i-2*e,u=4*(s*s+o*o),c=4*(s*h+o*l),f=h*h+l*l,p=2*Math.sqrt(u+c+f),d=Math.sqrt(u),_=2*u*d,m=2*Math.sqrt(f),y=c/d;return(_*p+d*c*(p-m)+(4*f*u-c*c)*Math.log((2*d+y+p)/(y+m)))/(4*_)},gn.curveTo=function(t,e,r,i,n){for(var a=n[n.length-2],s=n[n.length-1],o=Ji._segmentsCount(gn.curveLength(a,s,t,e,r,i)),h=0,l=0,u=1;u<=o;++u){var c=u/o;h=a+(t-a)*c,l=s+(e-s)*c,n.push(h+(t+(r-t)*c-h)*c,l+(e+(i-e)*c-l)*c)}};var bn=function(){};bn.curveTo=function(t,e,r,i,n,a){var s=a[a.length-2],o=a[a.length-1],h=o-e,l=s-t,u=i-e,c=r-t,f=Math.abs(h*c-l*u);if(f<1e-8||0===n)return a[a.length-2]===t&&a[a.length-1]===e||a.push(t,e),null;var p=h*h+l*l,d=u*u+c*c,_=h*u+l*c,m=n*Math.sqrt(p)/f,y=n*Math.sqrt(d)/f,v=m*_/p,g=y*_/d,b=m*c+y*l,x=m*u+y*h,T=l*(y+v),D=h*(y+v),A=c*(m+g),w=u*(m+g),S=Math.atan2(D-x,T-b),E=Math.atan2(w-x,A-b);return{cx:b+t,cy:x+e,radius:n,startAngle:S,endAngle:E,anticlockwise:l*u>c*h}},bn.arc=function(t,e,r,i,n,a,s,o,h){for(var l=s-a,u=Ji._segmentsCount(Math.abs(l)*n,40*Math.ceil(Math.abs(l)/gt)),c=l/(2*u),f=2*c,p=Math.cos(c),d=Math.sin(c),_=u-1,m=_%1/_,y=0;y<=_;++y){var v=y+m*y,g=c+a+f*v,b=Math.cos(g),x=-Math.sin(g);h.push((p*b+d*x)*n+r,(p*-x+d*b)*n+i)}};var xn=function(t){function e(e,r,i,n,a,s){a=a||n/2;for(var o=-1*Math.PI/2+s,h=2*i,l=gt/h,u=[],c=0;c<h;c++){var f=c%2?a:n,p=c*l+o;u.push(e+f*Math.cos(p),r+f*Math.sin(p))}t.call(this,u)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Xt),Tn=new Float32Array(3),Dn={},An=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.geometry=e||new mn,this.geometry.refCount++,this.shader=null,this.state=zr.for2d(),this._fillStyle=new Qi,this._lineStyle=new yn,this._matrix=null,this._holeMode=!1,this.currentPath=null,this.batches=[],this.batchTint=-1,this.vertexData=null,this._transformID=-1,this.batchDirty=-1,this.pluginName="batch",this.tint=16777215,this.blendMode=x.NORMAL}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blendMode:{configurable:!0},tint:{configurable:!0},fill:{configurable:!0},line:{configurable:!0}};return e.prototype.clone=function(){return this.finishPoly(),new e(this.geometry)},r.blendMode.set=function(t){this.state.blendMode=t},r.blendMode.get=function(){return this.state.blendMode},r.tint.get=function(){return this._tint},r.tint.set=function(t){this._tint=t},r.fill.get=function(){return this._fillStyle},r.line.get=function(){return this._lineStyle},e.prototype.lineStyle=function(t,e,r,i,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=.5),void 0===n&&(n=!1),this.lineTextureStyle(t,Be.WHITE,e,r,null,i,n),this},e.prototype.lineTextureStyle=function(t,e,r,i,n,a,s){void 0===t&&(t=0),void 0===e&&(e=Be.WHITE),void 0===r&&(r=16777215),void 0===i&&(i=1),void 0===n&&(n=null),void 0===a&&(a=.5),void 0===s&&(s=!1),this.currentPath&&this.startPoly();var o=t>0&&i>0;return o?(n&&(n=n.clone(),n.invert()),Object.assign(this._lineStyle,{color:r,width:t,alpha:i,matrix:n,texture:e,alignment:a,native:s,visible:o})):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Xt,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Xt,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),gn.curveTo(t,e,r,i,n),this},e.prototype.bezierCurveTo=function(t,e,r,i,n,a){return this._initCurve(),vn.curveTo(t,e,r,i,n,a,this.currentPath.points),this},e.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var a=this.currentPath.points,s=bn.curveTo(t,e,r,i,n,a);if(s){var o=s.cx,h=s.cy,l=s.radius,u=s.startAngle,c=s.endAngle,f=s.anticlockwise;this.arc(o,h,l,u,c,f)}return this},e.prototype.arc=function(t,e,r,i,n,a){if(void 0===a&&(a=!1),i===n)return this;!a&&n<=i?n+=gt:a&&i<=n&&(i+=gt);var s=n-i;if(0===s)return this;var o=t+Math.cos(i)*r,h=e+Math.sin(i)*r,l=this.geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var c=Math.abs(u[u.length-2]-o),f=Math.abs(u[u.length-1]-h);c<l&&f<l||u.push(o,h)}else this.moveTo(o,h),u=this.currentPath.points;return bn.arc(o,h,t,e,r,i,n,a,u),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill(Be.WHITE,t,e)},e.prototype.beginTextureFill=function(t,e,r,i){void 0===t&&(t=Be.WHITE),void 0===e&&(e=16777215),void 0===r&&(r=1),void 0===i&&(i=null),this.currentPath&&this.startPoly();var n=r>0;return n?(i&&(i=i.clone(),i.invert()),Object.assign(this._fillStyle,{color:e,alpha:r,texture:t,matrix:i,visible:n})):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,r,i){return this.drawShape(new Nt(t,e,r,i))},e.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new Vt(t,e,r,i,n))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new jt(t,e,r))},e.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new Ut(t,e,r,i))},e.prototype.drawPolygon=function(t){var e=arguments,r=t,i=!0;if(r.points&&(i=r.closeStroke,r=r.points),!Array.isArray(r)){r=new Array(arguments.length);for(var n=0;n<r.length;++n)r[n]=e[n]}var a=new Xt(r);return a.closeStroke=i,this.drawShape(a),this},e.prototype.drawShape=function(t){return this._holeMode?this.geometry.drawHole(t,this._matrix):this.geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,r,i,n,a){return void 0===a&&(a=0),this.drawPolygon(new xn(t,e,r,i,n,a))},e.prototype.clear=function(){return this.geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){return!1},e.prototype._render=function(t){this.finishPoly();var e=this.geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this.geometry,e=this.blendMode;this.batches=[],this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.vertexData=new Float32Array(t.points);for(var r=0,i=t.batches.length;r<i;r++){var n=t.batches[r],a=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),o=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h=new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),l={vertexData:s,blendMode:e,indices:h,uvs:o,_batchRGB:L(a),_tintRGB:a,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=l}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this.geometry,i=this.tint,n=this.worldAlpha,a=e.uniforms,s=r.drawCalls;a.translationMatrix=this.transform.worldTransform,a.tint[0]=(i>>16&255)/255*n,a.tint[1]=(i>>8&255)/255*n,a.tint[2]=(255&i)/255*n,a.tint[3]=n,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var o=0,h=s.length;o<h;o++)this._renderDrawCallDirect(t,r.drawCalls[o])},e.prototype._renderDrawCallDirect=function(t,e){for(var r=e.textureCount,i=0;i<r;i++)t.texture.bind(e.textures[i],i);t.geometry.draw(e.type,e.size,e.start)},e.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!Dn[r]){for(var i=new Int32Array(16),n=0;n<16;n++)i[n]=n;var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new Dt,default:Qe.from({uSamplers:i},!0)},s=t.plugins[r]._shader.program;Dn[r]=new jr(s,a)}e=Dn[r]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this.geometry.bounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this.geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=L(this.tint,Tn),e=0;e<this.batches.length;e++){var r=this.batches[e],i=r._batchRGB,n=t[0]*i[0]*255,a=t[1]*i[1]*255,s=t[2]*i[2]*255,o=(n<<16)+(a<<8)+(0|s);r._tintRGB=(o>>16)+(65280&o)+((255&o)<<16)}}},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var t=this.transform.worldTransform,e=t.a,r=t.b,i=t.c,n=t.d,a=t.tx,s=t.ty,o=this.geometry.points,h=this.vertexData,l=0,u=0;u<o.length;u+=2){var c=o[u],f=o[u+1];h[l++]=e*c+i*f+a,h[l++]=n*f+r*c+s}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},Object.defineProperties(e.prototype,r),e}(zt);An._TEMP_POINT=new mt;
/*!
 * @pixi/sprite - v5.1.5
 * Compiled Tue, 24 Sep 2019 04:07:05 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var wn=new mt,Sn=new Uint16Array([0,1,2,0,2,3]),En=function(t){function e(e){t.call(this),this._anchor=new yt(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=x.NORMAL,this.shader=null,this._cachedTint=16777215,this.uvs=null,this.texture=e||Be.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Sn,this.size=4,this.start=0,this.pluginName="batch",this.isSprite=!0,this._roundPixels=f.ROUND_PIXELS}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={roundPixels:{configurable:!0},width:{configurable:!0},height:{configurable:!0},anchor:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Z(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Z(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,a=e.d,s=e.tx,o=e.ty,h=this.vertexData,l=t.trim,u=t.orig,c=this._anchor,f=0,p=0,d=0,_=0;if(l?(p=l.x-c._x*u.width,f=p+l.width,_=l.y-c._y*u.height,d=_+l.height):(p=-c._x*u.width,f=p+u.width,_=-c._y*u.height,d=_+u.height),h[0]=r*p+n*_+s,h[1]=a*_+i*p+o,h[2]=r*f+n*_+s,h[3]=a*_+i*f+o,h[4]=r*f+n*d+s,h[5]=a*d+i*f+o,h[6]=r*p+n*d+s,h[7]=a*d+i*p+o,this._roundPixels)for(var m=0;m<8;m++)h[m]=Math.round(h[m])}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,a=n.a,s=n.b,o=n.c,h=n.d,l=n.tx,u=n.ty,c=-i._x*r.width,f=c+r.width,p=-i._y*r.height,d=p+r.height;e[0]=a*c+o*p+l,e[1]=h*p+s*c+u,e[2]=a*f+o*p+l,e[3]=h*p+s*f+u,e[4]=a*f+o*d+l,e[5]=h*d+s*f+u,e[6]=a*c+o*d+l,e[7]=h*d+s*c+u},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Nt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,wn);var e=this._texture.orig.width,r=this._texture.orig.height,i=-e*this.anchor.x,n=0;return wn.x>=i&&wn.x<i+e&&(n=-r*this.anchor.y,wn.y>=n&&wn.y<n+r)},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var r="boolean"===typeof e?e:e&&e.texture;if(r){var i="boolean"===typeof e?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null,this.shader=null},e.from=function(t,r){var i=t instanceof Be?t:Be.from(t,r);return new e(i)},r.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},r.roundPixels.get=function(){return this._roundPixels},r.width.get=function(){return Math.abs(this.scale.x)*this._texture.orig.width},r.width.set=function(t){var e=Z(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},r.height.get=function(){return Math.abs(this.scale.y)*this._texture.orig.height},r.height.set=function(t){var e=Z(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},r.anchor.get=function(){return this._anchor},r.anchor.set=function(t){this._anchor.copyFrom(t)},r.tint.get=function(){return this._tint},r.tint.set=function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},r.texture.get=function(){return this._texture},r.texture.set=function(t){this._texture!==t&&(this._texture=t||Be.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},Object.defineProperties(e.prototype,r),e}(zt),Pn={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},On={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Pn.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},In=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Cn=function(t){this.styleID=0,this.reset(),Nn(this,t,t)},Mn={align:{configurable:!0},breakWords:{configurable:!0},dropShadow:{configurable:!0},dropShadowAlpha:{configurable:!0},dropShadowAngle:{configurable:!0},dropShadowBlur:{configurable:!0},dropShadowColor:{configurable:!0},dropShadowDistance:{configurable:!0},fill:{configurable:!0},fillGradientType:{configurable:!0},fillGradientStops:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontStyle:{configurable:!0},fontVariant:{configurable:!0},fontWeight:{configurable:!0},letterSpacing:{configurable:!0},lineHeight:{configurable:!0},leading:{configurable:!0},lineJoin:{configurable:!0},miterLimit:{configurable:!0},padding:{configurable:!0},stroke:{configurable:!0},strokeThickness:{configurable:!0},textBaseline:{configurable:!0},trim:{configurable:!0},whiteSpace:{configurable:!0},wordWrap:{configurable:!0},wordWrapWidth:{configurable:!0}};function Fn(t){return"number"===typeof t?k(t):("string"===typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function Rn(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Fn(t[e]);return t}return Fn(t)}function Bn(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Nn(t,e,r){for(var i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}Cn.prototype.clone=function(){var t={};return Nn(t,this,On),new Cn(t)},Cn.prototype.reset=function(){Nn(this,On,On)},Mn.align.get=function(){return this._align},Mn.align.set=function(t){this._align!==t&&(this._align=t,this.styleID++)},Mn.breakWords.get=function(){return this._breakWords},Mn.breakWords.set=function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},Mn.dropShadow.get=function(){return this._dropShadow},Mn.dropShadow.set=function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},Mn.dropShadowAlpha.get=function(){return this._dropShadowAlpha},Mn.dropShadowAlpha.set=function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},Mn.dropShadowAngle.get=function(){return this._dropShadowAngle},Mn.dropShadowAngle.set=function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},Mn.dropShadowBlur.get=function(){return this._dropShadowBlur},Mn.dropShadowBlur.set=function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},Mn.dropShadowColor.get=function(){return this._dropShadowColor},Mn.dropShadowColor.set=function(t){var e=Rn(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},Mn.dropShadowDistance.get=function(){return this._dropShadowDistance},Mn.dropShadowDistance.set=function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},Mn.fill.get=function(){return this._fill},Mn.fill.set=function(t){var e=Rn(t);this._fill!==e&&(this._fill=e,this.styleID++)},Mn.fillGradientType.get=function(){return this._fillGradientType},Mn.fillGradientType.set=function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},Mn.fillGradientStops.get=function(){return this._fillGradientStops},Mn.fillGradientStops.set=function(t){Bn(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},Mn.fontFamily.get=function(){return this._fontFamily},Mn.fontFamily.set=function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},Mn.fontSize.get=function(){return this._fontSize},Mn.fontSize.set=function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},Mn.fontStyle.get=function(){return this._fontStyle},Mn.fontStyle.set=function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},Mn.fontVariant.get=function(){return this._fontVariant},Mn.fontVariant.set=function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},Mn.fontWeight.get=function(){return this._fontWeight},Mn.fontWeight.set=function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},Mn.letterSpacing.get=function(){return this._letterSpacing},Mn.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},Mn.lineHeight.get=function(){return this._lineHeight},Mn.lineHeight.set=function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},Mn.leading.get=function(){return this._leading},Mn.leading.set=function(t){this._leading!==t&&(this._leading=t,this.styleID++)},Mn.lineJoin.get=function(){return this._lineJoin},Mn.lineJoin.set=function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},Mn.miterLimit.get=function(){return this._miterLimit},Mn.miterLimit.set=function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},Mn.padding.get=function(){return this._padding},Mn.padding.set=function(t){this._padding!==t&&(this._padding=t,this.styleID++)},Mn.stroke.get=function(){return this._stroke},Mn.stroke.set=function(t){var e=Rn(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},Mn.strokeThickness.get=function(){return this._strokeThickness},Mn.strokeThickness.set=function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},Mn.textBaseline.get=function(){return this._textBaseline},Mn.textBaseline.set=function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},Mn.trim.get=function(){return this._trim},Mn.trim.set=function(t){this._trim!==t&&(this._trim=t,this.styleID++)},Mn.whiteSpace.get=function(){return this._whiteSpace},Mn.whiteSpace.set=function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},Mn.wordWrap.get=function(){return this._wordWrap},Mn.wordWrap.set=function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},Mn.wordWrapWidth.get=function(){return this._wordWrapWidth},Mn.wordWrapWidth.set=function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},Cn.prototype.toFontString=function(){var t="number"===typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&In.indexOf(i)<0&&(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},Object.defineProperties(Cn.prototype,Mn);var Ln=function(t,e,r,i,n,a,s,o,h){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=a,this.lineHeight=s,this.maxLineWidth=o,this.fontProperties=h};Ln.measureText=function(t,e,r,i){void 0===i&&(i=Ln._canvas),r=void 0===r||null===r?e.wordWrap:r;var n=e.toFontString(),a=Ln.measureFont(n);0===a.fontSize&&(a.fontSize=e.fontSize,a.ascent=e.fontSize);var s=i.getContext("2d");s.font=n;for(var o=r?Ln.wordWrap(t,e,i):t,h=o.split(/(?:\r\n|\r|\n)/),l=new Array(h.length),u=0,c=0;c<h.length;c++){var f=s.measureText(h[c]).width+(h[c].length-1)*e.letterSpacing;l[c]=f,u=Math.max(u,f)}var p=u+e.strokeThickness;e.dropShadow&&(p+=e.dropShadowDistance);var d=e.lineHeight||a.fontSize+e.strokeThickness,_=Math.max(d,a.fontSize+e.strokeThickness)+(h.length-1)*(d+e.leading);return e.dropShadow&&(_+=e.dropShadowDistance),new Ln(t,e,p,_,h,l,d+e.leading,u,a)},Ln.wordWrap=function(t,e,r){void 0===r&&(r=Ln._canvas);for(var i=r.getContext("2d"),n=0,a="",s="",o={},h=e.letterSpacing,l=e.whiteSpace,u=Ln.collapseSpaces(l),c=Ln.collapseNewlines(l),f=!u,p=e.wordWrapWidth+h,d=Ln.tokenize(t),_=0;_<d.length;_++){var m=d[_];if(Ln.isNewline(m)){if(!c){s+=Ln.addLine(a),f=!u,a="",n=0;continue}m=" "}if(u){var y=Ln.isBreakingSpace(m),v=Ln.isBreakingSpace(a[a.length-1]);if(y&&v)continue}var g=Ln.getFromCache(m,h,o,i);if(g>p)if(""!==a&&(s+=Ln.addLine(a),a="",n=0),Ln.canBreakWords(m,e.breakWords))for(var b=m.split(""),x=0;x<b.length;x++){var T=b[x],D=1;while(b[x+D]){var A=b[x+D],w=T[T.length-1];if(Ln.canBreakChars(w,A,m,x,e.breakWords))break;T+=A,D++}x+=T.length-1;var S=Ln.getFromCache(T,h,o,i);S+n>p&&(s+=Ln.addLine(a),f=!1,a="",n=0),a+=T,n+=S}else{a.length>0&&(s+=Ln.addLine(a),a="",n=0);var E=_===d.length-1;s+=Ln.addLine(m,!E),f=!1,a="",n=0}else g+n>p&&(f=!1,s+=Ln.addLine(a),a="",n=0),(a.length>0||!Ln.isBreakingSpace(m)||f)&&(a+=m,n+=g)}return s+=Ln.addLine(a,!1),s},Ln.addLine=function(t,e){return void 0===e&&(e=!0),t=Ln.trimRight(t),t=e?t+"\n":t,t},Ln.getFromCache=function(t,e,r,i){var n=r[t];if(void 0===n){var a=t.length*e;n=i.measureText(t).width+a,r[t]=n}return n},Ln.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},Ln.collapseNewlines=function(t){return"normal"===t},Ln.trimRight=function(t){if("string"!==typeof t)return"";for(var e=t.length-1;e>=0;e--){var r=t[e];if(!Ln.isBreakingSpace(r))break;t=t.slice(0,-1)}return t},Ln.isNewline=function(t){return"string"===typeof t&&Ln._newlines.indexOf(t.charCodeAt(0))>=0},Ln.isBreakingSpace=function(t){return"string"===typeof t&&Ln._breakingSpaces.indexOf(t.charCodeAt(0))>=0},Ln.tokenize=function(t){var e=[],r="";if("string"!==typeof t)return e;for(var i=0;i<t.length;i++){var n=t[i];Ln.isBreakingSpace(n)||Ln.isNewline(n)?(""!==r&&(e.push(r),r=""),e.push(n)):r+=n}return""!==r&&e.push(r),e},Ln.canBreakWords=function(t,e){return e},Ln.canBreakChars=function(t,e,r,i,n){return!0},Ln.measureFont=function(t){if(Ln._fonts[t])return Ln._fonts[t];var e={},r=Ln._canvas,i=Ln._context;i.font=t;var n=Ln.METRICS_STRING+Ln.BASELINE_SYMBOL,a=Math.ceil(i.measureText(n).width),s=Math.ceil(i.measureText(Ln.BASELINE_SYMBOL).width),o=2*s;s=s*Ln.BASELINE_MULTIPLIER|0,r.width=a,r.height=o,i.fillStyle="#f00",i.fillRect(0,0,a,o),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(n,0,s);var h=i.getImageData(0,0,a,o).data,l=h.length,u=4*a,c=0,f=0,p=!1;for(c=0;c<s;++c){for(var d=0;d<u;d+=4)if(255!==h[f+d]){p=!0;break}if(p)break;f+=u}for(e.ascent=s-c,f=l-u,p=!1,c=o;c>s;--c){for(var _=0;_<u;_+=4)if(255!==h[f+_]){p=!0;break}if(p)break;f-=u}return e.descent=c-s,e.fontSize=e.ascent+e.descent,Ln._fonts[t]=e,e},Ln.clearMetrics=function(t){void 0===t&&(t=""),t?delete Ln._fonts[t]:Ln._fonts={}};var kn=function(){try{var t=new OffscreenCanvas(0,0);return t.getContext("2d")?t:document.createElement("canvas")}catch(e){return document.createElement("canvas")}}();kn.width=kn.height=10,Ln._canvas=kn,Ln._context=kn.getContext("2d"),Ln._fonts={},Ln.METRICS_STRING="|ÉqÅ",Ln.BASELINE_SYMBOL="M",Ln.BASELINE_MULTIPLIER=1.4,Ln._newlines=[10,13],Ln._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var jn={texture:!0,children:!1,baseTexture:!0},Un=function(t){function e(e,r,i){i=i||document.createElement("canvas"),i.width=3,i.height=3;var n=Be.from(i);n.orig=new Nt,n.trim=new Nt,t.call(this,n),this.canvas=i,this.context=this.canvas.getContext("2d"),this._resolution=f.RESOLUTION,this._autoResolution=!0,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={width:{configurable:!0},height:{configurable:!0},style:{configurable:!0},text:{configurable:!0},resolution:{configurable:!0}};return e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,i,n=this.context,a=Ln.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=a.width,o=a.height,h=a.lines,l=a.lineHeight,u=a.lineWidths,c=a.maxLineWidth,f=a.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,d=0;d<p;++d){var _=e.dropShadow&&0===d,m=_?2*o:0,y=m*this.resolution;if(_){n.fillStyle="black",n.strokeStyle="black";var v=e.dropShadowColor,g=L("number"===typeof v?v:j(v));n.shadowColor="rgba("+255*g[0]+","+255*g[1]+","+255*g[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+y}else n.fillStyle=this._generateFillStyle(e,h),n.strokeStyle=e.stroke,n.shadowColor=0,n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var b=0;b<h.length;b++)r=e.strokeThickness/2,i=e.strokeThickness/2+b*l+f.ascent,"right"===e.align?r+=c-u[b]:"center"===e.align&&(r+=(c-u[b])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[b],r+e.padding,i+e.padding-m,!0),e.fill&&this.drawLetterSpacing(h[b],r+e.padding,i+e.padding-m)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r,i){void 0===i&&(i=!1);var n=this._style,a=n.letterSpacing;if(0!==a)for(var s=e,o=Array.from?Array.from(t):t.split(""),h=this.context.measureText(t).width,l=0,u=0;u<o.length;++u){var c=o[u];i?this.context.strokeText(c,s,r):this.context.fillText(c,s,r),l=this.context.measureText(t.substring(u+1)).width,s+=h-l+a,h=l}else i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=st(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,i=this._style,n=i.trim?0:i.padding,a=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(t.width/this._resolution),r.trim.height=r._frame.height=Math.ceil(t.height/this._resolution),r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),a.setRealSize(t.width,t.height,this._resolution),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(1===t.fill.length)return t.fill[0];var r,i,n,a,s=Math.ceil(this.canvas.width/this._resolution),o=Math.ceil(this.canvas.height/this._resolution),h=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var u=h.length+1,c=1;c<u;++c)l.push(c/u);if(h.unshift(t.fill[0]),l.unshift(0),h.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===Pn.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,0,s/2,o),i=(h.length+1)*e.length,n=0;for(var f=0;f<e.length;f++){n+=1;for(var p=0;p<h.length;p++)a="number"===typeof l[p]?l[p]/e.length+f/e.length:n/i,r.addColorStop(a,h[p]),n++}}else{r=this.context.createLinearGradient(0,o/2,s,o/2),i=h.length+1,n=1;for(var d=0;d<h.length;d++)a="number"===typeof l[d]?l[d]:n/i,r.addColorStop(a,h[d]),n++}return r},e.prototype.destroy=function(e){"boolean"===typeof e&&(e={children:e}),e=Object.assign({},jn,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},r.width.get=function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},r.width.set=function(t){this.updateText(!0);var e=Z(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},r.height.get=function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},r.height.set=function(t){this.updateText(!0);var e=Z(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},r.style.get=function(){return this._style},r.style.set=function(t){t=t||{},this._style=t instanceof Cn?t:new Cn(t),this.localStyleID=-1,this.dirty=!0},r.text.get=function(){return this._text},r.text.set=function(t){t=String(null===t||void 0===t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},r.resolution.get=function(){return this._resolution},r.resolution.set=function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},Object.defineProperties(e.prototype,r),e}(En);
/*!
 * @pixi/prepare - v5.1.5
 * Compiled Tue, 24 Sep 2019 04:07:05 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
f.UPLOADS_PER_FRAME=4;var Xn=function(t){this.maxItemsPerFrame=t,this.itemsLeft=0};Xn.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},Xn.prototype.allowedToUpload=function(){return this.itemsLeft-- >0};var Vn=function(t){var e=this;this.limiter=new Xn(f.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook($n),this.registerFindHook(qn),this.registerFindHook(Gn),this.registerFindHook(Yn),this.registerFindHook(Hn),this.registerUploadHook(zn),this.registerUploadHook(Wn)};function Gn(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var i=0;i<t._textures.length;i++)if(t._textures[i]instanceof Be){var n=t._textures[i].baseTexture;-1===e.indexOf(n)&&(e.push(n),r=!0)}return r}function Yn(t,e){return t instanceof be&&(-1===e.indexOf(t)&&e.push(t),!0)}function Hn(t,e){if(t._texture&&t._texture instanceof Be){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function zn(t,e){return e instanceof Un&&(e.updateText(!0),!0)}function Wn(t,e){if(e instanceof Cn){var r=e.toFontString();return Ln.measureFont(r),!0}return!1}function $n(t,e){if(t instanceof Un){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function qn(t,e){return t instanceof Cn&&(-1===e.indexOf(t)&&e.push(t),!0)}Vn.prototype.upload=function(t,e){"function"===typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,he.system.addOnce(this.tick,this,se.UTILITY))):e&&e()},Vn.prototype.tick=function(){setTimeout(this.delayedTick,0)},Vn.prototype.prepareItems=function(){this.limiter.beginFrame();while(this.queue.length&&this.limiter.allowedToUpload()){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)he.system.addOnce(this.tick,this,se.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(var a=0,s=n.length;a<s;a++)n[a]()}},Vn.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},Vn.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},Vn.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r;e++)if(this.addHooks[e](t,this.queue))break;if(t instanceof zt)for(var i=t.children.length-1;i>=0;i--)this.add(t.children[i]);return this},Vn.prototype.destroy=function(){this.ticking&&he.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};var Kn=function(t){function e(e){t.call(this,e),this.uploadHookHelper=this.renderer,this.registerFindHook(Qn),this.registerUploadHook(Zn),this.registerUploadHook(Jn)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Vn);function Zn(t,e){return e instanceof be&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function Jn(t,e){return e instanceof An&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function Qn(t,e){return t instanceof An&&(e.push(t),!0)}var ta=function(t){this.maxMilliseconds=t,this.frameStart=0};ta.prototype.beginFrame=function(){this.frameStart=Date.now()},ta.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};
/*!
 * @pixi/app - v5.1.5
 * Compiled Tue, 24 Sep 2019 04:07:05 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var ea=function t(e){var r=this;e=Object.assign({forceCanvas:!1},e),this.renderer=wi(e),this.stage=new zt,t._plugins.forEach((function(t){t.init.call(r,e)}))},ra={view:{configurable:!0},screen:{configurable:!0}};ea.registerPlugin=function(t){ea._plugins.push(t)},ea.prototype.render=function(){this.renderer.render(this.stage)},ra.view.get=function(){return this.renderer.view},ra.screen.get=function(){return this.renderer.screen},ea.prototype.destroy=function(t,e){var r=this,i=ea._plugins.slice(0);i.reverse(),i.forEach((function(t){t.destroy.call(r)})),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},Object.defineProperties(ea.prototype,ra),ea._plugins=[];var ia=function(){};ia.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.resize),this._resizeTo=t,t&&(window.addEventListener("resize",this.resize),this.resize())},get:function(){return this._resizeTo}}),this.resize=function(){e._resizeTo&&(e._resizeTo===window?e.renderer.resize(window.innerWidth,window.innerHeight):e.renderer.resize(e._resizeTo.clientWidth,e._resizeTo.clientHeight))},this._resizeTo=null,this.resizeTo=t.resizeTo||null},ia.destroy=function(){this.resizeTo=null,this.resize=null},ea.registerPlugin(ia);var na=r("bbad"),aa=r.n(na),sa=r("d5e4"),oa=r.n(sa);
/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */
function ha(){}function la(t,e,r,i){var n=0,a=t.length;(function s(o){o||n===a?r&&r(o):i?setTimeout((function(){e(t[n++],s)}),1):e(t[n++],s)})()}function ua(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function ca(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,i={_tasks:[],concurrency:e,saturated:ha,unsaturated:ha,buffer:e/4,empty:ha,drain:ha,error:ha,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){r=0,i.drain=ha,i.started=!1,i._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){while(!i.paused&&r<i.concurrency&&i._tasks.length){var e=i._tasks.shift();0===i._tasks.length&&i.empty(),r+=1,r===i.concurrency&&i.saturated(),t(e.data,ua(a(e)))}},length:function(){return i._tasks.length},running:function(){return r},idle:function(){return i._tasks.length+r===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var t=1;t<=i.concurrency;t++)i.process()}}};function n(t,e,r){if(null!=r&&"function"!==typeof r)throw new Error("task callback must be a function");if(i.started=!0,null==t&&i.idle())setTimeout((function(){return i.drain()}),1);else{var n={data:t,callback:"function"===typeof r?r:ha};e?i._tasks.unshift(n):i._tasks.push(n),setTimeout((function(){return i.process()}),1)}}function a(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&i.error(arguments[0],t.data),r<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}return i}var fa={};function pa(t,e){var r=this;fa[t.url]?(t.data=fa[t.url],t.complete()):t.onComplete.once((function(){return fa[r.url]=r.data})),e()}function da(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _a(t,e,r){return e&&da(t.prototype,e),r&&da(t,r),t}var ma=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),ya=null,va=0,ga=200,ba=204,xa=1223,Ta=2;function Da(){}var Aa=function(){function t(e,r,i){if("string"!==typeof e||"string"!==typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Da,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new oa.a,this.onProgress=new oa.a,this.onComplete=new oa.a,this.onAfterMiddleware=new oa.a}t.setExtensionLoadType=function(e,r){wa(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){wa(t._xhrTypeMap,e,r)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else while(this.data.firstChild)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(r)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"===typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:ma&&this.crossOrigin?this._loadXdr():this._loadXhr();break}},e._hasFlag=function(t){return 0!==(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&"undefined"!==typeof window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&"undefined"!==typeof window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(Sa(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(Sa(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(Sa(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,r="",i="undefined"===typeof e.status?ga:e.status;""!==e.responseType&&"text"!==e.responseType&&"undefined"!==typeof e.responseType||(r=e.responseText),i===va&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=ga:i===xa&&(i=ba);var n=i/100|0;if(n===Ta){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(o){return void this.abort("Error trying to parse loaded json: "+o)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var a=new DOMParser;this.data=a.parseFromString(r,"text/xml")}else{var s=document.createElement("div");s.innerHTML=r,this.data=s}this.type=t.TYPE.XML}catch(o){return void this.abort("Error trying to parse loaded xml: "+o)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,ya||(ya=document.createElement("a")),ya.href=t,t=aa()(ya.href,{strictMode:!0});var r=!t.port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&i===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),n=t.indexOf("#"),a=Math.min(i>-1?i:t.length,n>-1?n:t.length);t=t.substring(0,a),e=t.substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},_a(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function wa(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function Sa(t){return t.toString().replace("object ","")}Aa.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Aa.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Aa.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Aa.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Aa._loadTypeMap={gif:Aa.LOAD_TYPE.IMAGE,png:Aa.LOAD_TYPE.IMAGE,bmp:Aa.LOAD_TYPE.IMAGE,jpg:Aa.LOAD_TYPE.IMAGE,jpeg:Aa.LOAD_TYPE.IMAGE,tif:Aa.LOAD_TYPE.IMAGE,tiff:Aa.LOAD_TYPE.IMAGE,webp:Aa.LOAD_TYPE.IMAGE,tga:Aa.LOAD_TYPE.IMAGE,svg:Aa.LOAD_TYPE.IMAGE,"svg+xml":Aa.LOAD_TYPE.IMAGE,mp3:Aa.LOAD_TYPE.AUDIO,ogg:Aa.LOAD_TYPE.AUDIO,wav:Aa.LOAD_TYPE.AUDIO,mp4:Aa.LOAD_TYPE.VIDEO,webm:Aa.LOAD_TYPE.VIDEO},Aa._xhrTypeMap={xhtml:Aa.XHR_RESPONSE_TYPE.DOCUMENT,html:Aa.XHR_RESPONSE_TYPE.DOCUMENT,htm:Aa.XHR_RESPONSE_TYPE.DOCUMENT,xml:Aa.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Aa.XHR_RESPONSE_TYPE.DOCUMENT,svg:Aa.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Aa.XHR_RESPONSE_TYPE.DOCUMENT,gif:Aa.XHR_RESPONSE_TYPE.BLOB,png:Aa.XHR_RESPONSE_TYPE.BLOB,bmp:Aa.XHR_RESPONSE_TYPE.BLOB,jpg:Aa.XHR_RESPONSE_TYPE.BLOB,jpeg:Aa.XHR_RESPONSE_TYPE.BLOB,tif:Aa.XHR_RESPONSE_TYPE.BLOB,tiff:Aa.XHR_RESPONSE_TYPE.BLOB,webp:Aa.XHR_RESPONSE_TYPE.BLOB,tga:Aa.XHR_RESPONSE_TYPE.BLOB,json:Aa.XHR_RESPONSE_TYPE.JSON,text:Aa.XHR_RESPONSE_TYPE.TEXT,txt:Aa.XHR_RESPONSE_TYPE.TEXT,ttf:Aa.XHR_RESPONSE_TYPE.BUFFER,otf:Aa.XHR_RESPONSE_TYPE.BUFFER},Aa.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Ea="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Pa(t){var e="",r=0;while(r<t.length){for(var i=[0,0,0],n=[0,0,0,0],a=0;a<i.length;++a)r<t.length?i[a]=255&t.charCodeAt(r++):i[a]=0;n[0]=i[0]>>2,n[1]=(3&i[0])<<4|i[1]>>4,n[2]=(15&i[1])<<2|i[2]>>6,n[3]=63&i[2];var s=r-(t.length-1);switch(s){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64;break;default:break}for(var o=0;o<n.length;++o)e+=Ea.charAt(n[o])}return e}var Oa=window.URL||window.webkitURL;function Ia(t,e){if(t.data){if(t.xhr&&t.xhrType===Aa.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!==typeof t.data){if(0===t.data.type.indexOf("image")){var r=Oa.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=Aa.TYPE.IMAGE,void(t.data.onload=function(){Oa.revokeObjectURL(r),t.data.onload=null,e()})}}else{var i=t.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return t.data=new Image,t.data.src="data:"+i+";base64,"+Pa(t.xhr.responseText),t.type=Aa.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}var Ca={caching:pa,parsing:Ia},Ma=100,Fa=/(#[\w-]+)?$/,Ra=function(){function t(e,r){var i=this;void 0===e&&(e=""),void 0===r&&(r=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=ca(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new oa.a,this.onError=new oa.a,this.onLoad=new oa.a,this.onStart=new oa.a,this.onComplete=new oa.a;for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var a=0;a<t._defaultAfterMiddleware.length;++a)this.use(t._defaultAfterMiddleware[a])}var e=t.prototype;return e.add=function(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"===typeof t&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!==typeof e&&(i=r,r=e,e=t),"string"!==typeof e)throw new Error("No url passed to add resource to loader.");if("function"===typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new Aa(t,e,r),"function"===typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var a=r.parentResource,s=[],o=0;o<a.children.length;++o)a.children[o].isComplete||s.push(a.children[o]);var h=a.progressChunk*(s.length+1),l=h/(s.length+2);a.children.push(this.resources[t]),a.progressChunk=l;for(var u=0;u<s.length;++u)s[u].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"===typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=this._queue._tasks.length,r=Ma/e,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=r;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,r=aa()(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=Fa.exec(e)[0];e=e.substr(0,e.length-i.length),-1!==e.indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=i}return e},e._loadResource=function(t,e){var r=this;t._dequeue=e,la(this._beforeMiddleware,(function(e,i){e.call(r,t,(function(){i(t.isComplete?{}:null)}))}),(function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=Ma,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),la(this._afterMiddleware,(function(r,i){r.call(e,t,i)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(Ma,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},_a(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();Ra._defaultBeforeMiddleware=[],Ra._defaultAfterMiddleware=[],Ra.pre=function(t){return Ra._defaultBeforeMiddleware.push(t),Ra},Ra.use=function(t){return Ra._defaultAfterMiddleware.push(t),Ra};
/*!
 * @pixi/loaders - v5.1.5
 * Compiled Tue, 24 Sep 2019 04:07:05 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Ba=function(){};Ba.use=function(t,e){t.data&&t.type===Aa.TYPE.IMAGE&&(t.texture=Be.fromLoader(t.data,t.url,t.name)),e()};var Na=function(t){function e(r,i){var n=this;t.call(this,r,i),d.a.call(this);for(var a=0;a<e._plugins.length;++a){var s=e._plugins[a],o=s.pre,h=s.use;o&&this.pre(o),h&&this.use(h)}this.onStart.add((function(t){return n.emit("start",t)})),this.onProgress.add((function(t,e){return n.emit("progress",t,e)})),this.onError.add((function(t,e,r){return n.emit("error",t,e,r)})),this.onLoad.add((function(t,e){return n.emit("load",t,e)})),this.onComplete.add((function(t,e){return n.emit("complete",t,e)})),this._protected=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={shared:{configurable:!0}};return e.prototype.destroy=function(){this._protected||(this.removeAllListeners(),this.reset())},r.shared.get=function(){var t=e._shared;return t||(t=new e,t._protected=!0,e._shared=t),t},Object.defineProperties(e,r),e}(Ra);Object.assign(Na.prototype,d.a.prototype),Na._plugins=[],Na.registerPlugin=function(t){return Na._plugins.push(t),t.add&&t.add(),Na},Na.registerPlugin({use:Ca.parsing}),Na.registerPlugin(Ba);var La=function(){};La.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Na.shared:new Na},La.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};var ka=Aa,ja=function(t){function e(e,r,i,n){void 0===e&&(e=1500),void 0===i&&(i=16384),void 0===n&&(n=!1),t.call(this);var a=16384;i>a&&(i=a),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=i,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=x.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={tint:{configurable:!0}};return e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},r.tint.get=function(){return this._tint},r.tint.set=function(t){this._tint=t,L(t,this.tintRgb)},e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){var e=Math.floor(t/this._batchSize);while(this._bufferUpdateIDs.length<e)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},Object.defineProperties(e.prototype,r),e}(zt),Ua=function(t,e,r){this.geometry=new qe,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var n=t[i];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||w.FLOAT,offset:n.offset},e[i]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()};
/*!
 * @pixi/particles - v5.1.5
 * Compiled Tue, 24 Sep 2019 04:07:05 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ua.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Ve(W(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var i=this.dynamicProperties[r];i.offset=e,e+=i.size,this.dynamicStride+=i.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Ve(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var o=this.staticProperties[s];o.offset=a,a+=o.size,this.staticStride+=o.size}var h=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(h),this.staticDataUint32=new Uint32Array(h),this.staticBuffer=new Ve(this.staticData,!0,!1);for(var l=0;l<this.dynamicProperties.length;++l){var u=this.dynamicProperties[l];t.addAttribute(u.attributeName,this.dynamicBuffer,0,u.type===w.UNSIGNED_BYTE,u.type,4*this.dynamicStride,4*u.offset)}for(var c=0;c<this.staticProperties.length;++c){var f=this.staticProperties[c];t.addAttribute(f.attributeName,this.staticBuffer,0,f.type===w.UNSIGNED_BYTE,f.type,4*this.staticStride,4*f.offset)}},Ua.prototype.uploadDynamic=function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(t,e,r,n.type===w.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},Ua.prototype.uploadStatic=function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(t,e,r,n.type===w.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},Ua.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()};var Xa="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",Va="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",Ga=function(t){function e(e){t.call(this,e),this.shader=null,this.properties=null,this.tempMatrix=new Dt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:w.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=jr.from(Xa,Va,{})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,n=this.renderer,a=e.length;if(0!==a){a>r&&!t.autoResize&&(a=r);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var o=e[0]._texture.baseTexture;this.renderer.state.setBlendMode(G(t.blendMode,o.premultiplyAlpha));var h=n.gl,l=t.worldTransform.copyTo(this.tempMatrix);l.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=l.toArray(!0),this.shader.uniforms.uColor=Y(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,o.premultiplyAlpha),this.shader.uniforms.uSampler=o,this.renderer.shader.bind(this.shader);for(var u=!1,c=0,f=0;c<a;c+=i,f+=1){var p=a-c;p>i&&(p=i),f>=s.length&&s.push(this._generateOneMoreBuffer(t));var d=s[f];d.uploadDynamic(e,c,p);var _=t._bufferUpdateIDs[f]||0;u=u||d._updateID<_,u&&(d._updateID=t._updateID,d.uploadStatic(e,c,p)),n.geometry.bind(d.geometry),h.drawElements(h.TRIANGLES,6*p,h.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,i=t._batchSize,n=t._properties,a=0;a<r;a+=i)e.push(new Ua(this.properties,n,i));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,r=t._properties;return new Ua(this.properties,r,e)},e.prototype.uploadVertices=function(t,e,r,i,n,a){for(var s=0,o=0,h=0,l=0,u=0;u<r;++u){var c=t[e+u],f=c._texture,p=c.scale.x,d=c.scale.y,_=f.trim,m=f.orig;_?(o=_.x-c.anchor.x*m.width,s=o+_.width,l=_.y-c.anchor.y*m.height,h=l+_.height):(s=m.width*(1-c.anchor.x),o=m.width*-c.anchor.x,h=m.height*(1-c.anchor.y),l=m.height*-c.anchor.y),i[a]=o*p,i[a+1]=l*d,i[a+n]=s*p,i[a+n+1]=l*d,i[a+2*n]=s*p,i[a+2*n+1]=h*d,i[a+3*n]=o*p,i[a+3*n+1]=h*d,a+=4*n}},e.prototype.uploadPosition=function(t,e,r,i,n,a){for(var s=0;s<r;s++){var o=t[e+s].position;i[a]=o.x,i[a+1]=o.y,i[a+n]=o.x,i[a+n+1]=o.y,i[a+2*n]=o.x,i[a+2*n+1]=o.y,i[a+3*n]=o.x,i[a+3*n+1]=o.y,a+=4*n}},e.prototype.uploadRotation=function(t,e,r,i,n,a){for(var s=0;s<r;s++){var o=t[e+s].rotation;i[a]=o,i[a+n]=o,i[a+2*n]=o,i[a+3*n]=o,a+=4*n}},e.prototype.uploadUvs=function(t,e,r,i,n,a){for(var s=0;s<r;++s){var o=t[e+s]._texture._uvs;o?(i[a]=o.x0,i[a+1]=o.y0,i[a+n]=o.x1,i[a+n+1]=o.y1,i[a+2*n]=o.x2,i[a+2*n+1]=o.y2,i[a+3*n]=o.x3,i[a+3*n+1]=o.y3,a+=4*n):(i[a]=0,i[a+1]=0,i[a+n]=0,i[a+n+1]=0,i[a+2*n]=0,i[a+2*n+1]=0,i[a+3*n]=0,i[a+3*n+1]=0,a+=4*n)}},e.prototype.uploadTint=function(t,e,r,i,n,a){for(var s=0;s<r;++s){var o=t[e+s],h=o._texture.baseTexture.premultiplyAlpha,l=o.alpha,u=l<1&&h?H(o._tintRGB,l):o._tintRGB+(255*l<<24);i[a]=u,i[a+n]=u,i[a+2*n]=u,i[a+3*n]=u,a+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(rr),Ya=function(t,e,r){void 0===r&&(r=null),this.baseTexture=t,this.textures={},this.animations={},this.data=e,this.resolution=this._updateResolution(r||(this.baseTexture.resource?this.baseTexture.resource.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null},Ha={BATCH_SIZE:{configurable:!0}};Ha.BATCH_SIZE.get=function(){return 1e3},Ya.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=pt(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},Ya.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=Ya.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},Ya.prototype._processFrames=function(t){var e=t,r=Ya.BATCH_SIZE;while(e-t<r&&e<this._frameKeys.length){var i=this._frameKeys[e],n=this._frames[i],a=n.frame;if(a){var s=null,o=null,h=!1!==n.trimmed&&n.sourceSize?n.sourceSize:n.frame,l=new Nt(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);s=n.rotated?new Nt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):new Nt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),!1!==n.trimmed&&n.spriteSourceSize&&(o=new Nt(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new Be(this.baseTexture,s,l,o,n.rotated?2:0,n.anchor),Be.addToCache(this.textures[i],i)}e++}},Ya.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var i=t[e][r];this.animations[e].push(this.textures[i])}}},Ya.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},Ya.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*Ya.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*Ya.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)},Ya.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},Object.defineProperties(Ya,Ha);var za=function(){};za.use=function(t,e){var r=t.name+"_image";if(t.data&&t.type===ka.TYPE.JSON&&t.data.frames&&!this.resources[r]){var i={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},n=za.getResourcePath(t,this.baseUrl);this.add(r,n,i,(function(r){if(r.error)e(r.error);else{var i=new Ya(r.texture.baseTexture,t.data,t.url);i.parse((function(){t.spritesheet=i,t.textures=i.textures,e()}))}}))}else e()},za.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:v.a.resolve(t.url.replace(e,""),t.data.meta.image)};
/*!
 * @pixi/sprite-tiling - v5.1.5
 * Compiled Tue, 24 Sep 2019 04:07:05 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Wa=new mt,$a=function(t){function e(e,r,i){void 0===r&&(r=100),void 0===i&&(i=100),t.call(this,e),this.tileTransform=new Rt,this._width=r,this._height=i,this._canvasPattern=null,this.uvMatrix=e.uvMatrix||new ti(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={clampMargin:{configurable:!0},tileScale:{configurable:!0},tilePosition:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return r.clampMargin.get=function(){return this.uvMatrix.clampMargin},r.clampMargin.set=function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},r.tileScale.get=function(){return this.tileTransform.scale},r.tileScale.set=function(t){this.tileTransform.scale.copyFrom(t)},r.tilePosition.get=function(){return this.tileTransform.position},r.tilePosition.set=function(t){this.tileTransform.position.copyFrom(t)},e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Nt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Wa);var e=this._width,r=this._height,i=-e*this.anchor._x;if(Wa.x>=i&&Wa.x<i+e){var n=-r*this.anchor._y;if(Wa.y>=n&&Wa.y<n+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,r,i){return new e(Be.from(t),r,i)},e.fromFrame=function(t,r,i){var n=rt[t];if(!n)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(n,r,i)},e.fromImage=function(t,r,i,n){return n&&"object"!==typeof n&&(n={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),new e(Be.from(t,n),r,i)},r.width.get=function(){return this._width},r.width.set=function(t){this._width=t},r.height.get=function(){return this._height},r.height.set=function(t){this._height=t},Object.defineProperties(e.prototype,r),e}(En),qa="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Ka="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n",Za="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",Ja=new Dt,Qa=function(t){function e(e){t.call(this,e);var r={globals:this.renderer.globalUniforms};this.shader=jr.from(qa,Ka,r),this.simpleShader=jr.from(qa,Za,r),this.quad=new Ze}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=this.renderer,r=this.quad,i=r.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&(i=r.uvs,i[0]=i[6]=-t.anchor.x,i[1]=i[3]=-t.anchor.y,i[2]=i[4]=1-t.anchor.x,i[5]=i[7]=1-t.anchor.y),r.invalidate();var n=t._texture,a=n.baseTexture,s=t.tileTransform.localTransform,o=t.uvMatrix,h=a.isPowerOfTwo&&n.frame.width===a.width&&n.frame.height===a.height;h&&(a._glTextures[e.CONTEXT_UID]?h=a.wrapMode!==E.CLAMP:a.wrapMode===E.CLAMP&&(a.wrapMode=E.REPEAT));var l=h?this.simpleShader:this.shader,u=n.width,c=n.height,f=t._width,p=t._height;Ja.set(s.a*u/f,s.b*u/p,s.c*c/f,s.d*c/p,s.tx/f,s.ty/p),Ja.invert(),h?Ja.prepend(o.mapCoord):(l.uniforms.uMapCoord=o.mapCoord.toArray(!0),l.uniforms.uClampFrame=o.uClampFrame,l.uniforms.uClampOffset=o.uClampOffset),l.uniforms.uTransform=Ja.toArray(!0),l.uniforms.uColor=z(t.tint,t.worldAlpha,l.uniforms.uColor,a.premultiplyAlpha),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.uSampler=n,e.shader.bind(l),e.geometry.bind(r),e.state.setBlendMode(G(t.blendMode,a.premultiplyAlpha)),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(rr),ts=function(t){function e(e,r){var i=this;void 0===r&&(r={}),t.call(this),this._textWidth=0,this._textHeight=0,this._glyphs=[],this._font={tint:void 0!==r.tint?r.tint:16777215,align:r.align||"left",name:null,size:0},this.font=r.font,this._text=e,this._maxWidth=0,this._maxLineHeight=0,this._letterSpacing=0,this._anchor=new yt((function(){i.dirty=!0}),this,0,0),this.dirty=!1,this.roundPixels=f.ROUND_PIXELS,this.updateText()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={tint:{configurable:!0},align:{configurable:!0},anchor:{configurable:!0},font:{configurable:!0},text:{configurable:!0},maxWidth:{configurable:!0},maxLineHeight:{configurable:!0},textWidth:{configurable:!0},letterSpacing:{configurable:!0},textHeight:{configurable:!0}};return e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],r=this._font.size/t.size,i=new mt,n=[],a=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",o=s.length,h=this._maxWidth*t.size/this._font.size,l=null,u=0,c=0,f=0,p=-1,d=0,_=0,m=0,y=0;y<o;y++){var v=s.charCodeAt(y),g=s.charAt(y);if(/(?:\s)/.test(g)&&(p=y,d=u),"\r"!==g&&"\n"!==g){var b=t.chars[v];b&&(l&&b.kerning[l]&&(i.x+=b.kerning[l]),n.push({texture:b.texture,line:f,charCode:v,position:new mt(i.x+b.xOffset+this._letterSpacing/2,i.y+b.yOffset)}),i.x+=b.xAdvance+this._letterSpacing,u=i.x,m=Math.max(m,b.yOffset+b.texture.height),l=v,-1!==p&&h>0&&i.x>h&&(++_,$(n,1+p-_,1+y-p),y=p,p=-1,a.push(d),c=Math.max(c,d),f++,i.x=0,i.y+=t.lineHeight,l=null))}else a.push(u),c=Math.max(c,u),++f,++_,i.x=0,i.y+=t.lineHeight,l=null}var x=s.charAt(s.length-1);"\r"!==x&&"\n"!==x&&(/(?:\s)/.test(x)&&(u=d),a.push(u),c=Math.max(c,u));for(var T=[],D=0;D<=f;D++){var A=0;"right"===this._font.align?A=c-a[D]:"center"===this._font.align&&(A=(c-a[D])/2),T.push(A)}for(var w=n.length,S=this.tint,E=0;E<w;E++){var P=this._glyphs[E];P?P.texture=n[E].texture:(P=new En(n[E].texture),P.roundPixels=this.roundPixels,this._glyphs.push(P)),P.position.x=(n[E].position.x+T[n[E].line])*r,P.position.y=n[E].position.y*r,P.scale.x=P.scale.y=r,P.tint=S,P.parent||this.addChild(P)}for(var O=w;O<this._glyphs.length;++O)this.removeChild(this._glyphs[O]);if(this._textWidth=c*r,this._textHeight=(i.y+t.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var I=0;I<w;I++)this._glyphs[I].x-=this._textWidth*this.anchor.x,this._glyphs[I].y-=this._textHeight*this.anchor.y;this._maxLineHeight=m*r},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},r.tint.get=function(){return this._font.tint},r.tint.set=function(t){this._font.tint="number"===typeof t&&t>=0?t:16777215,this.dirty=!0},r.align.get=function(){return this._font.align},r.align.set=function(t){this._font.align=t||"left",this.dirty=!0},r.anchor.get=function(){return this._anchor},r.anchor.set=function(t){"number"===typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},r.font.get=function(){return this._font},r.font.set=function(t){t&&("string"===typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"===typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)},r.text.get=function(){return this._text},r.text.set=function(t){t=String(null===t||void 0===t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},r.maxWidth.get=function(){return this._maxWidth},r.maxWidth.set=function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},r.maxLineHeight.get=function(){return this.validate(),this._maxLineHeight},r.textWidth.get=function(){return this.validate(),this._textWidth},r.letterSpacing.get=function(){return this._letterSpacing},r.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},r.textHeight.get=function(){return this.validate(),this._textHeight},e.registerFont=function(t,r){var i={},n=t.getElementsByTagName("info")[0],a=t.getElementsByTagName("common")[0],s=t.getElementsByTagName("page"),o=pt(s[0].getAttribute("file"),f.RESOLUTION),h={};i.font=n.getAttribute("face"),i.size=parseInt(n.getAttribute("size"),10),i.lineHeight=parseInt(a.getAttribute("lineHeight"),10)/o,i.chars={},r instanceof Be&&(r=[r]);for(var l=0;l<s.length;l++){var u=s[l].getAttribute("id"),c=s[l].getAttribute("file");h[u]=r instanceof Array?r[l]:r[c]}for(var p=t.getElementsByTagName("char"),d=0;d<p.length;d++){var _=p[d],m=parseInt(_.getAttribute("id"),10),y=_.getAttribute("page")||0,v=new Nt(parseInt(_.getAttribute("x"),10)/o+h[y].frame.x/o,parseInt(_.getAttribute("y"),10)/o+h[y].frame.y/o,parseInt(_.getAttribute("width"),10)/o,parseInt(_.getAttribute("height"),10)/o);i.chars[m]={xOffset:parseInt(_.getAttribute("xoffset"),10)/o,yOffset:parseInt(_.getAttribute("yoffset"),10)/o,xAdvance:parseInt(_.getAttribute("xadvance"),10)/o,kerning:{},texture:new Be(h[y].baseTexture,v),page:y}}for(var g=t.getElementsByTagName("kerning"),b=0;b<g.length;b++){var x=g[b],T=parseInt(x.getAttribute("first"),10)/o,D=parseInt(x.getAttribute("second"),10)/o,A=parseInt(x.getAttribute("amount"),10)/o;i.chars[D]&&(i.chars[D].kerning[T]=A)}return e.fonts[i.font]=i,i},Object.defineProperties(e.prototype,r),e}(zt);ts.fonts={};var es=function(){};es.parse=function(t,e){t.bitmapFont=ts.registerFont(t.data,e)},es.add=function(){ka.setExtensionXhrType("fnt",ka.XHR_RESPONSE_TYPE.DOCUMENT)},es.dirname=function(t){var e=t.replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},es.use=function(t,e){if(t.data&&t.type===ka.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var r=t.isDataUrl?"":es.dirname(t.url);t.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/")),r=r.replace(this.baseUrl,""),r&&"/"!==r.charAt(r.length-1)&&(r+="/");for(var i=t.data.getElementsByTagName("page"),n={},a=function(r){n[r.metadata.pageFile]=r.texture,Object.keys(n).length===i.length&&(es.parse(t,n),e())},s=0;s<i.length;++s){var o=i[s].getAttribute("file"),h=r+o,l=!1;for(var u in this.resources){var c=this.resources[u];if(c.url===h){c.metadata.pageFile=o,c.texture?a(c):c.onAfterMiddleware.add(a),l=!0;break}}if(!l){var f={crossOrigin:t.crossOrigin,loadType:ka.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:o},t.metadata.imageMetadata),parentResource:t};this.add(h,f,a)}}}else e();else e()};
/*!
 * @pixi/filter-alpha - v5.1.5
 * Compiled Tue, 24 Sep 2019 04:07:05 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var rs="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",is=function(t){function e(e){void 0===e&&(e=1),t.call(this,Si,rs,{uAlpha:1}),this.alpha=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={alpha:{configurable:!0}};return r.alpha.get=function(){return this.uniforms.uAlpha},r.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,r),e}(Kr),ns="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n    \n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n    \n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n    \n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";function as(t,e){var r,i=Math.ceil(t/2),n=ns,a="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var o=r.replace("%index%",s);o=o.replace("%sampleIndex%",s-(i-1)+".0"),a+=o,a+="\n"}return n=n.replace("%blur%",a),n=n.replace("%size%",t),n}var ss={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},os=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function hs(t){for(var e,r=ss[t],i=r.length,n=os,a="",s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o=0;o<t;o++){var h=s.replace("%index%",o);e=o,o>=i&&(e=t-o-1),h=h.replace("%value%",r[e]),a+=h,a+="\n"}return n=n.replace("%blur%",a),n=n.replace("%size%",t),n}var ls=function(t){function e(e,r,i,n,a){a=a||5;var s=as(a,e),o=hs(a);t.call(this,s,o),this.horizontal=e,this.resolution=n||f.RESOLUTION,this._quality=0,this.quality=i||4,this.blur=r||8}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blur:{configurable:!0},quality:{configurable:!0}};return e.prototype.apply=function(t,e,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{var n=t.getFilterTexture(),a=t.renderer,s=e,o=n;this.state.blend=!1,t.applyFilter(this,s,o,!1);for(var h=1;h<this.passes-1;h++){a.renderTexture.bind(s,s.filterFrame),this.uniforms.uSampler=o;var l=o;o=s,s=l,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,o,r,i),t.returnFilterTexture(n)}},r.blur.get=function(){return this.strength},r.blur.set=function(t){this.padding=1+2*Math.abs(t),this.strength=t},r.quality.get=function(){return this._quality},r.quality.set=function(t){this._quality=t,this.passes=t},Object.defineProperties(e.prototype,r),e}(Kr),us=function(t){function e(e,r,i,n){t.call(this),this.blurXFilter=new ls(!0,e,r,i,n),this.blurYFilter=new ls(!1,e,r,i,n),this.resolution=i||f.RESOLUTION,this.quality=r||4,this.blur=e||8,this.repeatEdgePixels=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blur:{configurable:!0},quality:{configurable:!0},blurX:{configurable:!0},blurY:{configurable:!0},blendMode:{configurable:!0},repeatEdgePixels:{configurable:!0}};return e.prototype.apply=function(t,e,r,i){var n=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(n&&a){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,!0),this.blurYFilter.apply(t,s,r,i),t.returnFilterTexture(s)}else a?this.blurYFilter.apply(t,e,r,i):this.blurXFilter.apply(t,e,r,i)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},r.blur.get=function(){return this.blurXFilter.blur},r.blur.set=function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},r.quality.get=function(){return this.blurXFilter.quality},r.quality.set=function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},r.blurX.get=function(){return this.blurXFilter.blur},r.blurX.set=function(t){this.blurXFilter.blur=t,this.updatePadding()},r.blurY.get=function(){return this.blurYFilter.blur},r.blurY.set=function(t){this.blurYFilter.blur=t,this.updatePadding()},r.blendMode.get=function(){return this.blurYFilter.blendMode},r.blendMode.set=function(t){this.blurYFilter.blendMode=t},r.repeatEdgePixels.get=function(){return this._repeatEdgePixels},r.repeatEdgePixels.set=function(t){this._repeatEdgePixels=t,this.updatePadding()},Object.defineProperties(e.prototype,r),e}(Kr),cs="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",fs=function(t){function e(){var e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};t.call(this,Ei,cs,e),this.alpha=1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={matrix:{configurable:!0},alpha:{configurable:!0}};return e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=Math.sqrt,a=1/3,s=n(a),o=r+(1-r)*a,h=a*(1-r)-s*i,l=a*(1-r)+s*i,u=a*(1-r)+s*i,c=r+a*(1-r),f=a*(1-r)-s*i,p=a*(1-r)-s*i,d=a*(1-r)+s*i,_=r+a*(1-r),m=[o,h,l,0,0,u,c,f,0,0,p,d,_,0,0,0,0,0,1,0];this._loadMatrix(m,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){var e=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.colorTone=function(t,e,r,i,n){t=t||.2,e=e||.15,r=r||16770432,i=i||3375104;var a=(r>>16&255)/255,s=(r>>8&255)/255,o=(255&r)/255,h=(i>>16&255)/255,l=(i>>8&255)/255,u=(255&i)/255,c=[.3,.59,.11,0,0,a,s,o,t,0,h,l,u,e,0,a-h,s-l,o-u,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){t=t||.1;var r=[-2*t,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},r.matrix.get=function(){return this.uniforms.m},r.matrix.set=function(t){this.uniforms.m=t},r.alpha.get=function(){return this.uniforms.uAlpha},r.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,r),e}(Kr);fs.prototype.grayscale=fs.prototype.greyscale;
/*!
 * @pixi/filter-displacement - v5.1.5
 * Compiled Tue, 24 Sep 2019 04:07:05 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var ps="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",ds="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",_s=function(t){function e(e,r){var i=new Dt;e.renderable=!1,t.call(this,ps,ds,{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=i,null!==r&&void 0!==r||(r=20),this.scale=new mt(r,r)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={map:{configurable:!0}};return e.prototype.apply=function(t,e,r,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.transform.worldTransform,a=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==a&&0!==s&&(this.uniforms.rotation[0]=n.a/a,this.uniforms.rotation[1]=n.b/a,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,r,i)},r.map.get=function(){return this.uniforms.mapSampler},r.map.set=function(t){this.uniforms.mapSampler=t},Object.defineProperties(e.prototype,r),e}(Kr),ms="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",ys='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',vs=function(t){function e(){t.call(this,ms,ys)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Kr),gs="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",bs=function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random()),t.call(this,Ei,gs,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={noise:{configurable:!0},seed:{configurable:!0}};return r.noise.get=function(){return this.uniforms.uNoise},r.noise.set=function(t){this.uniforms.uNoise=t},r.seed.get=function(){return this.uniforms.uSeed},r.seed.set=function(t){this.uniforms.uSeed=t},Object.defineProperties(e.prototype,r),e}(Kr),xs=new Dt;Yt.prototype._cacheAsBitmap=!1,Yt.prototype._cacheData=!1;var Ts=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(Yt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new Ts),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Yt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Yt.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds().clone();if(this.filters){var i=this.filters[0].padding;r.pad(i)}r.ceil(f.RESOLUTION);var n=t.renderTexture.current,a=t.renderTexture.sourceFrame,s=t.projection.transform,o=ke.create(r.width,r.height),h="cacheAsBitmap_"+K();this._cacheData.textureCacheId=h,be.addToCache(o.baseTexture,h),Be.addToCache(o,h);var l=xs;l.tx=-r.x,l.ty=-r.y,this.transform.worldTransform.identity(),this.render=this._cacheData.originalRender,t.render(this,o,!0,l,!0),t.projection.transform=s,t.renderTexture.bind(n,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var u=new En(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-r.x/r.width,u.anchor.y=-r.y/r.height,u.alpha=e,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}},Yt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Yt.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var i=t.context;e.ceil(f.RESOLUTION);var n=ke.create(e.width,e.height),a="cacheAsBitmap_"+K();this._cacheData.textureCacheId=a,be.addToCache(n.baseTexture,a),Be.addToCache(n,a);var s=xs;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,n,!0,s,!1),t.context=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var o=new En(n);o.transform.worldTransform=this.transform.worldTransform,o.anchor.x=-e.x/e.width,o.anchor.y=-e.y/e.height,o.alpha=r,o._bounds=this._bounds,this._cacheData.sprite=o,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=o.containsPoint.bind(o)}},Yt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},Yt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},Yt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,be.removeFromCache(this._cacheData.textureCacheId),Be.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Yt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},
/*!
 * @pixi/mixin-get-child-by-name - v5.1.3
 * Compiled Mon, 09 Sep 2019 04:51:53 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
Yt.prototype.name=null,zt.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null},
/*!
 * @pixi/mixin-get-global-position - v5.1.3
 * Compiled Mon, 09 Sep 2019 04:51:53 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
Yt.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new mt),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};
/*!
 * @pixi/mesh - v5.1.5
 * Compiled Tue, 24 Sep 2019 04:07:05 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Ds=function(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0};Ds.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}};var As=new mt,ws=new Xt,Ss=function(t){function e(e,r,i,n){void 0===n&&(n=T.TRIANGLES),t.call(this),this.geometry=e,e.refCount++,this.shader=r,this.state=i||zr.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=0,this._transformID=-1,this.tint=16777215,this.blendMode=x.NORMAL,this._roundPixels=f.ROUND_PIXELS,this.batchUvs=null}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={uvBuffer:{configurable:!0},verticesBuffer:{configurable:!0},material:{configurable:!0},blendMode:{configurable:!0},roundPixels:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return r.uvBuffer.get=function(){return this.geometry.buffers[1]},r.verticesBuffer.get=function(){return this.geometry.buffers[0]},r.material.set=function(t){this.shader=t},r.material.get=function(){return this.shader},r.blendMode.set=function(t){this.state.blendMode=t},r.blendMode.get=function(){return this.state.blendMode},r.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},r.roundPixels.get=function(){return this._roundPixels},r.tint.get=function(){return this.shader.tint},r.tint.set=function(t){this.shader.tint=t},r.texture.get=function(){return this.shader.texture},r.texture.set=function(t){this.shader.texture=t},e.prototype._render=function(t){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===T.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,i=r.a,n=r.b,a=r.c,s=r.d,o=r.tx,h=r.ty,l=this.vertexData,u=0;u<l.length/2;u++){var c=e[2*u],f=e[2*u+1];l[2*u]=i*c+a*f+o,l[2*u+1]=n*c+s*f+h}if(this._roundPixels)for(var p=0;p<l.length;p++)l[p]=Math.round(l[p]);this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Ds(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,As);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=ws.points,i=this.geometry.getIndex().data,n=i.length,a=4===this.drawMode?3:1,s=0;s+2<n;s+=a){var o=2*i[s],h=2*i[s+1],l=2*i[s+2];if(r[0]=e[o],r[1]=e[o+1],r[2]=e[h],r[3]=e[h+1],r[4]=e[l],r[5]=e[l+1],ws.contains(As.x,As.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},Object.defineProperties(e.prototype,r),e}(zt);Ss.BATCHABLE_SIZE=100;var Es="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",Ps="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",Os=function(t){function e(e,r){var i={uSampler:e,alpha:1,uTextureMatrix:Dt.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(i,r.uniforms),t.call(this,r.program||Lr.from(Es,Ps),i),this._colorDirty=!1,this.uvMatrix=new ti(e),this.batchable=void 0===r.program,this.pluginName=r.pluginName,this.tint=r.tint,this.alpha=r.alpha}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={texture:{configurable:!0},alpha:{configurable:!0},tint:{configurable:!0}};return r.texture.get=function(){return this.uniforms.uSampler},r.texture.set=function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},r.alpha.set=function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},r.alpha.get=function(){return this._alpha},r.tint.set=function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},r.tint.get=function(){return this._tint},e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;z(this._tint,this._alpha,this.uniforms.uColor,t.premultiplyAlpha)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},Object.defineProperties(e.prototype,r),e}(jr),Is=function(t){function e(e,r,i){t.call(this);var n=new Ve(e),a=new Ve(r,!0),s=new Ve(i,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,w.FLOAT).addAttribute("aTextureCoord",a,2,!1,w.FLOAT).addIndex(s),this._updateId=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={vertexDirtyId:{configurable:!0}};return r.vertexDirtyId.get=function(){return this.buffers[0]._updateID},Object.defineProperties(e.prototype,r),e}(qe),Cs=function(t){function e(e,r,i,n){void 0===e&&(e=100),void 0===r&&(r=100),void 0===i&&(i=10),void 0===n&&(n=10),t.call(this),this.segWidth=i,this.segHeight=n,this.width=e,this.height=r,this.build()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],i=[],n=this.segWidth-1,a=this.segHeight-1,s=this.width/n,o=this.height/a,h=0;h<t;h++){var l=h%this.segWidth,u=h/this.segWidth|0;e.push(l*s,u*o),r.push(l/n,u/a)}for(var c=n*a,f=0;f<c;f++){var p=f%n,d=f/n|0,_=d*this.segWidth+p,m=d*this.segWidth+p+1,y=(d+1)*this.segWidth+p,v=(d+1)*this.segWidth+p+1;i.push(_,m,y,m,v,y)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(Is),Ms=function(t){function e(e,r){void 0===e&&(e=200),t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1))),this.points=r,this.width=e,this.build()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),i.data=new Uint16Array(6*(t.length-1)));var n=r.data,a=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=t.length,o=0;o<s;o++){var h=4*o,l=o/(s-1);n[h]=l,n[h+1]=0,n[h+2]=l,n[h+3]=1}for(var u=0,c=0;c<s-1;c++){var f=2*c;a[u++]=f,a[u++]=f+1,a[u++]=f+2,a[u++]=f+2,a[u++]=f+1,a[u++]=f+3}r.update(),i.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,r=t[0],i=0,n=0,a=this.buffers[0].data,s=t.length,o=0;o<s;o++){var h=t[o],l=4*o;e=o<t.length-1?t[o+1]:h,n=-(e.x-r.x),i=e.y-r.y;var u=Math.sqrt(i*i+n*n),c=this.width/2;i/=u,n/=u,i*=c,n*=c,a[l]=h.x+i,a[l+1]=h.y+n,a[l+2]=h.x-i,a[l+3]=h.y-n,r=h}this.buffers[0].update()}},e.prototype.update=function(){this.updateVertices()},e}(Is),Fs=function(t){function e(e,r){var i=new Ms(e.height,r),n=new Os(e);t.call(this,i,n),this.autoUpdate=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._render=function(e){(this.autoUpdate||this.geometry.width!==this.shader.texture.height)&&(this.geometry.width=this.shader.texture.height,this.geometry.update()),t.prototype._render.call(this,e)},e}(Ss),Rs=function(t){function e(e,r,i){var n=new Cs(e.width,e.height,r,i),a=new Os(Be.WHITE);t.call(this,n,a),this.texture=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={texture:{configurable:!0}};return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this.geometry.width=this.shader.texture.width,this.geometry.height=this.shader.texture.height,this.geometry.build()},r.texture.set=function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},r.texture.get=function(){return this.shader.texture},e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},Object.defineProperties(e.prototype,r),e}(Ss),Bs=function(t){function e(e,r,i,n,a){void 0===e&&(e=Be.EMPTY);var s=new Is(r,i,n);s.getBuffer("aVertexPosition").static=!1;var o=new Os(e);t.call(this,s,o,null,a),this.autoUpdate=!0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={vertices:{configurable:!0}};return r.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},r.vertices.set=function(t){this.geometry.getBuffer("aVertexPosition").data=t},e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},Object.defineProperties(e.prototype,r),e}(Ss),Ns=10,Ls=function(t){function e(e,r,i,n,a){t.call(this,Be.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth="undefined"!==typeof r?r:Ns,this._rightWidth="undefined"!==typeof n?n:Ns,this._topHeight="undefined"!==typeof i?i:Ns,this._bottomHeight="undefined"!==typeof a?a:Ns,this.texture=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={vertices:{configurable:!0},width:{configurable:!0},height:{configurable:!0},leftWidth:{configurable:!0},rightWidth:{configurable:!0},topHeight:{configurable:!0},bottomHeight:{configurable:!0}};return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},r.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},r.vertices.set=function(t){this.geometry.getBuffer("aVertexPosition").data=t},e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,r=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*r,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*r,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*r,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*r,t[6]=t[14]=t[22]=t[30]=this._width},r.width.get=function(){return this._width},r.width.set=function(t){this._width=t,this._refresh()},r.height.get=function(){return this._height},r.height.set=function(t){this._height=t,this._refresh()},r.leftWidth.get=function(){return this._leftWidth},r.leftWidth.set=function(t){this._leftWidth=t,this._refresh()},r.rightWidth.get=function(){return this._rightWidth},r.rightWidth.set=function(t){this._rightWidth=t,this._refresh()},r.topHeight.get=function(){return this._topHeight},r.topHeight.set=function(t){this._topHeight=t,this._refresh()},r.bottomHeight.get=function(){return this._bottomHeight},r.bottomHeight.set=function(t){this._bottomHeight=t,this._refresh()},e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},Object.defineProperties(e.prototype,r),e}(Rs),ks=function(t){function e(e,r){t.call(this,e[0]instanceof Be?e[0]:e[0].texture),this._textures=null,this._durations=null,this.textures=e,this._autoUpdate=!1!==r,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this.playing=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={totalFrames:{configurable:!0},textures:{configurable:!0},currentFrame:{configurable:!0}};return e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&he.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&he.shared.add(this.update,this,se.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];i+=e/60*1e3;while(i<0)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);this._currentTime=Math.floor(this._currentTime);while(i>=this._durations[this.currentFrame])i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var r=[],i=0;i<t.length;++i)r.push(Be.from(t[i]));return new e(r)},e.fromImages=function(t){for(var r=[],i=0;i<t.length;++i)r.push(Be.from(t[i]));return new e(r)},r.totalFrames.get=function(){return this._textures.length},r.textures.get=function(){return this._textures},r.textures.set=function(t){if(t[0]instanceof Be)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()},r.currentFrame.get=function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},Object.defineProperties(e.prototype,r),e}(En);r.d(e,"VERSION",(function(){return Xs})),r.d(e,"filters",(function(){return Vs})),r.d(e,"useDeprecated",(function(){return Us})),r.d(e,"accessibility",(function(){return n})),r.d(e,"extract",(function(){return a})),r.d(e,"interaction",(function(){return s})),r.d(e,"prepare",(function(){return o})),r.d(e,"utils",(function(){return i})),r.d(e,"Application",(function(){return ea})),r.d(e,"AbstractBatchRenderer",(function(){return Mi})),r.d(e,"AbstractRenderer",(function(){return Di})),r.d(e,"Attribute",(function(){return Ue})),r.d(e,"BaseRenderTexture",(function(){return Me})),r.d(e,"BaseTexture",(function(){return be})),r.d(e,"BatchDrawCall",(function(){return Oi})),r.d(e,"BatchGeometry",(function(){return Ri})),r.d(e,"BatchPluginFactory",(function(){return Li})),r.d(e,"BatchRenderer",(function(){return ji})),r.d(e,"BatchShaderGenerator",(function(){return Fi})),r.d(e,"Buffer",(function(){return Ve})),r.d(e,"CubeTexture",(function(){return Pi})),r.d(e,"Filter",(function(){return Kr})),r.d(e,"Framebuffer",(function(){return Ie})),r.d(e,"GLProgram",(function(){return hi})),r.d(e,"GLTexture",(function(){return be})),r.d(e,"Geometry",(function(){return qe})),r.d(e,"ObjectRenderer",(function(){return rr})),r.d(e,"Program",(function(){return Lr})),r.d(e,"Quad",(function(){return Ke})),r.d(e,"QuadUv",(function(){return Ze})),r.d(e,"RenderTexture",(function(){return ke})),r.d(e,"RenderTexturePool",(function(){return je})),r.d(e,"Renderer",(function(){return Ai})),r.d(e,"Shader",(function(){return jr})),r.d(e,"SpriteMaskFilter",(function(){return ri})),r.d(e,"State",(function(){return zr})),r.d(e,"System",(function(){return Pe})),r.d(e,"Texture",(function(){return Be})),r.d(e,"TextureMatrix",(function(){return ti})),r.d(e,"TextureUvs",(function(){return Fe})),r.d(e,"UniformGroup",(function(){return Qe})),r.d(e,"ViewableBuffer",(function(){return Ii})),r.d(e,"autoDetectRenderer",(function(){return wi})),r.d(e,"checkMaxIfStatementsInShader",(function(){return Ir})),r.d(e,"defaultFilterVertex",(function(){return Ei})),r.d(e,"defaultVertex",(function(){return Si})),r.d(e,"resources",(function(){return Ee})),r.d(e,"systems",(function(){return xi})),r.d(e,"AppLoaderPlugin",(function(){return La})),r.d(e,"Loader",(function(){return Na})),r.d(e,"LoaderResource",(function(){return ka})),r.d(e,"TextureLoader",(function(){return Ba})),r.d(e,"ParticleContainer",(function(){return ja})),r.d(e,"ParticleRenderer",(function(){return Ga})),r.d(e,"Spritesheet",(function(){return Ya})),r.d(e,"SpritesheetLoader",(function(){return za})),r.d(e,"TilingSprite",(function(){return $a})),r.d(e,"TilingSpriteRenderer",(function(){return Qa})),r.d(e,"BitmapFontLoader",(function(){return es})),r.d(e,"BitmapText",(function(){return ts})),r.d(e,"Ticker",(function(){return he})),r.d(e,"TickerPlugin",(function(){return ce})),r.d(e,"UPDATE_PRIORITY",(function(){return se})),r.d(e,"BLEND_MODES",(function(){return x})),r.d(e,"DRAW_MODES",(function(){return T})),r.d(e,"ENV",(function(){return g})),r.d(e,"FORMATS",(function(){return D})),r.d(e,"GC_MODES",(function(){return O})),r.d(e,"MIPMAP_MODES",(function(){return P})),r.d(e,"PRECISION",(function(){return I})),r.d(e,"RENDERER_TYPE",(function(){return b})),r.d(e,"SCALE_MODES",(function(){return S})),r.d(e,"TARGETS",(function(){return A})),r.d(e,"TYPES",(function(){return w})),r.d(e,"WRAP_MODES",(function(){return E})),r.d(e,"Bounds",(function(){return Gt})),r.d(e,"Container",(function(){return zt})),r.d(e,"DisplayObject",(function(){return Yt})),r.d(e,"FillStyle",(function(){return Qi})),r.d(e,"GRAPHICS_CURVES",(function(){return Ji})),r.d(e,"Graphics",(function(){return An})),r.d(e,"GraphicsData",(function(){return tn})),r.d(e,"GraphicsGeometry",(function(){return mn})),r.d(e,"LineStyle",(function(){return yn})),r.d(e,"Circle",(function(){return jt})),r.d(e,"DEG_TO_RAD",(function(){return xt})),r.d(e,"Ellipse",(function(){return Ut})),r.d(e,"GroupD8",(function(){return Ft})),r.d(e,"Matrix",(function(){return Dt})),r.d(e,"ObservablePoint",(function(){return yt})),r.d(e,"PI_2",(function(){return gt})),r.d(e,"Point",(function(){return mt})),r.d(e,"Polygon",(function(){return Xt})),r.d(e,"RAD_TO_DEG",(function(){return bt})),r.d(e,"Rectangle",(function(){return Nt})),r.d(e,"RoundedRectangle",(function(){return Vt})),r.d(e,"SHAPES",(function(){return Tt})),r.d(e,"Transform",(function(){return Rt})),r.d(e,"Mesh",(function(){return Ss})),r.d(e,"MeshBatchUvs",(function(){return Ds})),r.d(e,"MeshGeometry",(function(){return Is})),r.d(e,"MeshMaterial",(function(){return Os})),r.d(e,"NineSlicePlane",(function(){return Ls})),r.d(e,"PlaneGeometry",(function(){return Cs})),r.d(e,"RopeGeometry",(function(){return Ms})),r.d(e,"SimpleMesh",(function(){return Bs})),r.d(e,"SimplePlane",(function(){return Rs})),r.d(e,"SimpleRope",(function(){return Fs})),r.d(e,"Runner",(function(){return ne})),r.d(e,"Sprite",(function(){return En})),r.d(e,"AnimatedSprite",(function(){return ks})),r.d(e,"TEXT_GRADIENT",(function(){return Pn})),r.d(e,"Text",(function(){return Un})),r.d(e,"TextMetrics",(function(){return Ln})),r.d(e,"TextStyle",(function(){return Cn})),r.d(e,"isMobile",(function(){return l.a})),r.d(e,"settings",(function(){return f}));
/*!
 * pixi.js - v5.1.5
 * Compiled Tue, 24 Sep 2019 04:07:05 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var js="5.0.0";function Us(){var t=this;Object.defineProperties(t,{SVG_SIZE:{get:function(){return _t(js,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),t.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return _t(js,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),t.Transform}},TransformBase:{get:function(){return _t(js,"PIXI.TransformBase class has been removed, use PIXI.Transform"),t.Transform}},TRANSFORM_MODE:{get:function(){return _t(js,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return _t(js,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),t.Renderer}},CanvasRenderTarget:{get:function(){return _t(js,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),t.utils.CanvasRenderTarget}},loader:{get:function(){return _t(js,"PIXI.loader instance has moved to PIXI.Loader.shared"),t.Loader.shared}},FilterManager:{get:function(){return _t(js,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),t.systems.FilterSystem}}}),t.extras={},Object.defineProperties(t.extras,{TilingSprite:{get:function(){return _t(js,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),t.TilingSprite}},TilingSpriteRenderer:{get:function(){return _t(js,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),t.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return _t(js,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),t.AnimatedSprite}},BitmapText:{get:function(){return _t(js,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),t.BitmapText}}}),Object.defineProperties(t.utils,{getSvgSize:{get:function(){return _t(js,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),t.SVGResource.getSize}}}),t.mesh={},Object.defineProperties(t.mesh,{Mesh:{get:function(){return _t(js,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),t.SimpleMesh}},NineSlicePlane:{get:function(){return _t(js,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),t.NineSlicePlane}},Plane:{get:function(){return _t(js,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),t.SimplePlane}},Rope:{get:function(){return _t(js,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),t.SimpleRope}},RawMesh:{get:function(){return _t(js,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),t.Mesh}},CanvasMeshRenderer:{get:function(){return _t(js,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),t.CanvasMeshRenderer}},MeshRenderer:{get:function(){return _t(js,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),t.MeshRenderer}}}),t.particles={},Object.defineProperties(t.particles,{ParticleContainer:{get:function(){return _t(js,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),t.ParticleContainer}},ParticleRenderer:{get:function(){return _t(js,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),t.ParticleRenderer}}}),t.ticker={},Object.defineProperties(t.ticker,{Ticker:{get:function(){return _t(js,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),t.Ticker}},shared:{get:function(){return _t(js,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),t.Ticker.shared}}}),t.loaders={},Object.defineProperties(t.loaders,{Loader:{get:function(){return _t(js,"PIXI.loaders.Loader class has moved to PIXI.Loader"),t.Loader}},Resource:{get:function(){return _t(js,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),t.LoaderResource}},bitmapFontParser:{get:function(){return _t(js,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),t.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){return _t(js,"PIXI.loaders.parseBitmapFontData function has moved to PIXI.BitmapFontLoader.parse"),t.BitmapFontLoader.parse}},spritesheetParser:{get:function(){return _t(js,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),t.SpritesheetLoader.use}},getResourcePath:{get:function(){return _t(js,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),t.SpritesheetLoader.getResourcePath}}}),t.Loader.addPixiMiddleware=function(e){return _t(js,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),t.loaders.Loader.registerPlugin({use:e()})},Object.defineProperty(t.extract,"WebGLExtract",{get:function(){return _t(js,"PIXI.extract.WebGLExtract method has moved to PIXI.extract.Extract"),t.extract.Extract}}),Object.defineProperty(t.prepare,"WebGLPrepare",{get:function(){return _t(js,"PIXI.prepare.WebGLPrepare class has moved to PIXI.prepare.Prepare"),t.prepare.Prepare}}),t.Container.prototype._renderWebGL=function(t){_t(js,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(t)},t.Container.prototype.renderWebGL=function(t){_t(js,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(t)},t.DisplayObject.prototype.renderWebGL=function(t){_t(js,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(t)},t.Container.prototype.renderAdvancedWebGL=function(t){_t(js,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(t.settings,{TRANSFORM_MODE:{get:function(){return _t(js,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){_t(js,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var e=t.BaseTexture;e.prototype.loadSource=function(e){_t(js,"PIXI.BaseTexture.loadSource method has been deprecated");var r=t.resources.autoDetectResource(e);r.internal=!0,this.setResource(r),this.update()},Object.defineProperties(e.prototype,{hasLoaded:{get:function(){return _t(js,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){return _t(js,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&this.resource.url},set:function(t){_t(js,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=t)}},source:{get:function(){return _t(js,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource&&this.resource.source},set:function(t){_t(js,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=t)}}}),e.fromImage=function(t,r,i,n){_t(js,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var a={scale:n,crossorigin:r};return e.from(t,{scaleMode:i,resourceOptions:a})},e.fromCanvas=function(t,r){return _t(js,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),e.from(t,{scaleMode:r})},e.fromSVG=function(t,r,i,n){_t(js,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var a={scale:n,crossorigin:r};return e.from(t,{scaleMode:i,resourceOptions:a})},t.Point.prototype.copy=function(t){return _t(js,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(t)},t.ObservablePoint.prototype.copy=function(t){return _t(js,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(t)},t.Rectangle.prototype.copy=function(t){return _t(js,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(t)},t.Matrix.prototype.copy=function(t){return _t(js,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(t)},t.systems.StateSystem.prototype.setState=function(t){return _t("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(t)},Object.assign(t.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return _t(js,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(e)},returnRenderTarget:function(t){_t(js,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){_t(js,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity(),r=this.activeState,i=r.sourceFrame,n=r.destinationFrame;return e.translate(i.x/n.width,i.y/n.height),e.scale(n.width,n.height),e},calculateNormalizedScreenSpaceMatrix:function(t){_t(js,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,r=e.sourceFrame,i=e.destinationFrame,n=t.identity();n.translate(r.x/i.width,r.y/i.height);var a=i.width/r.width,s=i.height/r.height;return n.scale(a,s),n}}),Object.defineProperties(t.RenderTexture.prototype,{sourceFrame:{get:function(){return _t(js,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return _t(js,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var r=function(t){function e(e,r,i,n){_t(js,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!0,e,r,i,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.filters.BlurFilterPass),i=function(t){function e(e,r,i,n){_t(js,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!1,e,r,i,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.filters.BlurFilterPass);Object.assign(t.filters,{BlurXFilter:r,BlurYFilter:i});var n=t.Sprite,a=t.Texture,s=t.Graphics;function o(t,e,r,i){return _t(js,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from"),n.from(e,{resourceOptions:{scale:i,crossorigin:r}})}function h(t,e,r,i){return _t(js,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from"),a.from(e,{resourceOptions:{scale:i,crossorigin:r}})}s.prototype.generateCanvasTexture||(s.prototype.generateCanvasTexture=function(){_t(js,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(t.Graphics.prototype,"graphicsData",{get:function(){return _t(js,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),n.fromImage=o.bind(null,"fromImage"),n.fromSVG=o.bind(null,"fromSVG"),n.fromCanvas=o.bind(null,"fromCanvas"),n.fromVideo=o.bind(null,"fromVideo"),n.fromFrame=o.bind(null,"fromFrame"),a.fromImage=h.bind(null,"fromImage"),a.fromSVG=h.bind(null,"fromSVG"),a.fromCanvas=h.bind(null,"fromCanvas"),a.fromVideo=h.bind(null,"fromVideo"),a.fromFrame=h.bind(null,"fromFrame"),Object.defineProperty(t.AbstractRenderer.prototype,"autoResize",{get:function(){return _t(js,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(t){_t(js,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=t}}),Object.defineProperty(t.Renderer.prototype,"textureManager",{get:function(){return _t(js,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),t.utils.mixins={mixin:function(){_t(js,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){_t(js,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){_t(js,"PIXI.utils.mixins.performMixins function is no longer available")}}}Ai.registerPlugin("accessibility",ie),Ai.registerPlugin("extract",Vi),Ai.registerPlugin("interaction",Zi),Ai.registerPlugin("particle",Ga),Ai.registerPlugin("prepare",Kn),Ai.registerPlugin("batch",ji),Ai.registerPlugin("tilingSprite",Qa),Na.registerPlugin(es),Na.registerPlugin(za),ea.registerPlugin(ce),ea.registerPlugin(La);var Xs="5.1.5",Vs={AlphaFilter:is,BlurFilter:us,BlurFilterPass:ls,ColorMatrixFilter:fs,DisplacementFilter:_s,FXAAFilter:vs,NoiseFilter:bs}},"23cb":function(t,e,r){var i=r("a691"),n=Math.max,a=Math.min;t.exports=function(t,e){var r=i(t);return r<0?n(r+e,0):a(r,e)}},"23e7":function(t,e,r){var i=r("da84"),n=r("06cf").f,a=r("9112"),s=r("6eeb"),o=r("ce4e"),h=r("e893"),l=r("94ca");t.exports=function(t,e){var r,u,c,f,p,d,_=t.target,m=t.global,y=t.stat;if(u=m?i:y?i[_]||o(_,{}):(i[_]||{}).prototype,u)for(c in e){if(p=e[c],t.noTargetGet?(d=n(u,c),f=d&&d.value):f=u[c],r=l(m?c:_+(y?".":"#")+c,t.forced),!r&&void 0!==f){if(typeof p===typeof f)continue;h(p,f)}(t.sham||f&&f.sham)&&a(p,"sham",!0),s(u,c,p,t)}}},"241c":function(t,e,r){var i=r("ca84"),n=r("7839"),a=n.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,a)}},2626:function(t,e,r){"use strict";var i=r("d066"),n=r("9bf2"),a=r("b622"),s=r("83ab"),o=a("species");t.exports=function(t){var e=i(t),r=n.f;s&&e&&!e[o]&&r(e,o,{configurable:!0,get:function(){return this}})}},2877:function(t,e,r){"use strict";function i(t,e,r,i,n,a,s,o){var h,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),s?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=h):n&&(h=o?function(){n.call(this,this.$root.$options.shadowRoot)}:n),h)if(l.functional){l._injectStyles=h;var u=l.render;l.render=function(t,e){return h.call(e),u(t,e)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:l}}r.d(e,"a",(function(){return i}))},"2b0e":function(t,e,r){"use strict";(function(t){
/*!
 * Vue.js v2.6.10
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({});function i(t){return void 0===t||null===t}function n(t){return void 0!==t&&null!==t}function a(t){return!0===t}function s(t){return!1===t}function o(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function h(t){return null!==t&&"object"===typeof t}var l=Object.prototype.toString;function u(t){return"[object Object]"===l.call(t)}function c(t){return"[object RegExp]"===l.call(t)}function f(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function p(t){return n(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function d(t){return null==t?"":Array.isArray(t)||u(t)&&t.toString===l?JSON.stringify(t,null,2):String(t)}function _(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var r=Object.create(null),i=t.split(","),n=0;n<i.length;n++)r[i[n]]=!0;return e?function(t){return r[t.toLowerCase()]}:function(t){return r[t]}}m("slot,component",!0);var y=m("key,ref,slot,slot-scope,is");function v(t,e){if(t.length){var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var g=Object.prototype.hasOwnProperty;function b(t,e){return g.call(t,e)}function x(t){var e=Object.create(null);return function(r){var i=e[r];return i||(e[r]=t(r))}}var T=/-(\w)/g,D=x((function(t){return t.replace(T,(function(t,e){return e?e.toUpperCase():""}))})),A=x((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),w=/\B([A-Z])/g,S=x((function(t){return t.replace(w,"-$1").toLowerCase()}));function E(t,e){function r(r){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,r):t.call(e)}return r._length=t.length,r}function P(t,e){return t.bind(e)}var O=Function.prototype.bind?P:E;function I(t,e){e=e||0;var r=t.length-e,i=new Array(r);while(r--)i[r]=t[r+e];return i}function C(t,e){for(var r in e)t[r]=e[r];return t}function M(t){for(var e={},r=0;r<t.length;r++)t[r]&&C(e,t[r]);return e}function F(t,e,r){}var R=function(t,e,r){return!1},B=function(t){return t};function N(t,e){if(t===e)return!0;var r=h(t),i=h(e);if(!r||!i)return!r&&!i&&String(t)===String(e);try{var n=Array.isArray(t),a=Array.isArray(e);if(n&&a)return t.length===e.length&&t.every((function(t,r){return N(t,e[r])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(n||a)return!1;var s=Object.keys(t),o=Object.keys(e);return s.length===o.length&&s.every((function(r){return N(t[r],e[r])}))}catch(l){return!1}}function L(t,e){for(var r=0;r<t.length;r++)if(N(t[r],e))return r;return-1}function k(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var j="data-server-rendered",U=["component","directive","filter"],X=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],V={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:R,isReservedAttr:R,isUnknownElement:R,getTagNamespace:F,parsePlatformTagName:B,mustUseProp:R,async:!0,_lifecycleHooks:X},G=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function Y(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function H(t,e,r,i){Object.defineProperty(t,e,{value:r,enumerable:!!i,writable:!0,configurable:!0})}var z=new RegExp("[^"+G.source+".$_\\d]");function W(t){if(!z.test(t)){var e=t.split(".");return function(t){for(var r=0;r<e.length;r++){if(!t)return;t=t[e[r]]}return t}}}var $,q="__proto__"in{},K="undefined"!==typeof window,Z="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,J=Z&&WXEnvironment.platform.toLowerCase(),Q=K&&window.navigator.userAgent.toLowerCase(),tt=Q&&/msie|trident/.test(Q),et=Q&&Q.indexOf("msie 9.0")>0,rt=Q&&Q.indexOf("edge/")>0,it=(Q&&Q.indexOf("android"),Q&&/iphone|ipad|ipod|ios/.test(Q)||"ios"===J),nt=(Q&&/chrome\/\d+/.test(Q),Q&&/phantomjs/.test(Q),Q&&Q.match(/firefox\/(\d+)/)),at={}.watch,st=!1;if(K)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){st=!0}}),window.addEventListener("test-passive",null,ot)}catch(Ts){}var ht=function(){return void 0===$&&($=!K&&!Z&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),$},lt=K&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ut(t){return"function"===typeof t&&/native code/.test(t.toString())}var ct,ft="undefined"!==typeof Symbol&&ut(Symbol)&&"undefined"!==typeof Reflect&&ut(Reflect.ownKeys);ct="undefined"!==typeof Set&&ut(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var pt=F,dt=0,_t=function(){this.id=dt++,this.subs=[]};_t.prototype.addSub=function(t){this.subs.push(t)},_t.prototype.removeSub=function(t){v(this.subs,t)},_t.prototype.depend=function(){_t.target&&_t.target.addDep(this)},_t.prototype.notify=function(){var t=this.subs.slice();for(var e=0,r=t.length;e<r;e++)t[e].update()},_t.target=null;var mt=[];function yt(t){mt.push(t),_t.target=t}function vt(){mt.pop(),_t.target=mt[mt.length-1]}var gt=function(t,e,r,i,n,a,s,o){this.tag=t,this.data=e,this.children=r,this.text=i,this.elm=n,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=o,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},bt={child:{configurable:!0}};bt.child.get=function(){return this.componentInstance},Object.defineProperties(gt.prototype,bt);var xt=function(t){void 0===t&&(t="");var e=new gt;return e.text=t,e.isComment=!0,e};function Tt(t){return new gt(void 0,void 0,void 0,String(t))}function Dt(t){var e=new gt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var At=Array.prototype,wt=Object.create(At),St=["push","pop","shift","unshift","splice","sort","reverse"];St.forEach((function(t){var e=At[t];H(wt,t,(function(){var r=[],i=arguments.length;while(i--)r[i]=arguments[i];var n,a=e.apply(this,r),s=this.__ob__;switch(t){case"push":case"unshift":n=r;break;case"splice":n=r.slice(2);break}return n&&s.observeArray(n),s.dep.notify(),a}))}));var Et=Object.getOwnPropertyNames(wt),Pt=!0;function Ot(t){Pt=t}var It=function(t){this.value=t,this.dep=new _t,this.vmCount=0,H(t,"__ob__",this),Array.isArray(t)?(q?Ct(t,wt):Mt(t,wt,Et),this.observeArray(t)):this.walk(t)};function Ct(t,e){t.__proto__=e}function Mt(t,e,r){for(var i=0,n=r.length;i<n;i++){var a=r[i];H(t,a,e[a])}}function Ft(t,e){var r;if(h(t)&&!(t instanceof gt))return b(t,"__ob__")&&t.__ob__ instanceof It?r=t.__ob__:Pt&&!ht()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(r=new It(t)),e&&r&&r.vmCount++,r}function Rt(t,e,r,i,n){var a=new _t,s=Object.getOwnPropertyDescriptor(t,e);if(!s||!1!==s.configurable){var o=s&&s.get,h=s&&s.set;o&&!h||2!==arguments.length||(r=t[e]);var l=!n&&Ft(r);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=o?o.call(t):r;return _t.target&&(a.depend(),l&&(l.dep.depend(),Array.isArray(e)&&Lt(e))),e},set:function(e){var i=o?o.call(t):r;e===i||e!==e&&i!==i||o&&!h||(h?h.call(t,e):r=e,l=!n&&Ft(e),a.notify())}})}}function Bt(t,e,r){if(Array.isArray(t)&&f(e))return t.length=Math.max(t.length,e),t.splice(e,1,r),r;if(e in t&&!(e in Object.prototype))return t[e]=r,r;var i=t.__ob__;return t._isVue||i&&i.vmCount?r:i?(Rt(i.value,e,r),i.dep.notify(),r):(t[e]=r,r)}function Nt(t,e){if(Array.isArray(t)&&f(e))t.splice(e,1);else{var r=t.__ob__;t._isVue||r&&r.vmCount||b(t,e)&&(delete t[e],r&&r.dep.notify())}}function Lt(t){for(var e=void 0,r=0,i=t.length;r<i;r++)e=t[r],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Lt(e)}It.prototype.walk=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)Rt(t,e[r])},It.prototype.observeArray=function(t){for(var e=0,r=t.length;e<r;e++)Ft(t[e])};var kt=V.optionMergeStrategies;function jt(t,e){if(!e)return t;for(var r,i,n,a=ft?Reflect.ownKeys(e):Object.keys(e),s=0;s<a.length;s++)r=a[s],"__ob__"!==r&&(i=t[r],n=e[r],b(t,r)?i!==n&&u(i)&&u(n)&&jt(i,n):Bt(t,r,n));return t}function Ut(t,e,r){return r?function(){var i="function"===typeof e?e.call(r,r):e,n="function"===typeof t?t.call(r,r):t;return i?jt(i,n):n}:e?t?function(){return jt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Xt(t,e){var r=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return r?Vt(r):r}function Vt(t){for(var e=[],r=0;r<t.length;r++)-1===e.indexOf(t[r])&&e.push(t[r]);return e}function Gt(t,e,r,i){var n=Object.create(t||null);return e?C(n,e):n}kt.data=function(t,e,r){return r?Ut(t,e,r):e&&"function"!==typeof e?t:Ut(t,e)},X.forEach((function(t){kt[t]=Xt})),U.forEach((function(t){kt[t+"s"]=Gt})),kt.watch=function(t,e,r,i){if(t===at&&(t=void 0),e===at&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var n={};for(var a in C(n,t),e){var s=n[a],o=e[a];s&&!Array.isArray(s)&&(s=[s]),n[a]=s?s.concat(o):Array.isArray(o)?o:[o]}return n},kt.props=kt.methods=kt.inject=kt.computed=function(t,e,r,i){if(!t)return e;var n=Object.create(null);return C(n,t),e&&C(n,e),n},kt.provide=Ut;var Yt=function(t,e){return void 0===e?t:e};function Ht(t,e){var r=t.props;if(r){var i,n,a,s={};if(Array.isArray(r)){i=r.length;while(i--)n=r[i],"string"===typeof n&&(a=D(n),s[a]={type:null})}else if(u(r))for(var o in r)n=r[o],a=D(o),s[a]=u(n)?n:{type:n};else 0;t.props=s}}function zt(t,e){var r=t.inject;if(r){var i=t.inject={};if(Array.isArray(r))for(var n=0;n<r.length;n++)i[r[n]]={from:r[n]};else if(u(r))for(var a in r){var s=r[a];i[a]=u(s)?C({from:a},s):{from:s}}else 0}}function Wt(t){var e=t.directives;if(e)for(var r in e){var i=e[r];"function"===typeof i&&(e[r]={bind:i,update:i})}}function $t(t,e,r){if("function"===typeof e&&(e=e.options),Ht(e,r),zt(e,r),Wt(e),!e._base&&(e.extends&&(t=$t(t,e.extends,r)),e.mixins))for(var i=0,n=e.mixins.length;i<n;i++)t=$t(t,e.mixins[i],r);var a,s={};for(a in t)o(a);for(a in e)b(t,a)||o(a);function o(i){var n=kt[i]||Yt;s[i]=n(t[i],e[i],r,i)}return s}function qt(t,e,r,i){if("string"===typeof r){var n=t[e];if(b(n,r))return n[r];var a=D(r);if(b(n,a))return n[a];var s=A(a);if(b(n,s))return n[s];var o=n[r]||n[a]||n[s];return o}}function Kt(t,e,r,i){var n=e[t],a=!b(r,t),s=r[t],o=te(Boolean,n.type);if(o>-1)if(a&&!b(n,"default"))s=!1;else if(""===s||s===S(t)){var h=te(String,n.type);(h<0||o<h)&&(s=!0)}if(void 0===s){s=Zt(i,n,t);var l=Pt;Ot(!0),Ft(s),Ot(l)}return s}function Zt(t,e,r){if(b(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[r]&&void 0!==t._props[r]?t._props[r]:"function"===typeof i&&"Function"!==Jt(e.type)?i.call(t):i}}function Jt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Qt(t,e){return Jt(t)===Jt(e)}function te(t,e){if(!Array.isArray(e))return Qt(e,t)?0:-1;for(var r=0,i=e.length;r<i;r++)if(Qt(e[r],t))return r;return-1}function ee(t,e,r){yt();try{if(e){var i=e;while(i=i.$parent){var n=i.$options.errorCaptured;if(n)for(var a=0;a<n.length;a++)try{var s=!1===n[a].call(i,t,e,r);if(s)return}catch(Ts){ie(Ts,i,"errorCaptured hook")}}}ie(t,e,r)}finally{vt()}}function re(t,e,r,i,n){var a;try{a=r?t.apply(e,r):t.call(e),a&&!a._isVue&&p(a)&&!a._handled&&(a.catch((function(t){return ee(t,i,n+" (Promise/async)")})),a._handled=!0)}catch(Ts){ee(Ts,i,n)}return a}function ie(t,e,r){if(V.errorHandler)try{return V.errorHandler.call(null,t,e,r)}catch(Ts){Ts!==t&&ne(Ts,null,"config.errorHandler")}ne(t,e,r)}function ne(t,e,r){if(!K&&!Z||"undefined"===typeof console)throw t;console.error(t)}var ae,se=!1,oe=[],he=!1;function le(){he=!1;var t=oe.slice(0);oe.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ut(Promise)){var ue=Promise.resolve();ae=function(){ue.then(le),it&&setTimeout(F)},se=!0}else if(tt||"undefined"===typeof MutationObserver||!ut(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ae="undefined"!==typeof setImmediate&&ut(setImmediate)?function(){setImmediate(le)}:function(){setTimeout(le,0)};else{var ce=1,fe=new MutationObserver(le),pe=document.createTextNode(String(ce));fe.observe(pe,{characterData:!0}),ae=function(){ce=(ce+1)%2,pe.data=String(ce)},se=!0}function de(t,e){var r;if(oe.push((function(){if(t)try{t.call(e)}catch(Ts){ee(Ts,e,"nextTick")}else r&&r(e)})),he||(he=!0,ae()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){r=t}))}var _e=new ct;function me(t){ye(t,_e),_e.clear()}function ye(t,e){var r,i,n=Array.isArray(t);if(!(!n&&!h(t)||Object.isFrozen(t)||t instanceof gt)){if(t.__ob__){var a=t.__ob__.dep.id;if(e.has(a))return;e.add(a)}if(n){r=t.length;while(r--)ye(t[r],e)}else{i=Object.keys(t),r=i.length;while(r--)ye(t[i[r]],e)}}}var ve=x((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var r="~"===t.charAt(0);t=r?t.slice(1):t;var i="!"===t.charAt(0);return t=i?t.slice(1):t,{name:t,once:r,capture:i,passive:e}}));function ge(t,e){function r(){var t=arguments,i=r.fns;if(!Array.isArray(i))return re(i,null,arguments,e,"v-on handler");for(var n=i.slice(),a=0;a<n.length;a++)re(n[a],null,t,e,"v-on handler")}return r.fns=t,r}function be(t,e,r,n,s,o){var h,l,u,c;for(h in t)l=t[h],u=e[h],c=ve(h),i(l)||(i(u)?(i(l.fns)&&(l=t[h]=ge(l,o)),a(c.once)&&(l=t[h]=s(c.name,l,c.capture)),r(c.name,l,c.capture,c.passive,c.params)):l!==u&&(u.fns=l,t[h]=u));for(h in e)i(t[h])&&(c=ve(h),n(c.name,e[h],c.capture))}function xe(t,e,r){var s;t instanceof gt&&(t=t.data.hook||(t.data.hook={}));var o=t[e];function h(){r.apply(this,arguments),v(s.fns,h)}i(o)?s=ge([h]):n(o.fns)&&a(o.merged)?(s=o,s.fns.push(h)):s=ge([o,h]),s.merged=!0,t[e]=s}function Te(t,e,r){var a=e.options.props;if(!i(a)){var s={},o=t.attrs,h=t.props;if(n(o)||n(h))for(var l in a){var u=S(l);De(s,h,l,u,!0)||De(s,o,l,u,!1)}return s}}function De(t,e,r,i,a){if(n(e)){if(b(e,r))return t[r]=e[r],a||delete e[r],!0;if(b(e,i))return t[r]=e[i],a||delete e[i],!0}return!1}function Ae(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function we(t){return o(t)?[Tt(t)]:Array.isArray(t)?Ee(t):void 0}function Se(t){return n(t)&&n(t.text)&&s(t.isComment)}function Ee(t,e){var r,s,h,l,u=[];for(r=0;r<t.length;r++)s=t[r],i(s)||"boolean"===typeof s||(h=u.length-1,l=u[h],Array.isArray(s)?s.length>0&&(s=Ee(s,(e||"")+"_"+r),Se(s[0])&&Se(l)&&(u[h]=Tt(l.text+s[0].text),s.shift()),u.push.apply(u,s)):o(s)?Se(l)?u[h]=Tt(l.text+s):""!==s&&u.push(Tt(s)):Se(s)&&Se(l)?u[h]=Tt(l.text+s.text):(a(t._isVList)&&n(s.tag)&&i(s.key)&&n(e)&&(s.key="__vlist"+e+"_"+r+"__"),u.push(s)));return u}function Pe(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Oe(t){var e=Ie(t.$options.inject,t);e&&(Ot(!1),Object.keys(e).forEach((function(r){Rt(t,r,e[r])})),Ot(!0))}function Ie(t,e){if(t){for(var r=Object.create(null),i=ft?Reflect.ownKeys(t):Object.keys(t),n=0;n<i.length;n++){var a=i[n];if("__ob__"!==a){var s=t[a].from,o=e;while(o){if(o._provided&&b(o._provided,s)){r[a]=o._provided[s];break}o=o.$parent}if(!o)if("default"in t[a]){var h=t[a].default;r[a]="function"===typeof h?h.call(e):h}else 0}}return r}}function Ce(t,e){if(!t||!t.length)return{};for(var r={},i=0,n=t.length;i<n;i++){var a=t[i],s=a.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,a.context!==e&&a.fnContext!==e||!s||null==s.slot)(r.default||(r.default=[])).push(a);else{var o=s.slot,h=r[o]||(r[o]=[]);"template"===a.tag?h.push.apply(h,a.children||[]):h.push(a)}}for(var l in r)r[l].every(Me)&&delete r[l];return r}function Me(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Fe(t,e,i){var n,a=Object.keys(e).length>0,s=t?!!t.$stable:!a,o=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(s&&i&&i!==r&&o===i.$key&&!a&&!i.$hasNormal)return i;for(var h in n={},t)t[h]&&"$"!==h[0]&&(n[h]=Re(e,h,t[h]))}else n={};for(var l in e)l in n||(n[l]=Be(e,l));return t&&Object.isExtensible(t)&&(t._normalized=n),H(n,"$stable",s),H(n,"$key",o),H(n,"$hasNormal",a),n}function Re(t,e,r){var i=function(){var t=arguments.length?r.apply(null,arguments):r({});return t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:we(t),t&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return r.proxy&&Object.defineProperty(t,e,{get:i,enumerable:!0,configurable:!0}),i}function Be(t,e){return function(){return t[e]}}function Ne(t,e){var r,i,a,s,o;if(Array.isArray(t)||"string"===typeof t)for(r=new Array(t.length),i=0,a=t.length;i<a;i++)r[i]=e(t[i],i);else if("number"===typeof t)for(r=new Array(t),i=0;i<t;i++)r[i]=e(i+1,i);else if(h(t))if(ft&&t[Symbol.iterator]){r=[];var l=t[Symbol.iterator](),u=l.next();while(!u.done)r.push(e(u.value,r.length)),u=l.next()}else for(s=Object.keys(t),r=new Array(s.length),i=0,a=s.length;i<a;i++)o=s[i],r[i]=e(t[o],o,i);return n(r)||(r=[]),r._isVList=!0,r}function Le(t,e,r,i){var n,a=this.$scopedSlots[t];a?(r=r||{},i&&(r=C(C({},i),r)),n=a(r)||e):n=this.$slots[t]||e;var s=r&&r.slot;return s?this.$createElement("template",{slot:s},n):n}function ke(t){return qt(this.$options,"filters",t,!0)||B}function je(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Ue(t,e,r,i,n){var a=V.keyCodes[e]||r;return n&&i&&!V.keyCodes[e]?je(n,i):a?je(a,t):i?S(i)!==e:void 0}function Xe(t,e,r,i,n){if(r)if(h(r)){var a;Array.isArray(r)&&(r=M(r));var s=function(s){if("class"===s||"style"===s||y(s))a=t;else{var o=t.attrs&&t.attrs.type;a=i||V.mustUseProp(e,o,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var h=D(s),l=S(s);if(!(h in a)&&!(l in a)&&(a[s]=r[s],n)){var u=t.on||(t.on={});u["update:"+s]=function(t){r[s]=t}}};for(var o in r)s(o)}else;return t}function Ve(t,e){var r=this._staticTrees||(this._staticTrees=[]),i=r[t];return i&&!e?i:(i=r[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),Ye(i,"__static__"+t,!1),i)}function Ge(t,e,r){return Ye(t,"__once__"+e+(r?"_"+r:""),!0),t}function Ye(t,e,r){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!==typeof t[i]&&He(t[i],e+"_"+i,r);else He(t,e,r)}function He(t,e,r){t.isStatic=!0,t.key=e,t.isOnce=r}function ze(t,e){if(e)if(u(e)){var r=t.on=t.on?C({},t.on):{};for(var i in e){var n=r[i],a=e[i];r[i]=n?[].concat(n,a):a}}else;return t}function We(t,e,r,i){e=e||{$stable:!r};for(var n=0;n<t.length;n++){var a=t[n];Array.isArray(a)?We(a,e,r):a&&(a.proxy&&(a.fn.proxy=!0),e[a.key]=a.fn)}return i&&(e.$key=i),e}function $e(t,e){for(var r=0;r<e.length;r+=2){var i=e[r];"string"===typeof i&&i&&(t[e[r]]=e[r+1])}return t}function qe(t,e){return"string"===typeof t?e+t:t}function Ke(t){t._o=Ge,t._n=_,t._s=d,t._l=Ne,t._t=Le,t._q=N,t._i=L,t._m=Ve,t._f=ke,t._k=Ue,t._b=Xe,t._v=Tt,t._e=xt,t._u=We,t._g=ze,t._d=$e,t._p=qe}function Ze(t,e,i,n,s){var o,h=this,l=s.options;b(n,"_uid")?(o=Object.create(n),o._original=n):(o=n,n=n._original);var u=a(l._compiled),c=!u;this.data=t,this.props=e,this.children=i,this.parent=n,this.listeners=t.on||r,this.injections=Ie(l.inject,n),this.slots=function(){return h.$slots||Fe(t.scopedSlots,h.$slots=Ce(i,n)),h.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Fe(t.scopedSlots,this.slots())}}),u&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=Fe(t.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,e,r,i){var a=ur(o,t,e,r,i,c);return a&&!Array.isArray(a)&&(a.fnScopeId=l._scopeId,a.fnContext=n),a}:this._c=function(t,e,r,i){return ur(o,t,e,r,i,c)}}function Je(t,e,i,a,s){var o=t.options,h={},l=o.props;if(n(l))for(var u in l)h[u]=Kt(u,l,e||r);else n(i.attrs)&&tr(h,i.attrs),n(i.props)&&tr(h,i.props);var c=new Ze(i,h,s,a,t),f=o.render.call(null,c._c,c);if(f instanceof gt)return Qe(f,i,c.parent,o,c);if(Array.isArray(f)){for(var p=we(f)||[],d=new Array(p.length),_=0;_<p.length;_++)d[_]=Qe(p[_],i,c.parent,o,c);return d}}function Qe(t,e,r,i,n){var a=Dt(t);return a.fnContext=r,a.fnOptions=i,e.slot&&((a.data||(a.data={})).slot=e.slot),a}function tr(t,e){for(var r in e)t[D(r)]=e[r]}Ke(Ze.prototype);var er={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var r=t;er.prepatch(r,r)}else{var i=t.componentInstance=nr(t,Or);i.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var r=e.componentOptions,i=e.componentInstance=t.componentInstance;Rr(i,r.propsData,r.listeners,e,r.children)},insert:function(t){var e=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,kr(r,"mounted")),t.data.keepAlive&&(e._isMounted?Zr(r):Nr(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Lr(e,!0):e.$destroy())}},rr=Object.keys(er);function ir(t,e,r,s,o){if(!i(t)){var l=r.$options._base;if(h(t)&&(t=l.extend(t)),"function"===typeof t){var u;if(i(t.cid)&&(u=t,t=br(u,l),void 0===t))return gr(u,e,r,s,o);e=e||{},bi(t),n(e.model)&&or(t.options,e);var c=Te(e,t,o);if(a(t.options.functional))return Je(t,c,e,r,s);var f=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}ar(e);var d=t.options.name||o,_=new gt("vue-component-"+t.cid+(d?"-"+d:""),e,void 0,void 0,void 0,r,{Ctor:t,propsData:c,listeners:f,tag:o,children:s},u);return _}}}function nr(t,e){var r={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;return n(i)&&(r.render=i.render,r.staticRenderFns=i.staticRenderFns),new t.componentOptions.Ctor(r)}function ar(t){for(var e=t.hook||(t.hook={}),r=0;r<rr.length;r++){var i=rr[r],n=e[i],a=er[i];n===a||n&&n._merged||(e[i]=n?sr(a,n):a)}}function sr(t,e){var r=function(r,i){t(r,i),e(r,i)};return r._merged=!0,r}function or(t,e){var r=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[r]=e.model.value;var a=e.on||(e.on={}),s=a[i],o=e.model.callback;n(s)?(Array.isArray(s)?-1===s.indexOf(o):s!==o)&&(a[i]=[o].concat(s)):a[i]=o}var hr=1,lr=2;function ur(t,e,r,i,n,s){return(Array.isArray(r)||o(r))&&(n=i,i=r,r=void 0),a(s)&&(n=lr),cr(t,e,r,i,n)}function cr(t,e,r,i,a){if(n(r)&&n(r.__ob__))return xt();if(n(r)&&n(r.is)&&(e=r.is),!e)return xt();var s,o,h;(Array.isArray(i)&&"function"===typeof i[0]&&(r=r||{},r.scopedSlots={default:i[0]},i.length=0),a===lr?i=we(i):a===hr&&(i=Ae(i)),"string"===typeof e)?(o=t.$vnode&&t.$vnode.ns||V.getTagNamespace(e),s=V.isReservedTag(e)?new gt(V.parsePlatformTagName(e),r,i,void 0,void 0,t):r&&r.pre||!n(h=qt(t.$options,"components",e))?new gt(e,r,i,void 0,void 0,t):ir(h,r,t,i,e)):s=ir(e,r,t,i);return Array.isArray(s)?s:n(s)?(n(o)&&fr(s,o),n(r)&&pr(r),s):xt()}function fr(t,e,r){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,r=!0),n(t.children))for(var s=0,o=t.children.length;s<o;s++){var h=t.children[s];n(h.tag)&&(i(h.ns)||a(r)&&"svg"!==h.tag)&&fr(h,e,r)}}function pr(t){h(t.style)&&me(t.style),h(t.class)&&me(t.class)}function dr(t){t._vnode=null,t._staticTrees=null;var e=t.$options,i=t.$vnode=e._parentVnode,n=i&&i.context;t.$slots=Ce(e._renderChildren,n),t.$scopedSlots=r,t._c=function(e,r,i,n){return ur(t,e,r,i,n,!1)},t.$createElement=function(e,r,i,n){return ur(t,e,r,i,n,!0)};var a=i&&i.data;Rt(t,"$attrs",a&&a.attrs||r,null,!0),Rt(t,"$listeners",e._parentListeners||r,null,!0)}var _r,mr=null;function yr(t){Ke(t.prototype),t.prototype.$nextTick=function(t){return de(t,this)},t.prototype._render=function(){var t,e=this,r=e.$options,i=r.render,n=r._parentVnode;n&&(e.$scopedSlots=Fe(n.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=n;try{mr=e,t=i.call(e._renderProxy,e.$createElement)}catch(Ts){ee(Ts,e,"render"),t=e._vnode}finally{mr=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof gt||(t=xt()),t.parent=n,t}}function vr(t,e){return(t.__esModule||ft&&"Module"===t[Symbol.toStringTag])&&(t=t.default),h(t)?e.extend(t):t}function gr(t,e,r,i,n){var a=xt();return a.asyncFactory=t,a.asyncMeta={data:e,context:r,children:i,tag:n},a}function br(t,e){if(a(t.error)&&n(t.errorComp))return t.errorComp;if(n(t.resolved))return t.resolved;var r=mr;if(r&&n(t.owners)&&-1===t.owners.indexOf(r)&&t.owners.push(r),a(t.loading)&&n(t.loadingComp))return t.loadingComp;if(r&&!n(t.owners)){var s=t.owners=[r],o=!0,l=null,u=null;r.$on("hook:destroyed",(function(){return v(s,r)}));var c=function(t){for(var e=0,r=s.length;e<r;e++)s[e].$forceUpdate();t&&(s.length=0,null!==l&&(clearTimeout(l),l=null),null!==u&&(clearTimeout(u),u=null))},f=k((function(r){t.resolved=vr(r,e),o?s.length=0:c(!0)})),d=k((function(e){n(t.errorComp)&&(t.error=!0,c(!0))})),_=t(f,d);return h(_)&&(p(_)?i(t.resolved)&&_.then(f,d):p(_.component)&&(_.component.then(f,d),n(_.error)&&(t.errorComp=vr(_.error,e)),n(_.loading)&&(t.loadingComp=vr(_.loading,e),0===_.delay?t.loading=!0:l=setTimeout((function(){l=null,i(t.resolved)&&i(t.error)&&(t.loading=!0,c(!1))}),_.delay||200)),n(_.timeout)&&(u=setTimeout((function(){u=null,i(t.resolved)&&d(null)}),_.timeout)))),o=!1,t.loading?t.loadingComp:t.resolved}}function xr(t){return t.isComment&&t.asyncFactory}function Tr(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var r=t[e];if(n(r)&&(n(r.componentOptions)||xr(r)))return r}}function Dr(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Er(t,e)}function Ar(t,e){_r.$on(t,e)}function wr(t,e){_r.$off(t,e)}function Sr(t,e){var r=_r;return function i(){var n=e.apply(null,arguments);null!==n&&r.$off(t,i)}}function Er(t,e,r){_r=t,be(e,r||{},Ar,wr,Sr,t),_r=void 0}function Pr(t){var e=/^hook:/;t.prototype.$on=function(t,r){var i=this;if(Array.isArray(t))for(var n=0,a=t.length;n<a;n++)i.$on(t[n],r);else(i._events[t]||(i._events[t]=[])).push(r),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var r=this;function i(){r.$off(t,i),e.apply(r,arguments)}return i.fn=e,r.$on(t,i),r},t.prototype.$off=function(t,e){var r=this;if(!arguments.length)return r._events=Object.create(null),r;if(Array.isArray(t)){for(var i=0,n=t.length;i<n;i++)r.$off(t[i],e);return r}var a,s=r._events[t];if(!s)return r;if(!e)return r._events[t]=null,r;var o=s.length;while(o--)if(a=s[o],a===e||a.fn===e){s.splice(o,1);break}return r},t.prototype.$emit=function(t){var e=this,r=e._events[t];if(r){r=r.length>1?I(r):r;for(var i=I(arguments,1),n='event handler for "'+t+'"',a=0,s=r.length;a<s;a++)re(r[a],e,i,e,n)}return e}}var Or=null;function Ir(t){var e=Or;return Or=t,function(){Or=e}}function Cr(t){var e=t.$options,r=e.parent;if(r&&!e.abstract){while(r.$options.abstract&&r.$parent)r=r.$parent;r.$children.push(t)}t.$parent=r,t.$root=r?r.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Mr(t){t.prototype._update=function(t,e){var r=this,i=r.$el,n=r._vnode,a=Ir(r);r._vnode=t,r.$el=n?r.__patch__(n,t):r.__patch__(r.$el,t,e,!1),a(),i&&(i.__vue__=null),r.$el&&(r.$el.__vue__=r),r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode&&(r.$parent.$el=r.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){kr(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||v(e.$children,t),t._watcher&&t._watcher.teardown();var r=t._watchers.length;while(r--)t._watchers[r].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),kr(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Fr(t,e,r){var i;return t.$el=e,t.$options.render||(t.$options.render=xt),kr(t,"beforeMount"),i=function(){t._update(t._render(),r)},new ei(t,i,F,{before:function(){t._isMounted&&!t._isDestroyed&&kr(t,"beforeUpdate")}},!0),r=!1,null==t.$vnode&&(t._isMounted=!0,kr(t,"mounted")),t}function Rr(t,e,i,n,a){var s=n.data.scopedSlots,o=t.$scopedSlots,h=!!(s&&!s.$stable||o!==r&&!o.$stable||s&&t.$scopedSlots.$key!==s.$key),l=!!(a||t.$options._renderChildren||h);if(t.$options._parentVnode=n,t.$vnode=n,t._vnode&&(t._vnode.parent=n),t.$options._renderChildren=a,t.$attrs=n.data.attrs||r,t.$listeners=i||r,e&&t.$options.props){Ot(!1);for(var u=t._props,c=t.$options._propKeys||[],f=0;f<c.length;f++){var p=c[f],d=t.$options.props;u[p]=Kt(p,d,e,t)}Ot(!0),t.$options.propsData=e}i=i||r;var _=t.$options._parentListeners;t.$options._parentListeners=i,Er(t,i,_),l&&(t.$slots=Ce(a,n.context),t.$forceUpdate())}function Br(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Nr(t,e){if(e){if(t._directInactive=!1,Br(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var r=0;r<t.$children.length;r++)Nr(t.$children[r]);kr(t,"activated")}}function Lr(t,e){if((!e||(t._directInactive=!0,!Br(t)))&&!t._inactive){t._inactive=!0;for(var r=0;r<t.$children.length;r++)Lr(t.$children[r]);kr(t,"deactivated")}}function kr(t,e){yt();var r=t.$options[e],i=e+" hook";if(r)for(var n=0,a=r.length;n<a;n++)re(r[n],t,null,t,i);t._hasHookEvent&&t.$emit("hook:"+e),vt()}var jr=[],Ur=[],Xr={},Vr=!1,Gr=!1,Yr=0;function Hr(){Yr=jr.length=Ur.length=0,Xr={},Vr=Gr=!1}var zr=0,Wr=Date.now;if(K&&!tt){var $r=window.performance;$r&&"function"===typeof $r.now&&Wr()>document.createEvent("Event").timeStamp&&(Wr=function(){return $r.now()})}function qr(){var t,e;for(zr=Wr(),Gr=!0,jr.sort((function(t,e){return t.id-e.id})),Yr=0;Yr<jr.length;Yr++)t=jr[Yr],t.before&&t.before(),e=t.id,Xr[e]=null,t.run();var r=Ur.slice(),i=jr.slice();Hr(),Jr(r),Kr(i),lt&&V.devtools&&lt.emit("flush")}function Kr(t){var e=t.length;while(e--){var r=t[e],i=r.vm;i._watcher===r&&i._isMounted&&!i._isDestroyed&&kr(i,"updated")}}function Zr(t){t._inactive=!1,Ur.push(t)}function Jr(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Nr(t[e],!0)}function Qr(t){var e=t.id;if(null==Xr[e]){if(Xr[e]=!0,Gr){var r=jr.length-1;while(r>Yr&&jr[r].id>t.id)r--;jr.splice(r+1,0,t)}else jr.push(t);Vr||(Vr=!0,de(qr))}}var ti=0,ei=function(t,e,r,i,n){this.vm=t,n&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++ti,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ct,this.newDepIds=new ct,this.expression="","function"===typeof e?this.getter=e:(this.getter=W(e),this.getter||(this.getter=F)),this.value=this.lazy?void 0:this.get()};ei.prototype.get=function(){var t;yt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Ts){if(!this.user)throw Ts;ee(Ts,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&me(t),vt(),this.cleanupDeps()}return t},ei.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},ei.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},ei.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Qr(this)},ei.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||h(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(Ts){ee(Ts,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},ei.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ei.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},ei.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var ri={enumerable:!0,configurable:!0,get:F,set:F};function ii(t,e,r){ri.get=function(){return this[e][r]},ri.set=function(t){this[e][r]=t},Object.defineProperty(t,r,ri)}function ni(t){t._watchers=[];var e=t.$options;e.props&&ai(t,e.props),e.methods&&pi(t,e.methods),e.data?si(t):Ft(t._data={},!0),e.computed&&li(t,e.computed),e.watch&&e.watch!==at&&di(t,e.watch)}function ai(t,e){var r=t.$options.propsData||{},i=t._props={},n=t.$options._propKeys=[],a=!t.$parent;a||Ot(!1);var s=function(a){n.push(a);var s=Kt(a,e,r,t);Rt(i,a,s),a in t||ii(t,"_props",a)};for(var o in e)s(o);Ot(!0)}function si(t){var e=t.$options.data;e=t._data="function"===typeof e?oi(e,t):e||{},u(e)||(e={});var r=Object.keys(e),i=t.$options.props,n=(t.$options.methods,r.length);while(n--){var a=r[n];0,i&&b(i,a)||Y(a)||ii(t,"_data",a)}Ft(e,!0)}function oi(t,e){yt();try{return t.call(e,e)}catch(Ts){return ee(Ts,e,"data()"),{}}finally{vt()}}var hi={lazy:!0};function li(t,e){var r=t._computedWatchers=Object.create(null),i=ht();for(var n in e){var a=e[n],s="function"===typeof a?a:a.get;0,i||(r[n]=new ei(t,s||F,F,hi)),n in t||ui(t,n,a)}}function ui(t,e,r){var i=!ht();"function"===typeof r?(ri.get=i?ci(e):fi(r),ri.set=F):(ri.get=r.get?i&&!1!==r.cache?ci(e):fi(r.get):F,ri.set=r.set||F),Object.defineProperty(t,e,ri)}function ci(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),_t.target&&e.depend(),e.value}}function fi(t){return function(){return t.call(this,this)}}function pi(t,e){t.$options.props;for(var r in e)t[r]="function"!==typeof e[r]?F:O(e[r],t)}function di(t,e){for(var r in e){var i=e[r];if(Array.isArray(i))for(var n=0;n<i.length;n++)_i(t,r,i[n]);else _i(t,r,i)}}function _i(t,e,r,i){return u(r)&&(i=r,r=r.handler),"string"===typeof r&&(r=t[r]),t.$watch(e,r,i)}function mi(t){var e={get:function(){return this._data}},r={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",r),t.prototype.$set=Bt,t.prototype.$delete=Nt,t.prototype.$watch=function(t,e,r){var i=this;if(u(e))return _i(i,t,e,r);r=r||{},r.user=!0;var n=new ei(i,t,e,r);if(r.immediate)try{e.call(i,n.value)}catch(a){ee(a,i,'callback for immediate watcher "'+n.expression+'"')}return function(){n.teardown()}}}var yi=0;function vi(t){t.prototype._init=function(t){var e=this;e._uid=yi++,e._isVue=!0,t&&t._isComponent?gi(e,t):e.$options=$t(bi(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Cr(e),Dr(e),dr(e),kr(e,"beforeCreate"),Oe(e),ni(e),Pe(e),kr(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function gi(t,e){var r=t.$options=Object.create(t.constructor.options),i=e._parentVnode;r.parent=e.parent,r._parentVnode=i;var n=i.componentOptions;r.propsData=n.propsData,r._parentListeners=n.listeners,r._renderChildren=n.children,r._componentTag=n.tag,e.render&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns)}function bi(t){var e=t.options;if(t.super){var r=bi(t.super),i=t.superOptions;if(r!==i){t.superOptions=r;var n=xi(t);n&&C(t.extendOptions,n),e=t.options=$t(r,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function xi(t){var e,r=t.options,i=t.sealedOptions;for(var n in r)r[n]!==i[n]&&(e||(e={}),e[n]=r[n]);return e}function Ti(t){this._init(t)}function Di(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var r=I(arguments,1);return r.unshift(this),"function"===typeof t.install?t.install.apply(t,r):"function"===typeof t&&t.apply(null,r),e.push(t),this}}function Ai(t){t.mixin=function(t){return this.options=$t(this.options,t),this}}function wi(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var r=this,i=r.cid,n=t._Ctor||(t._Ctor={});if(n[i])return n[i];var a=t.name||r.options.name;var s=function(t){this._init(t)};return s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.cid=e++,s.options=$t(r.options,t),s["super"]=r,s.options.props&&Si(s),s.options.computed&&Ei(s),s.extend=r.extend,s.mixin=r.mixin,s.use=r.use,U.forEach((function(t){s[t]=r[t]})),a&&(s.options.components[a]=s),s.superOptions=r.options,s.extendOptions=t,s.sealedOptions=C({},s.options),n[i]=s,s}}function Si(t){var e=t.options.props;for(var r in e)ii(t.prototype,"_props",r)}function Ei(t){var e=t.options.computed;for(var r in e)ui(t.prototype,r,e[r])}function Pi(t){U.forEach((function(e){t[e]=function(t,r){return r?("component"===e&&u(r)&&(r.name=r.name||t,r=this.options._base.extend(r)),"directive"===e&&"function"===typeof r&&(r={bind:r,update:r}),this.options[e+"s"][t]=r,r):this.options[e+"s"][t]}}))}function Oi(t){return t&&(t.Ctor.options.name||t.tag)}function Ii(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!c(t)&&t.test(e)}function Ci(t,e){var r=t.cache,i=t.keys,n=t._vnode;for(var a in r){var s=r[a];if(s){var o=Oi(s.componentOptions);o&&!e(o)&&Mi(r,a,i,n)}}}function Mi(t,e,r,i){var n=t[e];!n||i&&n.tag===i.tag||n.componentInstance.$destroy(),t[e]=null,v(r,e)}vi(Ti),mi(Ti),Pr(Ti),Mr(Ti),yr(Ti);var Fi=[String,RegExp,Array],Ri={name:"keep-alive",abstract:!0,props:{include:Fi,exclude:Fi,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Mi(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(e){Ci(t,(function(t){return Ii(e,t)}))})),this.$watch("exclude",(function(e){Ci(t,(function(t){return!Ii(e,t)}))}))},render:function(){var t=this.$slots.default,e=Tr(t),r=e&&e.componentOptions;if(r){var i=Oi(r),n=this,a=n.include,s=n.exclude;if(a&&(!i||!Ii(a,i))||s&&i&&Ii(s,i))return e;var o=this,h=o.cache,l=o.keys,u=null==e.key?r.Ctor.cid+(r.tag?"::"+r.tag:""):e.key;h[u]?(e.componentInstance=h[u].componentInstance,v(l,u),l.push(u)):(h[u]=e,l.push(u),this.max&&l.length>parseInt(this.max)&&Mi(h,l[0],l,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Bi={KeepAlive:Ri};function Ni(t){var e={get:function(){return V}};Object.defineProperty(t,"config",e),t.util={warn:pt,extend:C,mergeOptions:$t,defineReactive:Rt},t.set=Bt,t.delete=Nt,t.nextTick=de,t.observable=function(t){return Ft(t),t},t.options=Object.create(null),U.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,C(t.options.components,Bi),Di(t),Ai(t),wi(t),Pi(t)}Ni(Ti),Object.defineProperty(Ti.prototype,"$isServer",{get:ht}),Object.defineProperty(Ti.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Ti,"FunctionalRenderContext",{value:Ze}),Ti.version="2.6.10";var Li=m("style,class"),ki=m("input,textarea,option,select,progress"),ji=function(t,e,r){return"value"===r&&ki(t)&&"button"!==e||"selected"===r&&"option"===t||"checked"===r&&"input"===t||"muted"===r&&"video"===t},Ui=m("contenteditable,draggable,spellcheck"),Xi=m("events,caret,typing,plaintext-only"),Vi=function(t,e){return Wi(e)||"false"===e?"false":"contenteditable"===t&&Xi(e)?e:"true"},Gi=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Yi="http://www.w3.org/1999/xlink",Hi=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},zi=function(t){return Hi(t)?t.slice(6,t.length):""},Wi=function(t){return null==t||!1===t};function $i(t){var e=t.data,r=t,i=t;while(n(i.componentInstance))i=i.componentInstance._vnode,i&&i.data&&(e=qi(i.data,e));while(n(r=r.parent))r&&r.data&&(e=qi(e,r.data));return Ki(e.staticClass,e.class)}function qi(t,e){return{staticClass:Zi(t.staticClass,e.staticClass),class:n(t.class)?[t.class,e.class]:e.class}}function Ki(t,e){return n(t)||n(e)?Zi(t,Ji(e)):""}function Zi(t,e){return t?e?t+" "+e:t:e||""}function Ji(t){return Array.isArray(t)?Qi(t):h(t)?tn(t):"string"===typeof t?t:""}function Qi(t){for(var e,r="",i=0,a=t.length;i<a;i++)n(e=Ji(t[i]))&&""!==e&&(r&&(r+=" "),r+=e);return r}function tn(t){var e="";for(var r in t)t[r]&&(e&&(e+=" "),e+=r);return e}var en={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},rn=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),nn=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),an=function(t){return rn(t)||nn(t)};function sn(t){return nn(t)?"svg":"math"===t?"math":void 0}var on=Object.create(null);function hn(t){if(!K)return!0;if(an(t))return!1;if(t=t.toLowerCase(),null!=on[t])return on[t];var e=document.createElement(t);return t.indexOf("-")>-1?on[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:on[t]=/HTMLUnknownElement/.test(e.toString())}var ln=m("text,number,password,search,email,tel,url");function un(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function cn(t,e){var r=document.createElement(t);return"select"!==t?r:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&r.setAttribute("multiple","multiple"),r)}function fn(t,e){return document.createElementNS(en[t],e)}function pn(t){return document.createTextNode(t)}function dn(t){return document.createComment(t)}function _n(t,e,r){t.insertBefore(e,r)}function mn(t,e){t.removeChild(e)}function yn(t,e){t.appendChild(e)}function vn(t){return t.parentNode}function gn(t){return t.nextSibling}function bn(t){return t.tagName}function xn(t,e){t.textContent=e}function Tn(t,e){t.setAttribute(e,"")}var Dn=Object.freeze({createElement:cn,createElementNS:fn,createTextNode:pn,createComment:dn,insertBefore:_n,removeChild:mn,appendChild:yn,parentNode:vn,nextSibling:gn,tagName:bn,setTextContent:xn,setStyleScope:Tn}),An={create:function(t,e){wn(e)},update:function(t,e){t.data.ref!==e.data.ref&&(wn(t,!0),wn(e))},destroy:function(t){wn(t,!0)}};function wn(t,e){var r=t.data.ref;if(n(r)){var i=t.context,a=t.componentInstance||t.elm,s=i.$refs;e?Array.isArray(s[r])?v(s[r],a):s[r]===a&&(s[r]=void 0):t.data.refInFor?Array.isArray(s[r])?s[r].indexOf(a)<0&&s[r].push(a):s[r]=[a]:s[r]=a}}var Sn=new gt("",{},[]),En=["create","activate","update","remove","destroy"];function Pn(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&n(t.data)===n(e.data)&&On(t,e)||a(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&i(e.asyncFactory.error))}function On(t,e){if("input"!==t.tag)return!0;var r,i=n(r=t.data)&&n(r=r.attrs)&&r.type,a=n(r=e.data)&&n(r=r.attrs)&&r.type;return i===a||ln(i)&&ln(a)}function In(t,e,r){var i,a,s={};for(i=e;i<=r;++i)a=t[i].key,n(a)&&(s[a]=i);return s}function Cn(t){var e,r,s={},h=t.modules,l=t.nodeOps;for(e=0;e<En.length;++e)for(s[En[e]]=[],r=0;r<h.length;++r)n(h[r][En[e]])&&s[En[e]].push(h[r][En[e]]);function u(t){return new gt(l.tagName(t).toLowerCase(),{},[],void 0,t)}function c(t,e){function r(){0===--r.listeners&&f(t)}return r.listeners=e,r}function f(t){var e=l.parentNode(t);n(e)&&l.removeChild(e,t)}function p(t,e,r,i,s,o,h){if(n(t.elm)&&n(o)&&(t=o[h]=Dt(t)),t.isRootInsert=!s,!d(t,e,r,i)){var u=t.data,c=t.children,f=t.tag;n(f)?(t.elm=t.ns?l.createElementNS(t.ns,f):l.createElement(f,t),T(t),g(t,c,e),n(u)&&x(t,e),v(r,t.elm,i)):a(t.isComment)?(t.elm=l.createComment(t.text),v(r,t.elm,i)):(t.elm=l.createTextNode(t.text),v(r,t.elm,i))}}function d(t,e,r,i){var s=t.data;if(n(s)){var o=n(t.componentInstance)&&s.keepAlive;if(n(s=s.hook)&&n(s=s.init)&&s(t,!1),n(t.componentInstance))return _(t,e),v(r,t.elm,i),a(o)&&y(t,e,r,i),!0}}function _(t,e){n(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,b(t)?(x(t,e),T(t)):(wn(t),e.push(t))}function y(t,e,r,i){var a,o=t;while(o.componentInstance)if(o=o.componentInstance._vnode,n(a=o.data)&&n(a=a.transition)){for(a=0;a<s.activate.length;++a)s.activate[a](Sn,o);e.push(o);break}v(r,t.elm,i)}function v(t,e,r){n(t)&&(n(r)?l.parentNode(r)===t&&l.insertBefore(t,e,r):l.appendChild(t,e))}function g(t,e,r){if(Array.isArray(e)){0;for(var i=0;i<e.length;++i)p(e[i],r,t.elm,null,!0,e,i)}else o(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function b(t){while(t.componentInstance)t=t.componentInstance._vnode;return n(t.tag)}function x(t,r){for(var i=0;i<s.create.length;++i)s.create[i](Sn,t);e=t.data.hook,n(e)&&(n(e.create)&&e.create(Sn,t),n(e.insert)&&r.push(t))}function T(t){var e;if(n(e=t.fnScopeId))l.setStyleScope(t.elm,e);else{var r=t;while(r)n(e=r.context)&&n(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),r=r.parent}n(e=Or)&&e!==t.context&&e!==t.fnContext&&n(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function D(t,e,r,i,n,a){for(;i<=n;++i)p(r[i],a,t,e,!1,r,i)}function A(t){var e,r,i=t.data;if(n(i))for(n(e=i.hook)&&n(e=e.destroy)&&e(t),e=0;e<s.destroy.length;++e)s.destroy[e](t);if(n(e=t.children))for(r=0;r<t.children.length;++r)A(t.children[r])}function w(t,e,r,i){for(;r<=i;++r){var a=e[r];n(a)&&(n(a.tag)?(S(a),A(a)):f(a.elm))}}function S(t,e){if(n(e)||n(t.data)){var r,i=s.remove.length+1;for(n(e)?e.listeners+=i:e=c(t.elm,i),n(r=t.componentInstance)&&n(r=r._vnode)&&n(r.data)&&S(r,e),r=0;r<s.remove.length;++r)s.remove[r](t,e);n(r=t.data.hook)&&n(r=r.remove)?r(t,e):e()}else f(t.elm)}function E(t,e,r,a,s){var o,h,u,c,f=0,d=0,_=e.length-1,m=e[0],y=e[_],v=r.length-1,g=r[0],b=r[v],x=!s;while(f<=_&&d<=v)i(m)?m=e[++f]:i(y)?y=e[--_]:Pn(m,g)?(O(m,g,a,r,d),m=e[++f],g=r[++d]):Pn(y,b)?(O(y,b,a,r,v),y=e[--_],b=r[--v]):Pn(m,b)?(O(m,b,a,r,v),x&&l.insertBefore(t,m.elm,l.nextSibling(y.elm)),m=e[++f],b=r[--v]):Pn(y,g)?(O(y,g,a,r,d),x&&l.insertBefore(t,y.elm,m.elm),y=e[--_],g=r[++d]):(i(o)&&(o=In(e,f,_)),h=n(g.key)?o[g.key]:P(g,e,f,_),i(h)?p(g,a,t,m.elm,!1,r,d):(u=e[h],Pn(u,g)?(O(u,g,a,r,d),e[h]=void 0,x&&l.insertBefore(t,u.elm,m.elm)):p(g,a,t,m.elm,!1,r,d)),g=r[++d]);f>_?(c=i(r[v+1])?null:r[v+1].elm,D(t,c,r,d,v,a)):d>v&&w(t,e,f,_)}function P(t,e,r,i){for(var a=r;a<i;a++){var s=e[a];if(n(s)&&Pn(t,s))return a}}function O(t,e,r,o,h,u){if(t!==e){n(e.elm)&&n(o)&&(e=o[h]=Dt(e));var c=e.elm=t.elm;if(a(t.isAsyncPlaceholder))n(e.asyncFactory.resolved)?M(t.elm,e,r):e.isAsyncPlaceholder=!0;else if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,p=e.data;n(p)&&n(f=p.hook)&&n(f=f.prepatch)&&f(t,e);var d=t.children,_=e.children;if(n(p)&&b(e)){for(f=0;f<s.update.length;++f)s.update[f](t,e);n(f=p.hook)&&n(f=f.update)&&f(t,e)}i(e.text)?n(d)&&n(_)?d!==_&&E(c,d,_,r,u):n(_)?(n(t.text)&&l.setTextContent(c,""),D(c,null,_,0,_.length-1,r)):n(d)?w(c,d,0,d.length-1):n(t.text)&&l.setTextContent(c,""):t.text!==e.text&&l.setTextContent(c,e.text),n(p)&&n(f=p.hook)&&n(f=f.postpatch)&&f(t,e)}}}function I(t,e,r){if(a(r)&&n(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var C=m("attrs,class,staticClass,staticStyle,key");function M(t,e,r,i){var s,o=e.tag,h=e.data,l=e.children;if(i=i||h&&h.pre,e.elm=t,a(e.isComment)&&n(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(n(h)&&(n(s=h.hook)&&n(s=s.init)&&s(e,!0),n(s=e.componentInstance)))return _(e,r),!0;if(n(o)){if(n(l))if(t.hasChildNodes())if(n(s=h)&&n(s=s.domProps)&&n(s=s.innerHTML)){if(s!==t.innerHTML)return!1}else{for(var u=!0,c=t.firstChild,f=0;f<l.length;f++){if(!c||!M(c,l[f],r,i)){u=!1;break}c=c.nextSibling}if(!u||c)return!1}else g(e,l,r);if(n(h)){var p=!1;for(var d in h)if(!C(d)){p=!0,x(e,r);break}!p&&h["class"]&&me(h["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,r,o){if(!i(e)){var h=!1,c=[];if(i(t))h=!0,p(e,c);else{var f=n(t.nodeType);if(!f&&Pn(t,e))O(t,e,c,null,null,o);else{if(f){if(1===t.nodeType&&t.hasAttribute(j)&&(t.removeAttribute(j),r=!0),a(r)&&M(t,e,c))return I(e,c,!0),t;t=u(t)}var d=t.elm,_=l.parentNode(d);if(p(e,c,d._leaveCb?null:_,l.nextSibling(d)),n(e.parent)){var m=e.parent,y=b(e);while(m){for(var v=0;v<s.destroy.length;++v)s.destroy[v](m);if(m.elm=e.elm,y){for(var g=0;g<s.create.length;++g)s.create[g](Sn,m);var x=m.data.hook.insert;if(x.merged)for(var T=1;T<x.fns.length;T++)x.fns[T]()}else wn(m);m=m.parent}}n(_)?w(_,[t],0,0):n(t.tag)&&A(t)}}return I(e,c,h),e.elm}n(t)&&A(t)}}var Mn={create:Fn,update:Fn,destroy:function(t){Fn(t,Sn)}};function Fn(t,e){(t.data.directives||e.data.directives)&&Rn(t,e)}function Rn(t,e){var r,i,n,a=t===Sn,s=e===Sn,o=Nn(t.data.directives,t.context),h=Nn(e.data.directives,e.context),l=[],u=[];for(r in h)i=o[r],n=h[r],i?(n.oldValue=i.value,n.oldArg=i.arg,kn(n,"update",e,t),n.def&&n.def.componentUpdated&&u.push(n)):(kn(n,"bind",e,t),n.def&&n.def.inserted&&l.push(n));if(l.length){var c=function(){for(var r=0;r<l.length;r++)kn(l[r],"inserted",e,t)};a?xe(e,"insert",c):c()}if(u.length&&xe(e,"postpatch",(function(){for(var r=0;r<u.length;r++)kn(u[r],"componentUpdated",e,t)})),!a)for(r in o)h[r]||kn(o[r],"unbind",t,t,s)}var Bn=Object.create(null);function Nn(t,e){var r,i,n=Object.create(null);if(!t)return n;for(r=0;r<t.length;r++)i=t[r],i.modifiers||(i.modifiers=Bn),n[Ln(i)]=i,i.def=qt(e.$options,"directives",i.name,!0);return n}function Ln(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function kn(t,e,r,i,n){var a=t.def&&t.def[e];if(a)try{a(r.elm,t,r,i,n)}catch(Ts){ee(Ts,r.context,"directive "+t.name+" "+e+" hook")}}var jn=[An,Mn];function Un(t,e){var r=e.componentOptions;if((!n(r)||!1!==r.Ctor.options.inheritAttrs)&&(!i(t.data.attrs)||!i(e.data.attrs))){var a,s,o,h=e.elm,l=t.data.attrs||{},u=e.data.attrs||{};for(a in n(u.__ob__)&&(u=e.data.attrs=C({},u)),u)s=u[a],o=l[a],o!==s&&Xn(h,a,s);for(a in(tt||rt)&&u.value!==l.value&&Xn(h,"value",u.value),l)i(u[a])&&(Hi(a)?h.removeAttributeNS(Yi,zi(a)):Ui(a)||h.removeAttribute(a))}}function Xn(t,e,r){t.tagName.indexOf("-")>-1?Vn(t,e,r):Gi(e)?Wi(r)?t.removeAttribute(e):(r="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,r)):Ui(e)?t.setAttribute(e,Vi(e,r)):Hi(e)?Wi(r)?t.removeAttributeNS(Yi,zi(e)):t.setAttributeNS(Yi,e,r):Vn(t,e,r)}function Vn(t,e,r){if(Wi(r))t.removeAttribute(e);else{if(tt&&!et&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==r&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,r)}}var Gn={create:Un,update:Un};function Yn(t,e){var r=e.elm,a=e.data,s=t.data;if(!(i(a.staticClass)&&i(a.class)&&(i(s)||i(s.staticClass)&&i(s.class)))){var o=$i(e),h=r._transitionClasses;n(h)&&(o=Zi(o,Ji(h))),o!==r._prevClass&&(r.setAttribute("class",o),r._prevClass=o)}}var Hn,zn={create:Yn,update:Yn},Wn="__r",$n="__c";function qn(t){if(n(t[Wn])){var e=tt?"change":"input";t[e]=[].concat(t[Wn],t[e]||[]),delete t[Wn]}n(t[$n])&&(t.change=[].concat(t[$n],t.change||[]),delete t[$n])}function Kn(t,e,r){var i=Hn;return function n(){var a=e.apply(null,arguments);null!==a&&Qn(t,n,r,i)}}var Zn=se&&!(nt&&Number(nt[1])<=53);function Jn(t,e,r,i){if(Zn){var n=zr,a=e;e=a._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=n||t.timeStamp<=0||t.target.ownerDocument!==document)return a.apply(this,arguments)}}Hn.addEventListener(t,e,st?{capture:r,passive:i}:r)}function Qn(t,e,r,i){(i||Hn).removeEventListener(t,e._wrapper||e,r)}function ta(t,e){if(!i(t.data.on)||!i(e.data.on)){var r=e.data.on||{},n=t.data.on||{};Hn=e.elm,qn(r),be(r,n,Jn,Qn,Kn,e.context),Hn=void 0}}var ea,ra={create:ta,update:ta};function ia(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var r,a,s=e.elm,o=t.data.domProps||{},h=e.data.domProps||{};for(r in n(h.__ob__)&&(h=e.data.domProps=C({},h)),o)r in h||(s[r]="");for(r in h){if(a=h[r],"textContent"===r||"innerHTML"===r){if(e.children&&(e.children.length=0),a===o[r])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===r&&"PROGRESS"!==s.tagName){s._value=a;var l=i(a)?"":String(a);na(s,l)&&(s.value=l)}else if("innerHTML"===r&&nn(s.tagName)&&i(s.innerHTML)){ea=ea||document.createElement("div"),ea.innerHTML="<svg>"+a+"</svg>";var u=ea.firstChild;while(s.firstChild)s.removeChild(s.firstChild);while(u.firstChild)s.appendChild(u.firstChild)}else if(a!==o[r])try{s[r]=a}catch(Ts){}}}}function na(t,e){return!t.composing&&("OPTION"===t.tagName||aa(t,e)||sa(t,e))}function aa(t,e){var r=!0;try{r=document.activeElement!==t}catch(Ts){}return r&&t.value!==e}function sa(t,e){var r=t.value,i=t._vModifiers;if(n(i)){if(i.number)return _(r)!==_(e);if(i.trim)return r.trim()!==e.trim()}return r!==e}var oa={create:ia,update:ia},ha=x((function(t){var e={},r=/;(?![^(]*\))/g,i=/:(.+)/;return t.split(r).forEach((function(t){if(t){var r=t.split(i);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function la(t){var e=ua(t.style);return t.staticStyle?C(t.staticStyle,e):e}function ua(t){return Array.isArray(t)?M(t):"string"===typeof t?ha(t):t}function ca(t,e){var r,i={};if(e){var n=t;while(n.componentInstance)n=n.componentInstance._vnode,n&&n.data&&(r=la(n.data))&&C(i,r)}(r=la(t.data))&&C(i,r);var a=t;while(a=a.parent)a.data&&(r=la(a.data))&&C(i,r);return i}var fa,pa=/^--/,da=/\s*!important$/,_a=function(t,e,r){if(pa.test(e))t.style.setProperty(e,r);else if(da.test(r))t.style.setProperty(S(e),r.replace(da,""),"important");else{var i=ya(e);if(Array.isArray(r))for(var n=0,a=r.length;n<a;n++)t.style[i]=r[n];else t.style[i]=r}},ma=["Webkit","Moz","ms"],ya=x((function(t){if(fa=fa||document.createElement("div").style,t=D(t),"filter"!==t&&t in fa)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<ma.length;r++){var i=ma[r]+e;if(i in fa)return i}}));function va(t,e){var r=e.data,a=t.data;if(!(i(r.staticStyle)&&i(r.style)&&i(a.staticStyle)&&i(a.style))){var s,o,h=e.elm,l=a.staticStyle,u=a.normalizedStyle||a.style||{},c=l||u,f=ua(e.data.style)||{};e.data.normalizedStyle=n(f.__ob__)?C({},f):f;var p=ca(e,!0);for(o in c)i(p[o])&&_a(h,o,"");for(o in p)s=p[o],s!==c[o]&&_a(h,o,null==s?"":s)}}var ga={create:va,update:va},ba=/\s+/;function xa(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ba).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var r=" "+(t.getAttribute("class")||"")+" ";r.indexOf(" "+e+" ")<0&&t.setAttribute("class",(r+e).trim())}}function Ta(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ba).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var r=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";while(r.indexOf(i)>=0)r=r.replace(i," ");r=r.trim(),r?t.setAttribute("class",r):t.removeAttribute("class")}}function Da(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&C(e,Aa(t.name||"v")),C(e,t),e}return"string"===typeof t?Aa(t):void 0}}var Aa=x((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),wa=K&&!et,Sa="transition",Ea="animation",Pa="transition",Oa="transitionend",Ia="animation",Ca="animationend";wa&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Pa="WebkitTransition",Oa="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ia="WebkitAnimation",Ca="webkitAnimationEnd"));var Ma=K?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Fa(t){Ma((function(){Ma(t)}))}function Ra(t,e){var r=t._transitionClasses||(t._transitionClasses=[]);r.indexOf(e)<0&&(r.push(e),xa(t,e))}function Ba(t,e){t._transitionClasses&&v(t._transitionClasses,e),Ta(t,e)}function Na(t,e,r){var i=ka(t,e),n=i.type,a=i.timeout,s=i.propCount;if(!n)return r();var o=n===Sa?Oa:Ca,h=0,l=function(){t.removeEventListener(o,u),r()},u=function(e){e.target===t&&++h>=s&&l()};setTimeout((function(){h<s&&l()}),a+1),t.addEventListener(o,u)}var La=/\b(transform|all)(,|$)/;function ka(t,e){var r,i=window.getComputedStyle(t),n=(i[Pa+"Delay"]||"").split(", "),a=(i[Pa+"Duration"]||"").split(", "),s=ja(n,a),o=(i[Ia+"Delay"]||"").split(", "),h=(i[Ia+"Duration"]||"").split(", "),l=ja(o,h),u=0,c=0;e===Sa?s>0&&(r=Sa,u=s,c=a.length):e===Ea?l>0&&(r=Ea,u=l,c=h.length):(u=Math.max(s,l),r=u>0?s>l?Sa:Ea:null,c=r?r===Sa?a.length:h.length:0);var f=r===Sa&&La.test(i[Pa+"Property"]);return{type:r,timeout:u,propCount:c,hasTransform:f}}function ja(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,r){return Ua(e)+Ua(t[r])})))}function Ua(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Xa(t,e){var r=t.elm;n(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var a=Da(t.data.transition);if(!i(a)&&!n(r._enterCb)&&1===r.nodeType){var s=a.css,o=a.type,l=a.enterClass,u=a.enterToClass,c=a.enterActiveClass,f=a.appearClass,p=a.appearToClass,d=a.appearActiveClass,m=a.beforeEnter,y=a.enter,v=a.afterEnter,g=a.enterCancelled,b=a.beforeAppear,x=a.appear,T=a.afterAppear,D=a.appearCancelled,A=a.duration,w=Or,S=Or.$vnode;while(S&&S.parent)w=S.context,S=S.parent;var E=!w._isMounted||!t.isRootInsert;if(!E||x||""===x){var P=E&&f?f:l,O=E&&d?d:c,I=E&&p?p:u,C=E&&b||m,M=E&&"function"===typeof x?x:y,F=E&&T||v,R=E&&D||g,B=_(h(A)?A.enter:A);0;var N=!1!==s&&!et,L=Ya(M),j=r._enterCb=k((function(){N&&(Ba(r,I),Ba(r,O)),j.cancelled?(N&&Ba(r,P),R&&R(r)):F&&F(r),r._enterCb=null}));t.data.show||xe(t,"insert",(function(){var e=r.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),M&&M(r,j)})),C&&C(r),N&&(Ra(r,P),Ra(r,O),Fa((function(){Ba(r,P),j.cancelled||(Ra(r,I),L||(Ga(B)?setTimeout(j,B):Na(r,o,j)))}))),t.data.show&&(e&&e(),M&&M(r,j)),N||L||j()}}}function Va(t,e){var r=t.elm;n(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var a=Da(t.data.transition);if(i(a)||1!==r.nodeType)return e();if(!n(r._leaveCb)){var s=a.css,o=a.type,l=a.leaveClass,u=a.leaveToClass,c=a.leaveActiveClass,f=a.beforeLeave,p=a.leave,d=a.afterLeave,m=a.leaveCancelled,y=a.delayLeave,v=a.duration,g=!1!==s&&!et,b=Ya(p),x=_(h(v)?v.leave:v);0;var T=r._leaveCb=k((function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[t.key]=null),g&&(Ba(r,u),Ba(r,c)),T.cancelled?(g&&Ba(r,l),m&&m(r)):(e(),d&&d(r)),r._leaveCb=null}));y?y(D):D()}function D(){T.cancelled||(!t.data.show&&r.parentNode&&((r.parentNode._pending||(r.parentNode._pending={}))[t.key]=t),f&&f(r),g&&(Ra(r,l),Ra(r,c),Fa((function(){Ba(r,l),T.cancelled||(Ra(r,u),b||(Ga(x)?setTimeout(T,x):Na(r,o,T)))}))),p&&p(r,T),g||b||T())}}function Ga(t){return"number"===typeof t&&!isNaN(t)}function Ya(t){if(i(t))return!1;var e=t.fns;return n(e)?Ya(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Ha(t,e){!0!==e.data.show&&Xa(e)}var za=K?{create:Ha,activate:Ha,remove:function(t,e){!0!==t.data.show?Va(t,e):e()}}:{},Wa=[Gn,zn,ra,oa,ga,za],$a=Wa.concat(jn),qa=Cn({nodeOps:Dn,modules:$a});et&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&is(t,"input")}));var Ka={inserted:function(t,e,r,i){"select"===r.tag?(i.elm&&!i.elm._vOptions?xe(r,"postpatch",(function(){Ka.componentUpdated(t,e,r)})):Za(t,e,r.context),t._vOptions=[].map.call(t.options,ts)):("textarea"===r.tag||ln(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",es),t.addEventListener("compositionend",rs),t.addEventListener("change",rs),et&&(t.vmodel=!0)))},componentUpdated:function(t,e,r){if("select"===r.tag){Za(t,e,r.context);var i=t._vOptions,n=t._vOptions=[].map.call(t.options,ts);if(n.some((function(t,e){return!N(t,i[e])}))){var a=t.multiple?e.value.some((function(t){return Qa(t,n)})):e.value!==e.oldValue&&Qa(e.value,n);a&&is(t,"change")}}}};function Za(t,e,r){Ja(t,e,r),(tt||rt)&&setTimeout((function(){Ja(t,e,r)}),0)}function Ja(t,e,r){var i=e.value,n=t.multiple;if(!n||Array.isArray(i)){for(var a,s,o=0,h=t.options.length;o<h;o++)if(s=t.options[o],n)a=L(i,ts(s))>-1,s.selected!==a&&(s.selected=a);else if(N(ts(s),i))return void(t.selectedIndex!==o&&(t.selectedIndex=o));n||(t.selectedIndex=-1)}}function Qa(t,e){return e.every((function(e){return!N(e,t)}))}function ts(t){return"_value"in t?t._value:t.value}function es(t){t.target.composing=!0}function rs(t){t.target.composing&&(t.target.composing=!1,is(t.target,"input"))}function is(t,e){var r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0),t.dispatchEvent(r)}function ns(t){return!t.componentInstance||t.data&&t.data.transition?t:ns(t.componentInstance._vnode)}var as={bind:function(t,e,r){var i=e.value;r=ns(r);var n=r.data&&r.data.transition,a=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&n?(r.data.show=!0,Xa(r,(function(){t.style.display=a}))):t.style.display=i?a:"none"},update:function(t,e,r){var i=e.value,n=e.oldValue;if(!i!==!n){r=ns(r);var a=r.data&&r.data.transition;a?(r.data.show=!0,i?Xa(r,(function(){t.style.display=t.__vOriginalDisplay})):Va(r,(function(){t.style.display="none"}))):t.style.display=i?t.__vOriginalDisplay:"none"}},unbind:function(t,e,r,i,n){n||(t.style.display=t.__vOriginalDisplay)}},ss={model:Ka,show:as},os={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function hs(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?hs(Tr(e.children)):t}function ls(t){var e={},r=t.$options;for(var i in r.propsData)e[i]=t[i];var n=r._parentListeners;for(var a in n)e[D(a)]=n[a];return e}function us(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function cs(t){while(t=t.parent)if(t.data.transition)return!0}function fs(t,e){return e.key===t.key&&e.tag===t.tag}var ps=function(t){return t.tag||xr(t)},ds=function(t){return"show"===t.name},_s={name:"transition",props:os,abstract:!0,render:function(t){var e=this,r=this.$slots.default;if(r&&(r=r.filter(ps),r.length)){0;var i=this.mode;0;var n=r[0];if(cs(this.$vnode))return n;var a=hs(n);if(!a)return n;if(this._leaving)return us(t,n);var s="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?s+"comment":s+a.tag:o(a.key)?0===String(a.key).indexOf(s)?a.key:s+a.key:a.key;var h=(a.data||(a.data={})).transition=ls(this),l=this._vnode,u=hs(l);if(a.data.directives&&a.data.directives.some(ds)&&(a.data.show=!0),u&&u.data&&!fs(a,u)&&!xr(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var c=u.data.transition=C({},h);if("out-in"===i)return this._leaving=!0,xe(c,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),us(t,n);if("in-out"===i){if(xr(a))return l;var f,p=function(){f()};xe(h,"afterEnter",p),xe(h,"enterCancelled",p),xe(c,"delayLeave",(function(t){f=t}))}}return n}}},ms=C({tag:String,moveClass:String},os);delete ms.mode;var ys={props:ms,beforeMount:function(){var t=this,e=this._update;this._update=function(r,i){var n=Ir(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,n(),e.call(t,r,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),i=this.prevChildren=this.children,n=this.$slots.default||[],a=this.children=[],s=ls(this),o=0;o<n.length;o++){var h=n[o];if(h.tag)if(null!=h.key&&0!==String(h.key).indexOf("__vlist"))a.push(h),r[h.key]=h,(h.data||(h.data={})).transition=s;else;}if(i){for(var l=[],u=[],c=0;c<i.length;c++){var f=i[c];f.data.transition=s,f.data.pos=f.elm.getBoundingClientRect(),r[f.key]?l.push(f):u.push(f)}this.kept=t(e,null,l),this.removed=u}return t(e,null,a)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(vs),t.forEach(gs),t.forEach(bs),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var r=t.elm,i=r.style;Ra(r,e),i.transform=i.WebkitTransform=i.transitionDuration="",r.addEventListener(Oa,r._moveCb=function t(i){i&&i.target!==r||i&&!/transform$/.test(i.propertyName)||(r.removeEventListener(Oa,t),r._moveCb=null,Ba(r,e))})}})))},methods:{hasMove:function(t,e){if(!wa)return!1;if(this._hasMove)return this._hasMove;var r=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Ta(r,t)})),xa(r,e),r.style.display="none",this.$el.appendChild(r);var i=ka(r);return this.$el.removeChild(r),this._hasMove=i.hasTransform}}};function vs(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function gs(t){t.data.newPos=t.elm.getBoundingClientRect()}function bs(t){var e=t.data.pos,r=t.data.newPos,i=e.left-r.left,n=e.top-r.top;if(i||n){t.data.moved=!0;var a=t.elm.style;a.transform=a.WebkitTransform="translate("+i+"px,"+n+"px)",a.transitionDuration="0s"}}var xs={Transition:_s,TransitionGroup:ys};Ti.config.mustUseProp=ji,Ti.config.isReservedTag=an,Ti.config.isReservedAttr=Li,Ti.config.getTagNamespace=sn,Ti.config.isUnknownElement=hn,C(Ti.options.directives,ss),C(Ti.options.components,xs),Ti.prototype.__patch__=K?qa:F,Ti.prototype.$mount=function(t,e){return t=t&&K?un(t):void 0,Fr(this,t,e)},K&&setTimeout((function(){V.devtools&&lt&&lt.emit("init",Ti)}),0),e["a"]=Ti}).call(this,r("c8ba"))},"2cf4":function(t,e,r){var i,n,a,s=r("da84"),o=r("d039"),h=r("c6b6"),l=r("f8c2"),u=r("1be4"),c=r("cc12"),f=r("b39a"),p=s.location,d=s.setImmediate,_=s.clearImmediate,m=s.process,y=s.MessageChannel,v=s.Dispatch,g=0,b={},x="onreadystatechange",T=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},D=function(t){return function(){T(t)}},A=function(t){T(t.data)},w=function(t){s.postMessage(t+"",p.protocol+"//"+p.host)};d&&_||(d=function(t){var e=[],r=1;while(arguments.length>r)e.push(arguments[r++]);return b[++g]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},i(g),g},_=function(t){delete b[t]},"process"==h(m)?i=function(t){m.nextTick(D(t))}:v&&v.now?i=function(t){v.now(D(t))}:y&&!/(iphone|ipod|ipad).*applewebkit/i.test(f)?(n=new y,a=n.port2,n.port1.onmessage=A,i=l(a.postMessage,a,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||o(w)?i=x in c("script")?function(t){u.appendChild(c("script"))[x]=function(){u.removeChild(this),T(t)}}:function(t){setTimeout(D(t),0)}:(i=w,s.addEventListener("message",A,!1))),t.exports={set:d,clear:_}},"320c":function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function s(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function o(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var i=Object.getOwnPropertyNames(e).map((function(t){return e[t]}));if("0123456789"!==i.join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(a){return!1}}t.exports=o()?Object.assign:function(t,e){for(var r,o,h=s(t),l=1;l<arguments.length;l++){for(var u in r=Object(arguments[l]),r)n.call(r,u)&&(h[u]=r[u]);if(i){o=i(r);for(var c=0;c<o.length;c++)a.call(r,o[c])&&(h[o[c]]=r[o[c]])}}return h}},"35a1":function(t,e,r){var i=r("f5df"),n=r("3f8c"),a=r("b622"),s=a("iterator");t.exports=function(t){if(void 0!=t)return t[s]||t["@@iterator"]||n[i(t)]}},"35e8":function(t,e,r){"use strict";t.exports={isString:function(t){return"string"===typeof t},isObject:function(t){return"object"===typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},"37e8":function(t,e,r){var i=r("83ab"),n=r("9bf2"),a=r("825a"),s=r("df75");t.exports=i?Object.defineProperties:function(t,e){a(t);var r,i=s(e),o=i.length,h=0;while(o>h)n.f(t,r=i[h++],e[r]);return t}},3907:function(t,e,r){(function(i){var n;(function(i){var a=i["Promise"],s=a&&"resolve"in a&&"reject"in a&&"all"in a&&"race"in a&&function(){var t;return new a((function(e){t=e})),"function"===typeof t}();e?(e.Promise=s?a:E,e.Polyfill=E):(n=function(){return s?a:E}.call(e,r,e,t),void 0===n||(t.exports=n));var o="pending",h="sealed",l="fulfilled",u="rejected",c=function(){};function f(t){return"[object Array]"===Object.prototype.toString.call(t)}var p,d="undefined"!==typeof setImmediate?setImmediate:setTimeout,_=[];function m(){for(var t=0;t<_.length;t++)_[t][0](_[t][1]);_=[],p=!1}function y(t,e){_.push([t,e]),p||(p=!0,d(m,0))}function v(t,e){function r(t){x(e,t)}function i(t){D(e,t)}try{t(r,i)}catch(n){i(n)}}function g(t){var e=t.owner,r=e.state_,i=e.data_,n=t[r],a=t.then;if("function"===typeof n){r=l;try{i=n(i)}catch(s){D(a,s)}}b(a,i)||(r===l&&x(a,i),r===u&&D(a,i))}function b(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"===typeof e||"object"===typeof e)){var i=e.then;if("function"===typeof i)return i.call(e,(function(i){r||(r=!0,e!==i?x(t,i):T(t,i))}),(function(e){r||(r=!0,D(t,e))})),!0}}catch(n){return r||D(t,n),!0}return!1}function x(t,e){t!==e&&b(t,e)||T(t,e)}function T(t,e){t.state_===o&&(t.state_=h,t.data_=e,y(w,t))}function D(t,e){t.state_===o&&(t.state_=h,t.data_=e,y(S,t))}function A(t){var e=t.then_;t.then_=void 0;for(var r=0;r<e.length;r++)g(e[r])}function w(t){t.state_=l,A(t)}function S(t){t.state_=u,A(t)}function E(t){if("function"!==typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof E===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],v(t,this)}E.prototype={constructor:E,state_:o,then_:null,data_:void 0,then:function(t,e){var r={owner:this,then:new this.constructor(c),fulfilled:t,rejected:e};return this.state_===l||this.state_===u?y(g,r):this.then_.push(r),r.then},catch:function(t){return this.then(null,t)}},E.all=function(t){var e=this;if(!f(t))throw new TypeError("You must pass an array to Promise.all().");return new e((function(e,r){var i=[],n=0;function a(t){return n++,function(r){i[t]=r,--n||e(i)}}for(var s,o=0;o<t.length;o++)s=t[o],s&&"function"===typeof s.then?s.then(a(o),r):i[o]=s;n||e(i)}))},E.race=function(t){var e=this;if(!f(t))throw new TypeError("You must pass an array to Promise.race().");return new e((function(e,r){for(var i,n=0;n<t.length;n++)i=t[n],i&&"function"===typeof i.then?i.then(e,r):e(i)}))},E.resolve=function(t){var e=this;return t&&"object"===typeof t&&t.constructor===e?t:new e((function(e){e(t)}))},E.reject=function(t){var e=this;return new e((function(e,r){r(t)}))}})("undefined"!=typeof window?window:"undefined"!=typeof i?i:"undefined"!=typeof self?self:this)}).call(this,r("c8ba"))},"3bbe":function(t,e,r){var i=r("861d");t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"3ca3":function(t,e,r){"use strict";var i=r("6547").charAt,n=r("69f3"),a=r("7dd0"),s="String Iterator",o=n.set,h=n.getterFor(s);a(String,"String",(function(t){o(this,{type:s,string:String(t),index:0})}),(function(){var t,e=h(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=i(r,n),e.index+=t.length,{value:t,done:!1})}))},"3f8c":function(t,e){t.exports={}},"428f":function(t,e,r){t.exports=r("da84")},"44ad":function(t,e,r){var i=r("d039"),n=r("c6b6"),a="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==n(t)?a.call(t,""):Object(t)}:Object},"44d2":function(t,e,r){var i=r("b622"),n=r("7c73"),a=r("9112"),s=i("unscopables"),o=Array.prototype;void 0==o[s]&&a(o,s,n(null)),t.exports=function(t){o[s][t]=!0}},"44de":function(t,e,r){var i=r("da84");t.exports=function(t,e){var r=i.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}},4840:function(t,e,r){var i=r("825a"),n=r("1c0b"),a=r("b622"),s=a("species");t.exports=function(t,e){var r,a=i(t).constructor;return void 0===a||void 0==(r=i(a)[s])?e:n(r)}},4930:function(t,e,r){var i=r("d039");t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},"4d64":function(t,e,r){var i=r("fc6a"),n=r("50c4"),a=r("23cb"),s=function(t){return function(e,r,s){var o,h=i(e),l=n(h.length),u=a(s,l);if(t&&r!=r){while(l>u)if(o=h[u++],o!=o)return!0}else for(;l>u;u++)if((t||u in h)&&h[u]===r)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},"50c4":function(t,e,r){var i=r("a691"),n=Math.min;t.exports=function(t){return t>0?n(i(t),9007199254740991):0}},5135:function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},5664:function(t,e,r){"use strict";function i(t,e,r){r=r||2;var i,a,o,h,l,u,f,p=e&&e.length,d=p?e[0]*r:t.length,_=n(t,0,d,r,!0),m=[];if(!_||_.next===_.prev)return m;if(p&&(_=c(t,e,_,r)),t.length>80*r){i=o=t[0],a=h=t[1];for(var y=r;y<d;y+=r)l=t[y],u=t[y+1],l<i&&(i=l),u<a&&(a=u),l>o&&(o=l),u>h&&(h=u);f=Math.max(o-i,h-a),f=0!==f?1/f:0}return s(_,m,r,i,a,f),m}function n(t,e,r,i,n){var a,s;if(n===R(t,e,r,i)>0)for(a=e;a<r;a+=i)s=C(a,t[a],t[a+1],s);else for(a=r-i;a>=e;a-=i)s=C(a,t[a],t[a+1],s);return s&&D(s,s.next)&&(M(s),s=s.next),s}function a(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!D(i,i.next)&&0!==T(i.prev,i,i.next))i=i.next;else{if(M(i),i=e=i.prev,i===i.next)break;r=!0}}while(r||i!==e);return e}function s(t,e,r,i,n,c,f){if(t){!f&&c&&m(t,i,n,c);var p,d,_=t;while(t.prev!==t.next)if(p=t.prev,d=t.next,c?h(t,i,n,c):o(t))e.push(p.i/r),e.push(t.i/r),e.push(d.i/r),M(t),t=d.next,_=d.next;else if(t=d,t===_){f?1===f?(t=l(a(t),e,r),s(t,e,r,i,n,c,2)):2===f&&u(t,e,r,i,n,c):s(a(t),e,r,i,n,c,1);break}}}function o(t){var e=t.prev,r=t,i=t.next;if(T(e,r,i)>=0)return!1;var n=t.next.next;while(n!==t.prev){if(b(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&T(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function h(t,e,r,i){var n=t.prev,a=t,s=t.next;if(T(n,a,s)>=0)return!1;var o=n.x<a.x?n.x<s.x?n.x:s.x:a.x<s.x?a.x:s.x,h=n.y<a.y?n.y<s.y?n.y:s.y:a.y<s.y?a.y:s.y,l=n.x>a.x?n.x>s.x?n.x:s.x:a.x>s.x?a.x:s.x,u=n.y>a.y?n.y>s.y?n.y:s.y:a.y>s.y?a.y:s.y,c=v(o,h,e,r,i),f=v(l,u,e,r,i),p=t.prevZ,d=t.nextZ;while(p&&p.z>=c&&d&&d.z<=f){if(p!==t.prev&&p!==t.next&&b(n.x,n.y,a.x,a.y,s.x,s.y,p.x,p.y)&&T(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,d!==t.prev&&d!==t.next&&b(n.x,n.y,a.x,a.y,s.x,s.y,d.x,d.y)&&T(d.prev,d,d.next)>=0)return!1;d=d.nextZ}while(p&&p.z>=c){if(p!==t.prev&&p!==t.next&&b(n.x,n.y,a.x,a.y,s.x,s.y,p.x,p.y)&&T(p.prev,p,p.next)>=0)return!1;p=p.prevZ}while(d&&d.z<=f){if(d!==t.prev&&d!==t.next&&b(n.x,n.y,a.x,a.y,s.x,s.y,d.x,d.y)&&T(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function l(t,e,r){var i=t;do{var n=i.prev,s=i.next.next;!D(n,s)&&A(n,i,i.next,s)&&P(n,s)&&P(s,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(s.i/r),M(i),M(i.next),i=t=s),i=i.next}while(i!==t);return a(i)}function u(t,e,r,i,n,o){var h=t;do{var l=h.next.next;while(l!==h.prev){if(h.i!==l.i&&x(h,l)){var u=I(h,l);return h=a(h,h.next),u=a(u,u.next),s(h,e,r,i,n,o),void s(u,e,r,i,n,o)}l=l.next}h=h.next}while(h!==t)}function c(t,e,r,i){var s,o,h,l,u,c=[];for(s=0,o=e.length;s<o;s++)h=e[s]*i,l=s<o-1?e[s+1]*i:t.length,u=n(t,h,l,i,!1),u===u.next&&(u.steiner=!0),c.push(g(u));for(c.sort(f),s=0;s<c.length;s++)p(c[s],r),r=a(r,r.next);return r}function f(t,e){return t.x-e.x}function p(t,e){if(e=d(t,e),e){var r=I(e,t);a(r,r.next)}}function d(t,e){var r,i=e,n=t.x,a=t.y,s=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var o=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(o<=n&&o>s){if(s=o,o===n){if(a===i.y)return i;if(a===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===s)return r;var h,l=r,u=r.x,c=r.y,f=1/0;i=r;do{n>=i.x&&i.x>=u&&n!==i.x&&b(a<c?n:s,a,u,c,a<c?s:n,a,i.x,i.y)&&(h=Math.abs(a-i.y)/(n-i.x),P(i,t)&&(h<f||h===f&&(i.x>r.x||i.x===r.x&&_(r,i)))&&(r=i,f=h)),i=i.next}while(i!==l);return r}function _(t,e){return T(t.prev,t,e.prev)<0&&T(e.next,t,t.next)<0}function m(t,e,r,i){var n=t;do{null===n.z&&(n.z=v(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,y(n)}function y(t){var e,r,i,n,a,s,o,h,l=1;do{r=t,t=null,a=null,s=0;while(r){for(s++,i=r,o=0,e=0;e<l;e++)if(o++,i=i.nextZ,!i)break;h=l;while(o>0||h>0&&i)0!==o&&(0===h||!i||r.z<=i.z)?(n=r,r=r.nextZ,o--):(n=i,i=i.nextZ,h--),a?a.nextZ=n:t=n,n.prevZ=a,a=n;r=i}a.nextZ=null,l*=2}while(s>1);return t}function v(t,e,r,i,n){return t=32767*(t-r)*n,e=32767*(e-i)*n,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function g(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function b(t,e,r,i,n,a,s,o){return(n-s)*(e-o)-(t-s)*(a-o)>=0&&(t-s)*(i-o)-(r-s)*(e-o)>=0&&(r-s)*(a-o)-(n-s)*(i-o)>=0}function x(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!E(t,e)&&(P(t,e)&&P(e,t)&&O(t,e)&&(T(t.prev,t,e.prev)||T(t,e.prev,e))||D(t,e)&&T(t.prev,t,t.next)>0&&T(e.prev,e,e.next)>0)}function T(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function D(t,e){return t.x===e.x&&t.y===e.y}function A(t,e,r,i){var n=S(T(t,e,r)),a=S(T(t,e,i)),s=S(T(r,i,t)),o=S(T(r,i,e));return n!==a&&s!==o||(!(0!==n||!w(t,r,e))||(!(0!==a||!w(t,i,e))||(!(0!==s||!w(r,t,i))||!(0!==o||!w(r,e,i)))))}function w(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function S(t){return t>0?1:t<0?-1:0}function E(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&A(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function P(t,e){return T(t.prev,t,t.next)<0?T(t,e,t.next)>=0&&T(t,t.prev,e)>=0:T(t,e,t.prev)<0||T(t,t.next,e)<0}function O(t,e){var r=t,i=!1,n=(t.x+e.x)/2,a=(t.y+e.y)/2;do{r.y>a!==r.next.y>a&&r.next.y!==r.y&&n<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}function I(t,e){var r=new F(t.i,t.x,t.y),i=new F(e.i,e.x,e.y),n=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,a.next=i,i.prev=a,i}function C(t,e,r,i){var n=new F(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function M(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function F(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function R(t,e,r,i){for(var n=0,a=e,s=r-i;a<r;a+=i)n+=(t[s]-t[a])*(t[a+1]+t[s+1]),s=a;return n}t.exports=i,t.exports.default=i,i.deviation=function(t,e,r,i){var n=e&&e.length,a=n?e[0]*r:t.length,s=Math.abs(R(t,0,a,r));if(n)for(var o=0,h=e.length;o<h;o++){var l=e[o]*r,u=o<h-1?e[o+1]*r:t.length;s-=Math.abs(R(t,l,u,r))}var c=0;for(o=0;o<i.length;o+=3){var f=i[o]*r,p=i[o+1]*r,d=i[o+2]*r;c+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},i.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var a=0;a<t[n].length;a++)for(var s=0;s<e;s++)r.vertices.push(t[n][a][s]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r}},5692:function(t,e,r){var i=r("c430"),n=r("c6cd");(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.3.6",mode:i?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,e,r){var i=r("d066"),n=r("241c"),a=r("7418"),s=r("825a");t.exports=i("Reflect","ownKeys")||function(t){var e=n.f(s(t)),r=a.f;return r?e.concat(r(t)):e}},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"60ae":function(t,e,r){var i,n,a=r("da84"),s=r("b39a"),o=a.process,h=o&&o.versions,l=h&&h.v8;l?(i=l.split("."),n=i[0]+i[1]):s&&(i=s.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/),i&&(n=i[1]))),t.exports=n&&+n},"60da":function(t,e,r){"use strict";var i=r("83ab"),n=r("d039"),a=r("df75"),s=r("7418"),o=r("d1e7"),h=r("7b0b"),l=r("44ad"),u=Object.assign;t.exports=!u||n((function(){var t={},e={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach((function(t){e[t]=t})),7!=u({},t)[r]||a(u({},e)).join("")!=i}))?function(t,e){var r=h(t),n=arguments.length,u=1,c=s.f,f=o.f;while(n>u){var p,d=l(arguments[u++]),_=c?a(d).concat(c(d)):a(d),m=_.length,y=0;while(m>y)p=_[y++],i&&!f.call(d,p)||(r[p]=d[p])}return r}:u},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},6547:function(t,e,r){var i=r("a691"),n=r("1d80"),a=function(t){return function(e,r){var a,s,o=String(n(e)),h=i(r),l=o.length;return h<0||h>=l?t?"":void 0:(a=o.charCodeAt(h),a<55296||a>56319||h+1===l||(s=o.charCodeAt(h+1))<56320||s>57343?t?o.charAt(h):a:t?o.slice(h,h+2):s-56320+(a-55296<<10)+65536)}};t.exports={codeAt:a(!1),charAt:a(!0)}},"65f0":function(t,e,r){var i=r("861d"),n=r("e8b5"),a=r("b622"),s=a("species");t.exports=function(t,e){var r;return n(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?i(r)&&(r=r[s],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},"69f3":function(t,e,r){var i,n,a,s=r("7f9a"),o=r("da84"),h=r("861d"),l=r("9112"),u=r("5135"),c=r("f772"),f=r("d012"),p=o.WeakMap,d=function(t){return a(t)?n(t):i(t,{})},_=function(t){return function(e){var r;if(!h(e)||(r=n(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}};if(s){var m=new p,y=m.get,v=m.has,g=m.set;i=function(t,e){return g.call(m,t,e),e},n=function(t){return y.call(m,t)||{}},a=function(t){return v.call(m,t)}}else{var b=c("state");f[b]=!0,i=function(t,e){return l(t,b,e),e},n=function(t){return u(t,b)?t[b]:{}},a=function(t){return u(t,b)}}t.exports={set:i,get:n,has:a,enforce:d,getterFor:_}},"6eeb":function(t,e,r){var i=r("da84"),n=r("5692"),a=r("9112"),s=r("5135"),o=r("ce4e"),h=r("9e81"),l=r("69f3"),u=l.get,c=l.enforce,f=String(h).split("toString");n("inspectSource",(function(t){return h.call(t)})),(t.exports=function(t,e,r,n){var h=!!n&&!!n.unsafe,l=!!n&&!!n.enumerable,u=!!n&&!!n.noTargetGet;"function"==typeof r&&("string"!=typeof e||s(r,"name")||a(r,"name",e),c(r).source=f.join("string"==typeof e?e:"")),t!==i?(h?!u&&t[e]&&(l=!0):delete t[e],l?t[e]=r:a(t,e,r)):l?t[e]=r:o(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||h.call(this)}))},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"746f":function(t,e,r){var i=r("428f"),n=r("5135"),a=r("c032"),s=r("9bf2").f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});n(e,t)||s(e,t,{value:a.f(t)})}},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(t,e,r){var i=r("1d80");t.exports=function(t){return Object(i(t))}},"7c73":function(t,e,r){var i=r("825a"),n=r("37e8"),a=r("7839"),s=r("d012"),o=r("1be4"),h=r("cc12"),l=r("f772"),u=l("IE_PROTO"),c="prototype",f=function(){},p=function(){var t,e=h("iframe"),r=a.length,i="<",n="script",s=">",l="java"+n+":";e.style.display="none",o.appendChild(e),e.src=String(l),t=e.contentWindow.document,t.open(),t.write(i+n+s+"document.F=Object"+i+"/"+n+s),t.close(),p=t.F;while(r--)delete p[c][a[r]];return p()};t.exports=Object.create||function(t,e){var r;return null!==t?(f[c]=i(t),r=new f,f[c]=null,r[u]=t):r=p(),void 0===e?r:n(r,e)},s[u]=!0},"7dd0":function(t,e,r){"use strict";var i=r("23e7"),n=r("9ed3"),a=r("e163"),s=r("d2bb"),o=r("d44e"),h=r("9112"),l=r("6eeb"),u=r("b622"),c=r("c430"),f=r("3f8c"),p=r("ae93"),d=p.IteratorPrototype,_=p.BUGGY_SAFARI_ITERATORS,m=u("iterator"),y="keys",v="values",g="entries",b=function(){return this};t.exports=function(t,e,r,u,p,x,T){n(r,e,u);var D,A,w,S=function(t){if(t===p&&C)return C;if(!_&&t in O)return O[t];switch(t){case y:return function(){return new r(this,t)};case v:return function(){return new r(this,t)};case g:return function(){return new r(this,t)}}return function(){return new r(this)}},E=e+" Iterator",P=!1,O=t.prototype,I=O[m]||O["@@iterator"]||p&&O[p],C=!_&&I||S(p),M="Array"==e&&O.entries||I;if(M&&(D=a(M.call(new t)),d!==Object.prototype&&D.next&&(c||a(D)===d||(s?s(D,d):"function"!=typeof D[m]&&h(D,m,b)),o(D,E,!0,!0),c&&(f[E]=b))),p==v&&I&&I.name!==v&&(P=!0,C=function(){return I.call(this)}),c&&!T||O[m]===C||h(O,m,C),f[e]=C,p)if(A={values:S(v),keys:x?C:S(y),entries:S(g)},T)for(w in A)!_&&!P&&w in O||l(O,w,A[w]);else i({target:e,proto:!0,forced:_||P},A);return A}},"7f9a":function(t,e,r){var i=r("da84"),n=r("9e81"),a=i.WeakMap;t.exports="function"===typeof a&&/native code/.test(n.call(a))},8114:function(t,e,r){var i,n,a;!function(r){var s=/iPhone/i,o=/iPod/i,h=/iPad/i,l=/\bAndroid(?:.+)Mobile\b/i,u=/Android/i,c=/\bAndroid(?:.+)SD4930UR\b/i,f=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,p=/Windows Phone/i,d=/\bWindows(?:.+)ARM\b/i,_=/BlackBerry/i,m=/BB10/i,y=/Opera Mini/i,v=/\b(CriOS|Chrome)(?:.+)Mobile/i,g=/Mobile(?:.+)Firefox\b/i;function b(t,e){return t.test(e)}function x(t){var e=t||("undefined"!=typeof navigator?navigator.userAgent:""),r=e.split("[FBAN");void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]);var i={apple:{phone:b(s,e)&&!b(p,e),ipod:b(o,e),tablet:!b(s,e)&&b(h,e)&&!b(p,e),device:(b(s,e)||b(o,e)||b(h,e))&&!b(p,e)},amazon:{phone:b(c,e),tablet:!b(c,e)&&b(f,e),device:b(c,e)||b(f,e)},android:{phone:!b(p,e)&&b(c,e)||!b(p,e)&&b(l,e),tablet:!b(p,e)&&!b(c,e)&&!b(l,e)&&(b(f,e)||b(u,e)),device:!b(p,e)&&(b(c,e)||b(f,e)||b(l,e)||b(u,e))||b(/\bokhttp\b/i,e)},windows:{phone:b(p,e),tablet:b(d,e),device:b(p,e)||b(d,e)},other:{blackberry:b(_,e),blackberry10:b(m,e),opera:b(y,e),firefox:b(g,e),chrome:b(v,e),device:b(_,e)||b(m,e)||b(y,e)||b(g,e)||b(v,e)}};return i.any=i.apple.device||i.android.device||i.windows.device||i.other.device,i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}t.exports&&"undefined"==typeof window?t.exports=x:t.exports&&"undefined"!=typeof window?(t.exports=x(),t.exports.isMobile=x):(n=[],i=r.isMobile=x(),a="function"===typeof i?i.apply(e,n):i,void 0===a||(t.exports=a))}(this)},"825a":function(t,e,r){var i=r("861d");t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},"83ab":function(t,e,r){var i=r("d039");t.exports=!i((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"857a":function(t,e,r){var i=r("1d80"),n=/"/g;t.exports=function(t,e,r,a){var s=String(i(t)),o="<"+e;return""!==r&&(o+=" "+r+'="'+String(a).replace(n,"&quot;")+'"'),o+">"+s+"</"+e+">"}},"861d":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},"90e3":function(t,e){var r=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+i).toString(36)}},9112:function(t,e,r){var i=r("83ab"),n=r("9bf2"),a=r("5c6c");t.exports=i?function(t,e,r){return n.f(t,e,a(1,r))}:function(t,e,r){return t[e]=r,t}},"91dd":function(t,e,r){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,a){e=e||"&",r=r||"=";var s={};if("string"!==typeof t||0===t.length)return s;var o=/\+/g;t=t.split(e);var h=1e3;a&&"number"===typeof a.maxKeys&&(h=a.maxKeys);var l=t.length;h>0&&l>h&&(l=h);for(var u=0;u<l;++u){var c,f,p,d,_=t[u].replace(o,"%20"),m=_.indexOf(r);m>=0?(c=_.substr(0,m),f=_.substr(m+1)):(c=_,f=""),p=decodeURIComponent(c),d=decodeURIComponent(f),i(s,p)?n(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},"94ca":function(t,e,r){var i=r("d039"),n=/#|\.prototype\./,a=function(t,e){var r=o[s(t)];return r==l||r!=h&&("function"==typeof e?i(e):!!e)},s=a.normalize=function(t){return String(t).replace(n,".").toLowerCase()},o=a.data={},h=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},"9bdd":function(t,e,r){var i=r("825a");t.exports=function(t,e,r,n){try{return n?e(i(r)[0],r[1]):e(r)}catch(s){var a=t["return"];throw void 0!==a&&i(a.call(t)),s}}},"9bf2":function(t,e,r){var i=r("83ab"),n=r("0cfb"),a=r("825a"),s=r("c04e"),o=Object.defineProperty;e.f=i?o:function(t,e,r){if(a(t),e=s(e,!0),a(r),n)try{return o(t,e,r)}catch(i){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},"9e81":function(t,e,r){var i=r("5692");t.exports=i("native-function-to-string",Function.toString)},"9ed3":function(t,e,r){"use strict";var i=r("ae93").IteratorPrototype,n=r("7c73"),a=r("5c6c"),s=r("d44e"),o=r("3f8c"),h=function(){return this};t.exports=function(t,e,r){var l=e+" Iterator";return t.prototype=n(i,{next:a(1,r)}),s(t,l,!1,!0),o[l]=h,t}},a4d3:function(t,e,r){"use strict";var i=r("23e7"),n=r("da84"),a=r("c430"),s=r("83ab"),o=r("4930"),h=r("d039"),l=r("5135"),u=r("e8b5"),c=r("861d"),f=r("825a"),p=r("7b0b"),d=r("fc6a"),_=r("c04e"),m=r("5c6c"),y=r("7c73"),v=r("df75"),g=r("241c"),b=r("057f"),x=r("7418"),T=r("06cf"),D=r("9bf2"),A=r("d1e7"),w=r("9112"),S=r("6eeb"),E=r("5692"),P=r("f772"),O=r("d012"),I=r("90e3"),C=r("b622"),M=r("c032"),F=r("746f"),R=r("d44e"),B=r("69f3"),N=r("b727").forEach,L=P("hidden"),k="Symbol",j="prototype",U=C("toPrimitive"),X=B.set,V=B.getterFor(k),G=Object[j],Y=n.Symbol,H=n.JSON,z=H&&H.stringify,W=T.f,$=D.f,q=b.f,K=A.f,Z=E("symbols"),J=E("op-symbols"),Q=E("string-to-symbol-registry"),tt=E("symbol-to-string-registry"),et=E("wks"),rt=n.QObject,it=!rt||!rt[j]||!rt[j].findChild,nt=s&&h((function(){return 7!=y($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(t,e,r){var i=W(G,e);i&&delete G[e],$(t,e,r),i&&t!==G&&$(G,e,i)}:$,at=function(t,e){var r=Z[t]=y(Y[j]);return X(r,{type:k,tag:t,description:e}),s||(r.description=e),r},st=o&&"symbol"==typeof Y.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Y},ot=function(t,e,r){t===G&&ot(J,e,r),f(t);var i=_(e,!0);return f(r),l(Z,i)?(r.enumerable?(l(t,L)&&t[L][i]&&(t[L][i]=!1),r=y(r,{enumerable:m(0,!1)})):(l(t,L)||$(t,L,m(1,{})),t[L][i]=!0),nt(t,i,r)):$(t,i,r)},ht=function(t,e){f(t);var r=d(e),i=v(r).concat(pt(r));return N(i,(function(e){s&&!ut.call(r,e)||ot(t,e,r[e])})),t},lt=function(t,e){return void 0===e?y(t):ht(y(t),e)},ut=function(t){var e=_(t,!0),r=K.call(this,e);return!(this===G&&l(Z,e)&&!l(J,e))&&(!(r||!l(this,e)||!l(Z,e)||l(this,L)&&this[L][e])||r)},ct=function(t,e){var r=d(t),i=_(e,!0);if(r!==G||!l(Z,i)||l(J,i)){var n=W(r,i);return!n||!l(Z,i)||l(r,L)&&r[L][i]||(n.enumerable=!0),n}},ft=function(t){var e=q(d(t)),r=[];return N(e,(function(t){l(Z,t)||l(O,t)||r.push(t)})),r},pt=function(t){var e=t===G,r=q(e?J:d(t)),i=[];return N(r,(function(t){!l(Z,t)||e&&!l(G,t)||i.push(Z[t])})),i};o||(Y=function(){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=I(t),r=function(t){this===G&&r.call(J,t),l(this,L)&&l(this[L],e)&&(this[L][e]=!1),nt(this,e,m(1,t))};return s&&it&&nt(G,e,{configurable:!0,set:r}),at(e,t)},S(Y[j],"toString",(function(){return V(this).tag})),A.f=ut,D.f=ot,T.f=ct,g.f=b.f=ft,x.f=pt,s&&($(Y[j],"description",{configurable:!0,get:function(){return V(this).description}}),a||S(G,"propertyIsEnumerable",ut,{unsafe:!0})),M.f=function(t){return at(C(t),t)}),i({global:!0,wrap:!0,forced:!o,sham:!o},{Symbol:Y}),N(v(et),(function(t){F(t)})),i({target:k,stat:!0,forced:!o},{for:function(t){var e=String(t);if(l(Q,e))return Q[e];var r=Y(e);return Q[e]=r,tt[r]=e,r},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(l(tt,t))return tt[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),i({target:"Object",stat:!0,forced:!o,sham:!s},{create:lt,defineProperty:ot,defineProperties:ht,getOwnPropertyDescriptor:ct}),i({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:ft,getOwnPropertySymbols:pt}),i({target:"Object",stat:!0,forced:h((function(){x.f(1)}))},{getOwnPropertySymbols:function(t){return x.f(p(t))}}),H&&i({target:"JSON",stat:!0,forced:!o||h((function(){var t=Y();return"[null]"!=z([t])||"{}"!=z({a:t})||"{}"!=z(Object(t))}))},{stringify:function(t){var e,r,i=[t],n=1;while(arguments.length>n)i.push(arguments[n++]);if(r=e=i[1],(c(e)||void 0!==t)&&!st(t))return u(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!st(e))return e}),i[1]=e,z.apply(H,i)}}),Y[j][U]||w(Y[j],U,Y[j].valueOf),R(Y,k),O[L]=!0},a691:function(t,e){var r=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:r)(t)}},a79d:function(t,e,r){"use strict";var i=r("23e7"),n=r("c430"),a=r("fea9"),s=r("d066"),o=r("4840"),h=r("cdf9"),l=r("6eeb");i({target:"Promise",proto:!0,real:!0},{finally:function(t){var e=o(this,s("Promise")),r="function"==typeof t;return this.then(r?function(r){return h(e,t()).then((function(){return r}))}:t,r?function(r){return h(e,t()).then((function(){throw r}))}:t)}}),n||"function"!=typeof a||a.prototype["finally"]||l(a.prototype,"finally",s("Promise").prototype["finally"])},a84d:function(t,e,r){"use strict";var i=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();(function(t){var e=function(){function e(r){this._clock=new t.WorldClock,this._events=[],this._objects=[],this._eventManager=null,this._eventManager=r,console.info("DragonBones: "+e.VERSION+"\nWebsite: http://dragonbones.com/\nSource and Demo: https://github.com/DragonBones/")}return e.prototype.advanceTime=function(e){if(this._objects.length>0){for(var r=0,i=this._objects;r<i.length;r++){var n=i[r];n.returnToPool()}this._objects.length=0}if(this._clock.advanceTime(e),this._events.length>0){for(var a=0;a<this._events.length;++a){var s=this._events[a],o=s.armature;null!==o._armatureData&&(o.eventDispatcher.dispatchDBEvent(s.type,s),s.type===t.EventObject.SOUND_EVENT&&this._eventManager.dispatchDBEvent(s.type,s)),this.bufferObject(s)}this._events.length=0}},e.prototype.bufferEvent=function(t){this._events.indexOf(t)<0&&this._events.push(t)},e.prototype.bufferObject=function(t){this._objects.indexOf(t)<0&&this._objects.push(t)},Object.defineProperty(e.prototype,"clock",{get:function(){return this._clock},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventManager",{get:function(){return this._eventManager},enumerable:!0,configurable:!0}),e.VERSION="5.7.000",e.yDown=!0,e.debug=!1,e.debugDraw=!1,e}();t.DragonBones=e})(n||(n={})),console.warn||(console.warn=function(){}),console.assert||(console.assert=function(){}),Date.now||(Date.now=function(){return(new Date).getTime()});var n;i=function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);r.prototype=e.prototype,t.prototype=new r};if("undefined"===typeof a&&"undefined"!==typeof window)var a=window;t.exports=n,function(t){var e=function(){function t(){this.hashCode=t._hashCode++,this._isInPool=!1}return t._returnObject=function(e){var r=String(e.constructor),i=r in t._maxCountMap?t._maxCountMap[r]:t._defaultMaxCount,n=t._poolsMap[r]=t._poolsMap[r]||[];n.length<i&&(e._isInPool?console.warn("The object is already in the pool."):(e._isInPool=!0,n.push(e)))},t.toString=function(){throw new Error},t.setMaxCount=function(e,r){if((r<0||r!==r)&&(r=0),null!==e){var i=String(e),n=i in t._poolsMap?t._poolsMap[i]:null;null!==n&&n.length>r&&(n.length=r),t._maxCountMap[i]=r}else for(var i in t._defaultMaxCount=r,t._poolsMap){n=t._poolsMap[i];n.length>r&&(n.length=r),i in t._maxCountMap&&(t._maxCountMap[i]=r)}},t.clearPool=function(e){if(void 0===e&&(e=null),null!==e){var r=String(e),i=r in t._poolsMap?t._poolsMap[r]:null;null!==i&&i.length>0&&(i.length=0)}else for(var n in t._poolsMap){i=t._poolsMap[n];i.length=0}},t.borrowObject=function(e){var r=String(e),i=r in t._poolsMap?t._poolsMap[r]:null;if(null!==i&&i.length>0){var n=i.pop();return n._isInPool=!1,n}var a=new e;return a._onClear(),a},t.prototype.returnToPool=function(){this._onClear(),t._returnObject(this)},t._hashCode=0,t._defaultMaxCount=3e3,t._maxCountMap={},t._poolsMap={},t}();t.BaseObject=e}(n||(n={})),function(t){var e=function(){function t(t,e,r,i,n,a){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===a&&(a=0),this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=a}return t.prototype.toString=function(){return"[object dragonBones.Matrix] a:"+this.a+" b:"+this.b+" c:"+this.c+" d:"+this.d+" tx:"+this.tx+" ty:"+this.ty},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},t.prototype.copyFromArray=function(t,e){return void 0===e&&(e=0),this.a=t[e],this.b=t[e+1],this.c=t[e+2],this.d=t[e+3],this.tx=t[e+4],this.ty=t[e+5],this},t.prototype.identity=function(){return this.a=this.d=1,this.b=this.c=0,this.tx=this.ty=0,this},t.prototype.concat=function(t){var e=this.a*t.a,r=0,i=0,n=this.d*t.d,a=this.tx*t.a+t.tx,s=this.ty*t.d+t.ty;return 0===this.b&&0===this.c||(e+=this.b*t.c,r+=this.b*t.d,i+=this.c*t.a,n+=this.c*t.b),0===t.b&&0===t.c||(r+=this.a*t.b,i+=this.d*t.c,a+=this.ty*t.c,s+=this.tx*t.b),this.a=e,this.b=r,this.c=i,this.d=n,this.tx=a,this.ty=s,this},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,a=this.ty;if(0===e&&0===r)return this.b=this.c=0,0===t||0===i?this.a=this.b=this.tx=this.ty=0:(t=this.a=1/t,i=this.d=1/i,this.tx=-t*n,this.ty=-i*a),this;var s=t*i-e*r;if(0===s)return this.a=this.d=1,this.b=this.c=0,this.tx=this.ty=0,this;s=1/s;var o=this.a=i*s;return e=this.b=-e*s,r=this.c=-r*s,i=this.d=t*s,this.tx=-(o*n+r*a),this.ty=-(e*n+i*a),this},t.prototype.transformPoint=function(t,e,r,i){void 0===i&&(i=!1),r.x=this.a*t+this.c*e,r.y=this.b*t+this.d*e,i||(r.x+=this.tx,r.y+=this.ty)},t.prototype.transformRectangle=function(t,e){void 0===e&&(e=!1);var r=this.a,i=this.b,n=this.c,a=this.d,s=e?0:this.tx,o=e?0:this.ty,h=t.x,l=t.y,u=h+t.width,c=l+t.height,f=r*h+n*l+s,p=i*h+a*l+o,d=r*u+n*l+s,_=i*u+a*l+o,m=r*u+n*c+s,y=i*u+a*c+o,v=r*h+n*c+s,g=i*h+a*c+o,b=0;f>d&&(b=f,f=d,d=b),m>v&&(b=m,m=v,v=b),t.x=Math.floor(f<m?f:m),t.width=Math.ceil((d>v?d:v)-t.x),p>_&&(b=p,p=_,_=b),y>g&&(b=y,y=g,g=b),t.y=Math.floor(p<y?p:y),t.height=Math.ceil((_>g?_:g)-t.y)},t}();t.Matrix=e}(n||(n={})),function(t){var e=function(){function t(t,e,r,i,n,a){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===a&&(a=1),this.x=t,this.y=e,this.skew=r,this.rotation=i,this.scaleX=n,this.scaleY=a}return t.normalizeRadian=function(t){return t=(t+Math.PI)%(2*Math.PI),t+=t>0?-Math.PI:Math.PI,t},t.prototype.toString=function(){return"[object dragonBones.Transform] x:"+this.x+" y:"+this.y+" skewX:"+180*this.skew/Math.PI+" skewY:"+180*this.rotation/Math.PI+" scaleX:"+this.scaleX+" scaleY:"+this.scaleY},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.skew=t.skew,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this},t.prototype.identity=function(){return this.x=this.y=0,this.skew=this.rotation=0,this.scaleX=this.scaleY=1,this},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.skew+=t.skew,this.rotation+=t.rotation,this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this},t.prototype.minus=function(t){return this.x-=t.x,this.y-=t.y,this.skew-=t.skew,this.rotation-=t.rotation,this.scaleX/=t.scaleX,this.scaleY/=t.scaleY,this},t.prototype.fromMatrix=function(e){var r=this.scaleX,i=this.scaleY,n=t.PI_Q;this.x=e.tx,this.y=e.ty,this.rotation=Math.atan(e.b/e.a);var a=Math.atan(-e.c/e.d);return this.scaleX=this.rotation>-n&&this.rotation<n?e.a/Math.cos(this.rotation):e.b/Math.sin(this.rotation),this.scaleY=a>-n&&a<n?e.d/Math.cos(a):-e.c/Math.sin(a),r>=0&&this.scaleX<0&&(this.scaleX=-this.scaleX,this.rotation=this.rotation-Math.PI),i>=0&&this.scaleY<0&&(this.scaleY=-this.scaleY,a-=Math.PI),this.skew=a-this.rotation,this},t.prototype.toMatrix=function(t){return 0===this.rotation?(t.a=1,t.b=0):(t.a=Math.cos(this.rotation),t.b=Math.sin(this.rotation)),0===this.skew?(t.c=-t.b,t.d=t.a):(t.c=-Math.sin(this.skew+this.rotation),t.d=Math.cos(this.skew+this.rotation)),1!==this.scaleX&&(t.a*=this.scaleX,t.b*=this.scaleX),1!==this.scaleY&&(t.c*=this.scaleY,t.d*=this.scaleY),t.tx=this.x,t.ty=this.y,this},t.PI=Math.PI,t.PI_D=2*Math.PI,t.PI_H=Math.PI/2,t.PI_Q=Math.PI/4,t.RAD_DEG=180/Math.PI,t.DEG_RAD=Math.PI/180,t}();t.Transform=e}(n||(n={})),function(t){var e=function(){function t(t,e,r,i,n,a,s,o){void 0===t&&(t=1),void 0===e&&(e=1),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===o&&(o=0),this.alphaMultiplier=t,this.redMultiplier=e,this.greenMultiplier=r,this.blueMultiplier=i,this.alphaOffset=n,this.redOffset=a,this.greenOffset=s,this.blueOffset=o}return t.prototype.copyFrom=function(t){this.alphaMultiplier=t.alphaMultiplier,this.redMultiplier=t.redMultiplier,this.greenMultiplier=t.greenMultiplier,this.blueMultiplier=t.blueMultiplier,this.alphaOffset=t.alphaOffset,this.redOffset=t.redOffset,this.greenOffset=t.greenOffset,this.blueOffset=t.blueOffset},t.prototype.identity=function(){this.alphaMultiplier=this.redMultiplier=this.greenMultiplier=this.blueMultiplier=1,this.alphaOffset=this.redOffset=this.greenOffset=this.blueOffset=0},t}();t.ColorTransform=e}(n||(n={})),function(t){var e=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y},t.prototype.clear=function(){this.x=this.y=0},t}();t.Point=e}(n||(n={})),function(t){var e=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i}return t.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},t.prototype.clear=function(){this.x=this.y=0,this.width=this.height=0},t}();t.Rectangle=e}(n||(n={})),function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ints=[],e.floats=[],e.strings=[],e}return i(e,t),e.toString=function(){return"[class dragonBones.UserData]"},e.prototype._onClear=function(){this.ints.length=0,this.floats.length=0,this.strings.length=0},e.prototype.addInt=function(t){this.ints.push(t)},e.prototype.addFloat=function(t){this.floats.push(t)},e.prototype.addString=function(t){this.strings.push(t)},e.prototype.getInt=function(t){return void 0===t&&(t=0),t>=0&&t<this.ints.length?this.ints[t]:0},e.prototype.getFloat=function(t){return void 0===t&&(t=0),t>=0&&t<this.floats.length?this.floats[t]:0},e.prototype.getString=function(t){return void 0===t&&(t=0),t>=0&&t<this.strings.length?this.strings[t]:""},e}(t.BaseObject);t.UserData=e;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=null,e}return i(e,t),e.toString=function(){return"[class dragonBones.ActionData]"},e.prototype._onClear=function(){null!==this.data&&this.data.returnToPool(),this.type=0,this.name="",this.bone=null,this.slot=null,this.data=null},e}(t.BaseObject);t.ActionData=r}(n||(n={})),function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frameIndices=[],e.cachedFrames=[],e.armatureNames=[],e.armatures={},e.userData=null,e}return i(e,t),e.toString=function(){return"[class dragonBones.DragonBonesData]"},e.prototype._onClear=function(){for(var t in this.armatures)this.armatures[t].returnToPool(),delete this.armatures[t];null!==this.userData&&this.userData.returnToPool(),this.autoSearch=!1,this.frameRate=0,this.version="",this.name="",this.stage=null,this.frameIndices.length=0,this.cachedFrames.length=0,this.armatureNames.length=0,this.binary=null,this.intArray=null,this.floatArray=null,this.frameIntArray=null,this.frameFloatArray=null,this.frameArray=null,this.timelineArray=null,this.colorArray=null,this.userData=null},e.prototype.addArmature=function(t){t.name in this.armatures?console.warn("Same armature: "+t.name):(t.parent=this,this.armatures[t.name]=t,this.armatureNames.push(t.name))},e.prototype.getArmature=function(t){return t in this.armatures?this.armatures[t]:null},e}(t.BaseObject);t.DragonBonesData=e}(n||(n={})),function(t){var e=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.aabb=new t.Rectangle,r.animationNames=[],r.sortedBones=[],r.sortedSlots=[],r.defaultActions=[],r.actions=[],r.bones={},r.slots={},r.constraints={},r.skins={},r.animations={},r.canvas=null,r.userData=null,r}return i(r,e),r.toString=function(){return"[class dragonBones.ArmatureData]"},r.prototype._onClear=function(){for(var t=0,e=this.defaultActions;t<e.length;t++){var r=e[t];r.returnToPool()}for(var i=0,n=this.actions;i<n.length;i++){r=n[i];r.returnToPool()}for(var a in this.bones)this.bones[a].returnToPool(),delete this.bones[a];for(var a in this.slots)this.slots[a].returnToPool(),delete this.slots[a];for(var a in this.constraints)this.constraints[a].returnToPool(),delete this.constraints[a];for(var a in this.skins)this.skins[a].returnToPool(),delete this.skins[a];for(var a in this.animations)this.animations[a].returnToPool(),delete this.animations[a];null!==this.canvas&&this.canvas.returnToPool(),null!==this.userData&&this.userData.returnToPool(),this.type=0,this.frameRate=0,this.cacheFrameRate=0,this.scale=1,this.name="",this.aabb.clear(),this.animationNames.length=0,this.sortedBones.length=0,this.sortedSlots.length=0,this.defaultActions.length=0,this.actions.length=0,this.defaultSkin=null,this.defaultAnimation=null,this.canvas=null,this.userData=null,this.parent=null},r.prototype.sortBones=function(){var t=this.sortedBones.length;if(!(t<=0)){var e=this.sortedBones.concat(),r=0,i=0;this.sortedBones.length=0;while(i<t){var n=e[r++];if(r>=t&&(r=0),!(this.sortedBones.indexOf(n)>=0)){var a=!1;for(var s in this.constraints){var o=this.constraints[s];if(o.root===n&&this.sortedBones.indexOf(o.target)<0){a=!0;break}}a||null!==n.parent&&this.sortedBones.indexOf(n.parent)<0||(this.sortedBones.push(n),i++)}}}},r.prototype.cacheFrames=function(t){if(!(this.cacheFrameRate>0))for(var e in this.cacheFrameRate=t,this.animations)this.animations[e].cacheFrames(this.cacheFrameRate)},r.prototype.setCacheFrame=function(t,e){var r=this.parent.cachedFrames,i=r.length;return r.length+=10,r[i]=t.a,r[i+1]=t.b,r[i+2]=t.c,r[i+3]=t.d,r[i+4]=t.tx,r[i+5]=t.ty,r[i+6]=e.rotation,r[i+7]=e.skew,r[i+8]=e.scaleX,r[i+9]=e.scaleY,i},r.prototype.getCacheFrame=function(t,e,r){var i=this.parent.cachedFrames;t.a=i[r],t.b=i[r+1],t.c=i[r+2],t.d=i[r+3],t.tx=i[r+4],t.ty=i[r+5],e.rotation=i[r+6],e.skew=i[r+7],e.scaleX=i[r+8],e.scaleY=i[r+9],e.x=t.tx,e.y=t.ty},r.prototype.addBone=function(t){t.name in this.bones?console.warn("Same bone: "+t.name):(this.bones[t.name]=t,this.sortedBones.push(t))},r.prototype.addSlot=function(t){t.name in this.slots?console.warn("Same slot: "+t.name):(this.slots[t.name]=t,this.sortedSlots.push(t))},r.prototype.addConstraint=function(t){t.name in this.constraints?console.warn("Same constraint: "+t.name):this.constraints[t.name]=t},r.prototype.addSkin=function(t){t.name in this.skins?console.warn("Same skin: "+t.name):(t.parent=this,this.skins[t.name]=t,null===this.defaultSkin&&(this.defaultSkin=t),"default"===t.name&&(this.defaultSkin=t))},r.prototype.addAnimation=function(t){t.name in this.animations?console.warn("Same animation: "+t.name):(t.parent=this,this.animations[t.name]=t,this.animationNames.push(t.name),null===this.defaultAnimation&&(this.defaultAnimation=t))},r.prototype.addAction=function(t,e){e?this.defaultActions.push(t):this.actions.push(t)},r.prototype.getBone=function(t){return t in this.bones?this.bones[t]:null},r.prototype.getSlot=function(t){return t in this.slots?this.slots[t]:null},r.prototype.getConstraint=function(t){return t in this.constraints?this.constraints[t]:null},r.prototype.getSkin=function(t){return t in this.skins?this.skins[t]:null},r.prototype.getMesh=function(t,e,r){var i=this.getSkin(t);return null===i?null:i.getDisplay(e,r)},r.prototype.getAnimation=function(t){return t in this.animations?this.animations[t]:null},r}(t.BaseObject);t.ArmatureData=e;var r=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.transform=new t.Transform,r.userData=null,r}return i(r,e),r.toString=function(){return"[class dragonBones.BoneData]"},r.prototype._onClear=function(){null!==this.userData&&this.userData.returnToPool(),this.inheritTranslation=!1,this.inheritRotation=!1,this.inheritScale=!1,this.inheritReflection=!1,this.type=0,this.length=0,this.alpha=1,this.name="",this.transform.identity(),this.userData=null,this.parent=null},r}(t.BaseObject);t.BoneData=r;var n=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.geometry=new t.GeometryData,r}return i(r,e),r.toString=function(){return"[class dragonBones.SurfaceData]"},r.prototype._onClear=function(){e.prototype._onClear.call(this),this.type=1,this.segmentX=0,this.segmentY=0,this.geometry.clear()},r}(r);t.SurfaceData=n;var a=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.color=null,t.userData=null,t}return i(r,e),r.createColor=function(){return new t.ColorTransform},r.toString=function(){return"[class dragonBones.SlotData]"},r.prototype._onClear=function(){null!==this.userData&&this.userData.returnToPool(),this.blendMode=0,this.displayIndex=0,this.zOrder=0,this.zIndex=0,this.alpha=1,this.name="",this.color=null,this.userData=null,this.parent=null},r.DEFAULT_COLOR=new t.ColorTransform,r}(t.BaseObject);t.SlotData=a}(n||(n={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._onClear=function(){this.order=0,this.name="",this.type=0,this.target=null,this.root=null,this.bone=null},e}(t.BaseObject);t.ConstraintData=e;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.IKConstraintData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.scaleEnabled=!1,this.bendPositive=!1,this.weight=1},e}(e);t.IKConstraintData=r;var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bones=[],e}return i(e,t),e.toString=function(){return"[class dragonBones.PathConstraintData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.pathSlot=null,this.pathDisplayData=null,this.bones.length=0,this.positionMode=0,this.spacingMode=1,this.rotateMode=1,this.position=0,this.spacing=0,this.rotateOffset=0,this.rotateMix=0,this.translateMix=0},e.prototype.AddBone=function(t){this.bones.push(t)},e}(e);t.PathConstraintData=n}(n||(n={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.CanvasData]"},e.prototype._onClear=function(){this.hasBackground=!1,this.color=0,this.x=0,this.y=0,this.width=0,this.height=0},e}(t.BaseObject);t.CanvasData=e}(n||(n={})),function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displays={},e}return i(e,t),e.toString=function(){return"[class dragonBones.SkinData]"},e.prototype._onClear=function(){for(var t in this.displays){for(var e=this.displays[t],r=0,i=e;r<i.length;r++){var n=i[r];null!==n&&n.returnToPool()}delete this.displays[t]}this.name="",this.parent=null},e.prototype.addDisplay=function(t,e){t in this.displays||(this.displays[t]=[]),null!==e&&(e.parent=this);var r=this.displays[t];r.push(e)},e.prototype.getDisplay=function(t,e){var r=this.getDisplays(t);if(null!==r)for(var i=0,n=r;i<n.length;i++){var a=n[i];if(null!==a&&a.name===e)return a}return null},e.prototype.getDisplays=function(t){return t in this.displays?this.displays[t]:null},e}(t.BaseObject);t.SkinData=e}(n||(n={})),function(t){var e=function(){function t(){this.weight=null}return t.prototype.clear=function(){this.isShared||null===this.weight||this.weight.returnToPool(),this.isShared=!1,this.inheritDeform=!1,this.offset=0,this.data=null,this.weight=null},t.prototype.shareFrom=function(t){this.isShared=!0,this.offset=t.offset,this.weight=t.weight},Object.defineProperty(t.prototype,"vertexCount",{get:function(){var t=this.data.intArray;return t[this.offset+0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"triangleCount",{get:function(){var t=this.data.intArray;return t[this.offset+1]},enumerable:!0,configurable:!0}),t}();t.GeometryData=e;var r=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.transform=new t.Transform,r}return i(r,e),r.prototype._onClear=function(){this.name="",this.path="",this.transform.identity(),this.parent=null},r}(t.BaseObject);t.DisplayData=r;var n=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.pivot=new t.Point,r}return i(r,e),r.toString=function(){return"[class dragonBones.ImageDisplayData]"},r.prototype._onClear=function(){e.prototype._onClear.call(this),this.type=0,this.pivot.clear(),this.texture=null},r}(r);t.ImageDisplayData=n;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.actions=[],e}return i(e,t),e.toString=function(){return"[class dragonBones.ArmatureDisplayData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this);for(var e=0,r=this.actions;e<r.length;e++){var i=r[e];i.returnToPool()}this.type=1,this.inheritAnimation=!1,this.actions.length=0,this.armature=null},e.prototype.addAction=function(t){this.actions.push(t)},e}(r);t.ArmatureDisplayData=a;var s=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.geometry=new e,r}return i(r,t),r.toString=function(){return"[class dragonBones.MeshDisplayData]"},r.prototype._onClear=function(){t.prototype._onClear.call(this),this.type=2,this.geometry.clear(),this.texture=null},r}(r);t.MeshDisplayData=s;var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boundingBox=null,e}return i(e,t),e.toString=function(){return"[class dragonBones.BoundingBoxDisplayData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),null!==this.boundingBox&&this.boundingBox.returnToPool(),this.type=3,this.boundingBox=null},e}(r);t.BoundingBoxDisplayData=o;var h=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.geometry=new e,r.curveLengths=[],r}return i(r,t),r.toString=function(){return"[class dragonBones.PathDisplayData]"},r.prototype._onClear=function(){t.prototype._onClear.call(this),this.type=4,this.closed=!1,this.constantSpeed=!1,this.geometry.clear(),this.curveLengths.length=0},r}(r);t.PathDisplayData=h;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bones=[],e}return i(e,t),e.toString=function(){return"[class dragonBones.WeightData]"},e.prototype._onClear=function(){this.count=0,this.offset=0,this.bones.length=0},e.prototype.addBone=function(t){this.bones.push(t)},e}(t.BaseObject);t.WeightData=l}(n||(n={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._onClear=function(){this.color=0,this.width=0,this.height=0},e}(t.BaseObject);t.BoundingBoxData=e;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.RectangleBoundingBoxData]"},e._computeOutCode=function(t,e,r,i,n,a){var s=0;return t<r?s|=1:t>n&&(s|=2),e<i?s|=4:e>a&&(s|=8),s},e.rectangleIntersectsSegment=function(t,r,i,n,a,s,o,h,l,u,c){void 0===l&&(l=null),void 0===u&&(u=null),void 0===c&&(c=null);var f=t>a&&t<o&&r>s&&r<h,p=i>a&&i<o&&n>s&&n<h;if(f&&p)return-1;var d=0,_=e._computeOutCode(t,r,a,s,o,h),m=e._computeOutCode(i,n,a,s,o,h);while(1){if(0===(_|m)){d=2;break}if(0!==(_&m))break;var y=0,v=0,g=0,b=0!==_?_:m;0!==(4&b)?(y=t+(i-t)*(s-r)/(n-r),v=s,null!==c&&(g=.5*-Math.PI)):0!==(8&b)?(y=t+(i-t)*(h-r)/(n-r),v=h,null!==c&&(g=.5*Math.PI)):0!==(2&b)?(v=r+(n-r)*(o-t)/(i-t),y=o,null!==c&&(g=0)):0!==(1&b)&&(v=r+(n-r)*(a-t)/(i-t),y=a,null!==c&&(g=Math.PI)),b===_?(t=y,r=v,_=e._computeOutCode(t,r,a,s,o,h),null!==c&&(c.x=g)):(i=y,n=v,m=e._computeOutCode(i,n,a,s,o,h),null!==c&&(c.y=g))}return d&&(f?(d=2,null!==l&&(l.x=i,l.y=n),null!==u&&(u.x=i,u.y=i),null!==c&&(c.x=c.y+Math.PI)):p?(d=1,null!==l&&(l.x=t,l.y=r),null!==u&&(u.x=t,u.y=r),null!==c&&(c.y=c.x+Math.PI)):(d=3,null!==l&&(l.x=t,l.y=r),null!==u&&(u.x=i,u.y=n))),d},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.type=0},e.prototype.containsPoint=function(t,e){var r=.5*this.width;if(t>=-r&&t<=r){var i=.5*this.height;if(e>=-i&&e<=i)return!0}return!1},e.prototype.intersectsSegment=function(t,r,i,n,a,s,o){void 0===a&&(a=null),void 0===s&&(s=null),void 0===o&&(o=null);var h=.5*this.width,l=.5*this.height,u=e.rectangleIntersectsSegment(t,r,i,n,-h,-l,h,l,a,s,o);return u},e}(e);t.RectangleBoundingBoxData=r;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.EllipseData]"},e.ellipseIntersectsSegment=function(t,e,r,i,n,a,s,o,h,l,u){void 0===h&&(h=null),void 0===l&&(l=null),void 0===u&&(u=null);var c=s/o,f=c*c;e*=c,i*=c;var p=r-t,d=i-e,_=Math.sqrt(p*p+d*d),m=p/_,y=d/_,v=(n-t)*m+(a-e)*y,g=v*v,b=t*t+e*e,x=s*s,T=x-b+g,D=0;if(T>=0){var A=Math.sqrt(T),w=v-A,S=v+A,E=w<0?-1:w<=_?0:1,P=S<0?-1:S<=_?0:1,O=E*P;if(O<0)return-1;0===O&&(-1===E?(D=2,r=t+S*m,i=(e+S*y)/c,null!==h&&(h.x=r,h.y=i),null!==l&&(l.x=r,l.y=i),null!==u&&(u.x=Math.atan2(i/x*f,r/x),u.y=u.x+Math.PI)):1===P?(D=1,t+=w*m,e=(e+w*y)/c,null!==h&&(h.x=t,h.y=e),null!==l&&(l.x=t,l.y=e),null!==u&&(u.x=Math.atan2(e/x*f,t/x),u.y=u.x+Math.PI)):(D=3,null!==h&&(h.x=t+w*m,h.y=(e+w*y)/c,null!==u&&(u.x=Math.atan2(h.y/x*f,h.x/x))),null!==l&&(l.x=t+S*m,l.y=(e+S*y)/c,null!==u&&(u.y=Math.atan2(l.y/x*f,l.x/x)))))}return D},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.type=1},e.prototype.containsPoint=function(t,e){var r=.5*this.width;if(t>=-r&&t<=r){var i=.5*this.height;if(e>=-i&&e<=i)return e*=r/i,Math.sqrt(t*t+e*e)<=r}return!1},e.prototype.intersectsSegment=function(t,r,i,n,a,s,o){void 0===a&&(a=null),void 0===s&&(s=null),void 0===o&&(o=null);var h=e.ellipseIntersectsSegment(t,r,i,n,0,0,.5*this.width,.5*this.height,a,s,o);return h},e}(e);t.EllipseBoundingBoxData=n;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.vertices=[],e}return i(e,t),e.toString=function(){return"[class dragonBones.PolygonBoundingBoxData]"},e.polygonIntersectsSegment=function(t,e,r,i,n,a,s,o){void 0===a&&(a=null),void 0===s&&(s=null),void 0===o&&(o=null),t===r&&(t=r+1e-6),e===i&&(e=i+1e-6);for(var h=n.length,l=t-r,u=e-i,c=t*i-e*r,f=0,p=n[h-2],d=n[h-1],_=0,m=0,y=0,v=0,g=0,b=0,x=0;x<h;x+=2){var T=n[x],D=n[x+1];p===T&&(p=T+1e-4),d===D&&(d=D+1e-4);var A=p-T,w=d-D,S=p*D-d*T,E=l*w-u*A,P=(c*A-l*S)/E;if((P>=p&&P<=T||P>=T&&P<=p)&&(0===l||P>=t&&P<=r||P>=r&&P<=t)){var O=(c*w-u*S)/E;if((O>=d&&O<=D||O>=D&&O<=d)&&(0===u||O>=e&&O<=i||O>=i&&O<=e)){if(null===s){y=P,v=O,g=P,b=O,f++,null!==o&&(o.x=Math.atan2(D-d,T-p)-.5*Math.PI,o.y=o.x);break}var I=P-t;I<0&&(I=-I),0===f?(_=I,m=I,y=P,v=O,g=P,b=O,null!==o&&(o.x=Math.atan2(D-d,T-p)-.5*Math.PI,o.y=o.x)):(I<_&&(_=I,y=P,v=O,null!==o&&(o.x=Math.atan2(D-d,T-p)-.5*Math.PI)),I>m&&(m=I,g=P,b=O,null!==o&&(o.y=Math.atan2(D-d,T-p)-.5*Math.PI))),f++}}p=T,d=D}return 1===f?(null!==a&&(a.x=y,a.y=v),null!==s&&(s.x=y,s.y=v),null!==o&&(o.y=o.x+Math.PI)):f>1&&(f++,null!==a&&(a.x=y,a.y=v),null!==s&&(s.x=g,s.y=b)),f},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.type=2,this.x=0,this.y=0,this.vertices.length=0},e.prototype.containsPoint=function(t,e){var r=!1;if(t>=this.x&&t<=this.width&&e>=this.y&&e<=this.height)for(var i=0,n=this.vertices.length,a=n-2;i<n;i+=2){var s=this.vertices[a+1],o=this.vertices[i+1];if(o<e&&s>=e||s<e&&o>=e){var h=this.vertices[a],l=this.vertices[i];(e-o)*(h-l)/(s-o)+l<t&&(r=!r)}a=i}return r},e.prototype.intersectsSegment=function(t,i,n,a,s,o,h){void 0===s&&(s=null),void 0===o&&(o=null),void 0===h&&(h=null);var l=0;return 0!==r.rectangleIntersectsSegment(t,i,n,a,this.x,this.y,this.x+this.width,this.y+this.height,null,null,null)&&(l=e.polygonIntersectsSegment(t,i,n,a,this.vertices,s,o,h)),l},e}(e);t.PolygonBoundingBoxData=a}(n||(n={})),function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cachedFrames=[],e.boneTimelines={},e.slotTimelines={},e.constraintTimelines={},e.animationTimelines={},e.boneCachedFrameIndices={},e.slotCachedFrameIndices={},e.actionTimeline=null,e.zOrderTimeline=null,e}return i(e,t),e.toString=function(){return"[class dragonBones.AnimationData]"},e.prototype._onClear=function(){for(var t in this.boneTimelines){for(var e=0,r=this.boneTimelines[t];e<r.length;e++){var i=r[e];i.returnToPool()}delete this.boneTimelines[t]}for(var t in this.slotTimelines){for(var n=0,a=this.slotTimelines[t];n<a.length;n++){i=a[n];i.returnToPool()}delete this.slotTimelines[t]}for(var t in this.constraintTimelines){for(var s=0,o=this.constraintTimelines[t];s<o.length;s++){i=o[s];i.returnToPool()}delete this.constraintTimelines[t]}for(var t in this.animationTimelines){for(var h=0,l=this.animationTimelines[t];h<l.length;h++){i=l[h];i.returnToPool()}delete this.animationTimelines[t]}for(var t in this.boneCachedFrameIndices)delete this.boneCachedFrameIndices[t];for(var t in this.slotCachedFrameIndices)delete this.slotCachedFrameIndices[t];null!==this.actionTimeline&&this.actionTimeline.returnToPool(),null!==this.zOrderTimeline&&this.zOrderTimeline.returnToPool(),this.frameIntOffset=0,this.frameFloatOffset=0,this.frameOffset=0,this.blendType=0,this.frameCount=0,this.playTimes=0,this.duration=0,this.scale=1,this.fadeInTime=0,this.cacheFrameRate=0,this.name="",this.cachedFrames.length=0,this.actionTimeline=null,this.zOrderTimeline=null,this.parent=null},e.prototype.cacheFrames=function(t){if(!(this.cacheFrameRate>0)){this.cacheFrameRate=Math.max(Math.ceil(t*this.scale),1);var e=Math.ceil(this.cacheFrameRate*this.duration)+1;this.cachedFrames.length=e;for(var r=0,i=this.cacheFrames.length;r<i;++r)this.cachedFrames[r]=!1;for(var n=0,a=this.parent.sortedBones;n<a.length;n++){var s=a[n],o=new Array(e);for(r=0,i=o.length;r<i;++r)o[r]=-1;this.boneCachedFrameIndices[s.name]=o}for(var h=0,l=this.parent.sortedSlots;h<l.length;h++){var u=l[h];for(o=new Array(e),r=0,i=o.length;r<i;++r)o[r]=-1;this.slotCachedFrameIndices[u.name]=o}}},e.prototype.addBoneTimeline=function(t,e){var r=t in this.boneTimelines?this.boneTimelines[t]:this.boneTimelines[t]=[];r.indexOf(e)<0&&r.push(e)},e.prototype.addSlotTimeline=function(t,e){var r=t in this.slotTimelines?this.slotTimelines[t]:this.slotTimelines[t]=[];r.indexOf(e)<0&&r.push(e)},e.prototype.addConstraintTimeline=function(t,e){var r=t in this.constraintTimelines?this.constraintTimelines[t]:this.constraintTimelines[t]=[];r.indexOf(e)<0&&r.push(e)},e.prototype.addAnimationTimeline=function(t,e){var r=t in this.animationTimelines?this.animationTimelines[t]:this.animationTimelines[t]=[];r.indexOf(e)<0&&r.push(e)},e.prototype.getBoneTimelines=function(t){return t in this.boneTimelines?this.boneTimelines[t]:null},e.prototype.getSlotTimelines=function(t){return t in this.slotTimelines?this.slotTimelines[t]:null},e.prototype.getConstraintTimelines=function(t){return t in this.constraintTimelines?this.constraintTimelines[t]:null},e.prototype.getAnimationTimelines=function(t){return t in this.animationTimelines?this.animationTimelines[t]:null},e.prototype.getBoneCachedFrameIndices=function(t){return t in this.boneCachedFrameIndices?this.boneCachedFrameIndices[t]:null},e.prototype.getSlotCachedFrameIndices=function(t){return t in this.slotCachedFrameIndices?this.slotCachedFrameIndices[t]:null},e}(t.BaseObject);t.AnimationData=e;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.TimelineData]"},e.prototype._onClear=function(){this.type=10,this.offset=0,this.frameIndicesOffset=-1},e}(t.BaseObject);t.TimelineData=r;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.AnimationTimelineData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.x=0,this.y=0},e}(r);t.AnimationTimelineData=n}(n||(n={})),function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boneMask=[],e}return i(e,t),e.toString=function(){return"[class dragonBones.AnimationConfig]"},e.prototype._onClear=function(){this.pauseFadeOut=!0,this.fadeOutMode=4,this.fadeOutTweenType=1,this.fadeOutTime=-1,this.actionEnabled=!0,this.additive=!1,this.displayControl=!0,this.pauseFadeIn=!0,this.resetToPose=!0,this.fadeInTweenType=1,this.playTimes=-1,this.layer=0,this.position=0,this.duration=-1,this.timeScale=-100,this.weight=1,this.fadeInTime=-1,this.autoFadeOutTime=-1,this.name="",this.animation="",this.group="",this.boneMask.length=0},e.prototype.clear=function(){this._onClear()},e.prototype.copyFrom=function(t){this.pauseFadeOut=t.pauseFadeOut,this.fadeOutMode=t.fadeOutMode,this.autoFadeOutTime=t.autoFadeOutTime,this.fadeOutTweenType=t.fadeOutTweenType,this.actionEnabled=t.actionEnabled,this.additive=t.additive,this.displayControl=t.displayControl,this.pauseFadeIn=t.pauseFadeIn,this.resetToPose=t.resetToPose,this.playTimes=t.playTimes,this.layer=t.layer,this.position=t.position,this.duration=t.duration,this.timeScale=t.timeScale,this.fadeInTime=t.fadeInTime,this.fadeOutTime=t.fadeOutTime,this.fadeInTweenType=t.fadeInTweenType,this.weight=t.weight,this.name=t.name,this.animation=t.animation,this.group=t.group,this.boneMask.length=t.boneMask.length;for(var e=0,r=this.boneMask.length;e<r;++e)this.boneMask[e]=t.boneMask[e]},e}(t.BaseObject);t.AnimationConfig=e}(n||(n={})),function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textures={},e}return i(e,t),e.prototype._onClear=function(){for(var t in this.textures)this.textures[t].returnToPool(),delete this.textures[t];this.autoSearch=!1,this.width=0,this.height=0,this.scale=1,this.name="",this.imagePath=""},e.prototype.copyFrom=function(t){for(var e in this.autoSearch=t.autoSearch,this.scale=t.scale,this.width=t.width,this.height=t.height,this.name=t.name,this.imagePath=t.imagePath,this.textures)this.textures[e].returnToPool(),delete this.textures[e];for(var e in t.textures){var r=this.createTexture();r.copyFrom(t.textures[e]),this.textures[e]=r}},e.prototype.addTexture=function(t){t.name in this.textures?console.warn("Same texture: "+t.name):(t.parent=this,this.textures[t.name]=t)},e.prototype.getTexture=function(t){return t in this.textures?this.textures[t]:null},e}(t.BaseObject);t.TextureAtlasData=e;var r=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.region=new t.Rectangle,r.frame=null,r}return i(r,e),r.createRectangle=function(){return new t.Rectangle},r.prototype._onClear=function(){this.rotated=!1,this.name="",this.region.clear(),this.parent=null,this.frame=null},r.prototype.copyFrom=function(t){this.rotated=t.rotated,this.name=t.name,this.region.copyFrom(t.region),this.parent=t.parent,null===this.frame&&null!==t.frame?this.frame=r.createRectangle():null!==this.frame&&null===t.frame&&(this.frame=null),null!==this.frame&&null!==t.frame&&this.frame.copyFrom(t.frame)},r}(t.BaseObject);t.TextureData=r}(n||(n={})),function(t){var e=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t._bones=[],t._slots=[],t._constraints=[],t._actions=[],t._animation=null,t._proxy=null,t._replaceTextureAtlasData=null,t._clock=null,t}return i(r,e),r.toString=function(){return"[class dragonBones.Armature]"},r._onSortSlots=function(t,e){return 1e3*t._zIndex+t._zOrder>1e3*e._zIndex+e._zOrder?1:-1},r.prototype._onClear=function(){null!==this._clock&&this._clock.remove(this);for(var t=0,e=this._bones;t<e.length;t++){var r=e[t];r.returnToPool()}for(var i=0,n=this._slots;i<n.length;i++){var a=n[i];a.returnToPool()}for(var s=0,o=this._constraints;s<o.length;s++){var h=o[s];h.returnToPool()}for(var l=0,u=this._actions;l<u.length;l++){var c=u[l];c.returnToPool()}null!==this._animation&&this._animation.returnToPool(),null!==this._proxy&&this._proxy.dbClear(),null!==this._replaceTextureAtlasData&&this._replaceTextureAtlasData.returnToPool(),this.inheritAnimation=!0,this.userData=null,this._lockUpdate=!1,this._slotsDirty=!0,this._zOrderDirty=!1,this._zIndexDirty=!1,this._alphaDirty=!0,this._flipX=!1,this._flipY=!1,this._cacheFrameIndex=-1,this._alpha=1,this._globalAlpha=1,this._bones.length=0,this._slots.length=0,this._constraints.length=0,this._actions.length=0,this._armatureData=null,this._animation=null,this._proxy=null,this._display=null,this._replaceTextureAtlasData=null,this._replacedTexture=null,this._dragonBones=null,this._clock=null,this._parent=null},r.prototype._sortZOrder=function(t,e){var r=this._armatureData.sortedSlots,i=null===t;if(this._zOrderDirty||!i){for(var n=0,a=r.length;n<a;++n){var s=i?n:t[e+n];if(!(s<0||s>=a)){var o=r[s],h=this.getSlot(o.name);null!==h&&h._setZOrder(n)}}this._slotsDirty=!0,this._zOrderDirty=!i}},r.prototype._addBone=function(t){this._bones.indexOf(t)<0&&this._bones.push(t)},r.prototype._addSlot=function(t){this._slots.indexOf(t)<0&&this._slots.push(t)},r.prototype._addConstraint=function(t){this._constraints.indexOf(t)<0&&this._constraints.push(t)},r.prototype._bufferAction=function(t,e){this._actions.indexOf(t)<0&&(e?this._actions.push(t):this._actions.unshift(t))},r.prototype.dispose=function(){null!==this._armatureData&&(this._lockUpdate=!0,this._dragonBones.bufferObject(this))},r.prototype.init=function(e,r,i,n){null===this._armatureData&&(this._armatureData=e,this._animation=t.BaseObject.borrowObject(t.Animation),this._proxy=r,this._display=i,this._dragonBones=n,this._proxy.dbInit(this),this._animation.init(this),this._animation.animations=this._armatureData.animations)},r.prototype.advanceTime=function(t){if(!this._lockUpdate)if(this._lockUpdate=!0,null!==this._armatureData)if(null!==this._armatureData.parent){var e=this._cacheFrameIndex;if(this._animation.advanceTime(t),this._slotsDirty||this._zIndexDirty){if(this._slots.sort(r._onSortSlots),this._zIndexDirty)for(var i=0,n=this._slots.length;i<n;++i)this._slots[i]._setZOrder(i);this._slotsDirty=!1,this._zIndexDirty=!1}if(this._alphaDirty){this._alphaDirty=!1,this._globalAlpha=this._alpha*(null!==this._parent?this._parent._globalAlpha:1);for(var a=0,s=this._bones;a<s.length;a++){var o=s[a];o._updateAlpha()}for(var h=0,l=this._slots;h<l.length;h++){var u=l[h];u._updateAlpha()}}if(this._cacheFrameIndex<0||this._cacheFrameIndex!==e){i=0,n=0;for(i=0,n=this._bones.length;i<n;++i)this._bones[i].update(this._cacheFrameIndex);for(i=0,n=this._slots.length;i<n;++i)this._slots[i].update(this._cacheFrameIndex)}if(this._actions.length>0){for(var c=0,f=this._actions;c<f.length;c++){var p=f[c],d=p.actionData;if(null!==d&&0===d.type)if(null!==p.slot){var _=p.slot.childArmature;null!==_&&_.animation.fadeIn(d.name)}else if(null!==p.bone)for(var m=0,y=this.getSlots();m<y.length;m++){u=y[m];if(u.parent===p.bone){_=u.childArmature;null!==_&&_.animation.fadeIn(d.name)}}else this._animation.fadeIn(d.name);p.returnToPool()}this._actions.length=0}this._lockUpdate=!1,this._proxy.dbUpdate()}else console.warn("The armature data has been disposed.\nPlease make sure dispose armature before call factory.clear().");else console.warn("The armature has been disposed.")},r.prototype.invalidUpdate=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=!1),null!==t&&t.length>0){var r=this.getBone(t);if(null!==r&&(r.invalidUpdate(),e))for(var i=0,n=this._slots;i<n.length;i++){var a=n[i];a.parent===r&&a.invalidUpdate()}}else{for(var s=0,o=this._bones;s<o.length;s++){r=o[s];r.invalidUpdate()}if(e)for(var h=0,l=this._slots;h<l.length;h++){a=l[h];a.invalidUpdate()}}},r.prototype.containsPoint=function(t,e){for(var r=0,i=this._slots;r<i.length;r++){var n=i[r];if(n.containsPoint(t,e))return n}return null},r.prototype.intersectsSegment=function(t,e,r,i,n,a,s){void 0===n&&(n=null),void 0===a&&(a=null),void 0===s&&(s=null);for(var o=t===r,h=0,l=0,u=0,c=0,f=0,p=0,d=0,_=0,m=null,y=null,v=0,g=this._slots;v<g.length;v++){var b=g[v],x=b.intersectsSegment(t,e,r,i,n,a,s);if(x>0){if(null===n&&null===a){m=b;break}if(null!==n){var T=o?n.y-e:n.x-t;T<0&&(T=-T),(null===m||T<h)&&(h=T,u=n.x,c=n.y,m=b,s&&(d=s.x))}if(null!==a){T=a.x-t;T<0&&(T=-T),(null===y||T>l)&&(l=T,f=a.x,p=a.y,y=b,null!==s&&(_=s.y))}}}return null!==m&&null!==n&&(n.x=u,n.y=c,null!==s&&(s.x=d)),null!==y&&null!==a&&(a.x=f,a.y=p,null!==s&&(s.y=_)),m},r.prototype.getBone=function(t){for(var e=0,r=this._bones;e<r.length;e++){var i=r[e];if(i.name===t)return i}return null},r.prototype.getBoneByDisplay=function(t){var e=this.getSlotByDisplay(t);return null!==e?e.parent:null},r.prototype.getSlot=function(t){for(var e=0,r=this._slots;e<r.length;e++){var i=r[e];if(i.name===t)return i}return null},r.prototype.getSlotByDisplay=function(t){if(null!==t)for(var e=0,r=this._slots;e<r.length;e++){var i=r[e];if(i.display===t)return i}return null},r.prototype.getBones=function(){return this._bones},r.prototype.getSlots=function(){return this._slots},Object.defineProperty(r.prototype,"flipX",{get:function(){return this._flipX},set:function(t){this._flipX!==t&&(this._flipX=t,this.invalidUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"flipY",{get:function(){return this._flipY},set:function(t){this._flipY!==t&&(this._flipY=t,this.invalidUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cacheFrameRate",{get:function(){return this._armatureData.cacheFrameRate},set:function(t){if(this._armatureData.cacheFrameRate!==t){this._armatureData.cacheFrames(t);for(var e=0,r=this._slots;e<r.length;e++){var i=r[e],n=i.childArmature;null!==n&&(n.cacheFrameRate=t)}}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this._armatureData.name},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"armatureData",{get:function(){return this._armatureData},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"animation",{get:function(){return this._animation},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"proxy",{get:function(){return this._proxy},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"eventDispatcher",{get:function(){return this._proxy},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"display",{get:function(){return this._display},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"replacedTexture",{get:function(){return this._replacedTexture},set:function(t){if(this._replacedTexture!==t){null!==this._replaceTextureAtlasData&&(this._replaceTextureAtlasData.returnToPool(),this._replaceTextureAtlasData=null),this._replacedTexture=t;for(var e=0,r=this._slots;e<r.length;e++){var i=r[e];i.invalidUpdate(),i.update(-1)}}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"clock",{get:function(){return this._clock},set:function(t){if(this._clock!==t){null!==this._clock&&this._clock.remove(this),this._clock=t,this._clock&&this._clock.add(this);for(var e=0,r=this._slots;e<r.length;e++){var i=r[e],n=i.childArmature;null!==n&&(n.clock=this._clock)}}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),r.prototype.getDisplay=function(){return this._display},r}(t.BaseObject);t.Armature=e}(n||(n={})),function(t){var e=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.globalTransformMatrix=new t.Matrix,r.global=new t.Transform,r.offset=new t.Transform,r}return i(r,e),r.prototype._onClear=function(){this.globalTransformMatrix.identity(),this.global.identity(),this.offset.identity(),this.origin=null,this.userData=null,this._globalDirty=!1,this._alpha=1,this._globalAlpha=1,this._armature=null},r.prototype.updateGlobalTransform=function(){this._globalDirty&&(this._globalDirty=!1,this.global.fromMatrix(this.globalTransformMatrix))},Object.defineProperty(r.prototype,"armature",{get:function(){return this._armature},enumerable:!0,configurable:!0}),r._helpMatrix=new t.Matrix,r._helpTransform=new t.Transform,r._helpPoint=new t.Point,r}(t.BaseObject);t.TransformObject=e}(n||(n={})),function(t){var e=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.animationPose=new t.Transform,r}return i(r,e),r.toString=function(){return"[class dragonBones.Bone]"},r.prototype._onClear=function(){e.prototype._onClear.call(this),this.offsetMode=1,this.animationPose.identity(),this._transformDirty=!1,this._childrenTransformDirty=!1,this._localDirty=!0,this._hasConstraint=!1,this._visible=!0,this._cachedFrameIndex=-1,this._boneData=null,this._parent=null,this._cachedFrameIndices=null},r.prototype._updateGlobalTransformMatrix=function(e){var r=this._boneData,i=this.global,n=this.globalTransformMatrix,a=this.origin,s=this.offset,o=this.animationPose,h=this._parent,l=this._armature.flipX,u=this._armature.flipY===t.DragonBones.yDown,c=null!==h,f=0;if(1===this.offsetMode?null!==a?(i.x=a.x+s.x+o.x,i.scaleX=a.scaleX*s.scaleX*o.scaleX,i.scaleY=a.scaleY*s.scaleY*o.scaleY,t.DragonBones.yDown?(i.y=a.y+s.y+o.y,i.skew=a.skew+s.skew+o.skew,i.rotation=a.rotation+s.rotation+o.rotation):(i.y=a.y-s.y+o.y,i.skew=a.skew-s.skew+o.skew,i.rotation=a.rotation-s.rotation+o.rotation)):(i.copyFrom(s),t.DragonBones.yDown||(i.y=-i.y,i.skew=-i.skew,i.rotation=-i.rotation),i.add(o)):0===this.offsetMode?null!==a?i.copyFrom(a).add(o):i.copyFrom(o):(c=!1,i.copyFrom(s),t.DragonBones.yDown||(i.y=-i.y,i.skew=-i.skew,i.rotation=-i.rotation)),c){var p=1===h._boneData.type,d=p?h._bone:null,_=p?h._getGlobalTransformMatrix(i.x,i.y):h.globalTransformMatrix;if(!r.inheritScale||p&&null===d){if(r.inheritTranslation){var m=i.x,y=i.y;i.x=_.a*m+_.c*y+_.tx,i.y=_.b*m+_.d*y+_.ty}else l&&(i.x=-i.x),u&&(i.y=-i.y);r.inheritRotation?(h.updateGlobalTransform(),f=h.global.scaleX<0?i.rotation+h.global.rotation+Math.PI:i.rotation+h.global.rotation,_.a*_.d-_.b*_.c<0&&(f-=2*i.rotation,(l!==u||r.inheritReflection)&&(i.skew+=Math.PI),t.DragonBones.yDown||(i.skew=-i.skew)),i.rotation=f):(l||u)&&(l&&u?f=i.rotation+Math.PI:(f=l?Math.PI-i.rotation:-i.rotation,i.skew+=Math.PI),i.rotation=f),i.toMatrix(n)}else p?(r.inheritRotation&&(i.rotation+=h.global.rotation),d.updateGlobalTransform(),i.scaleX*=d.global.scaleX,i.scaleY*=d.global.scaleY,_.transformPoint(i.x,i.y,i),i.toMatrix(n),r.inheritTranslation?(i.x=n.tx,i.y=n.ty):(n.tx=i.x,n.ty=i.y)):(r.inheritRotation||(h.updateGlobalTransform(),f=l&&u?i.rotation-(h.global.rotation+Math.PI):l?i.rotation+h.global.rotation+Math.PI:u?i.rotation+h.global.rotation:i.rotation-h.global.rotation,i.rotation=f),i.toMatrix(n),n.concat(_),r.inheritTranslation?(i.x=n.tx,i.y=n.ty):(n.tx=i.x,n.ty=i.y),e?i.fromMatrix(n):this._globalDirty=!0)}else(l||u)&&(l&&(i.x=-i.x),u&&(i.y=-i.y),l&&u?f=i.rotation+Math.PI:(f=l?Math.PI-i.rotation:-i.rotation,i.skew+=Math.PI),i.rotation=f),i.toMatrix(n)},r.prototype._updateAlpha=function(){null!==this._parent?this._globalAlpha=this._alpha*this._parent._globalAlpha:this._globalAlpha=this._alpha*this._armature._globalAlpha},r.prototype.init=function(t,e){null===this._boneData&&(this._boneData=t,this._armature=e,this._alpha=this._boneData.alpha,null!==this._boneData.parent&&(this._parent=this._armature.getBone(this._boneData.parent.name)),this._armature._addBone(this),this.origin=this._boneData.transform)},r.prototype.update=function(t){if(t>=0&&null!==this._cachedFrameIndices){var e=this._cachedFrameIndices[t];if(e>=0&&this._cachedFrameIndex===e)this._transformDirty=!1;else if(e>=0)this._transformDirty=!0,this._cachedFrameIndex=e;else{if(this._hasConstraint)for(var r=0,i=this._armature._constraints;r<i.length;r++){var n=i[r];n._root===this&&n.update()}this._transformDirty||null!==this._parent&&this._parent._childrenTransformDirty?(this._transformDirty=!0,this._cachedFrameIndex=-1):this._cachedFrameIndex>=0?(this._transformDirty=!1,this._cachedFrameIndices[t]=this._cachedFrameIndex):(this._transformDirty=!0,this._cachedFrameIndex=-1)}}else{if(this._hasConstraint)for(var a=0,s=this._armature._constraints;a<s.length;a++){n=s[a];n._root===this&&n.update()}(this._transformDirty||null!==this._parent&&this._parent._childrenTransformDirty)&&(t=-1,this._transformDirty=!0,this._cachedFrameIndex=-1)}if(this._transformDirty)if(this._transformDirty=!1,this._childrenTransformDirty=!0,this._cachedFrameIndex<0){var o=t>=0;this._localDirty&&this._updateGlobalTransformMatrix(o),o&&null!==this._cachedFrameIndices&&(this._cachedFrameIndex=this._cachedFrameIndices[t]=this._armature._armatureData.setCacheFrame(this.globalTransformMatrix,this.global))}else this._armature._armatureData.getCacheFrame(this.globalTransformMatrix,this.global,this._cachedFrameIndex);else this._childrenTransformDirty&&(this._childrenTransformDirty=!1);this._localDirty=!0},r.prototype.updateByConstraint=function(){this._localDirty&&(this._localDirty=!1,(this._transformDirty||null!==this._parent&&this._parent._childrenTransformDirty)&&this._updateGlobalTransformMatrix(!0),this._transformDirty=!0)},r.prototype.invalidUpdate=function(){this._transformDirty=!0},r.prototype.contains=function(t){if(t===this)return!1;var e=t;while(e!==this&&null!==e)e=e.parent;return e===this},Object.defineProperty(r.prototype,"boneData",{get:function(){return this._boneData},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"visible",{get:function(){return this._visible},set:function(t){if(this._visible!==t){this._visible=t;for(var e=0,r=this._armature.getSlots();e<r.length;e++){var i=r[e];i.parent===this&&i._updateVisible()}}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this._boneData.name},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),r}(t.TransformObject);t.Bone=e}(n||(n={})),function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._vertices=[],e._deformVertices=[],e._hullCache=[],e._matrixCahce=[],e}return i(e,t),e.toString=function(){return"[class dragonBones.Surface]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this._dX=0,this._dY=0,this._k=0,this._kX=0,this._kY=0,this._vertices.length=0,this._deformVertices.length=0,this._matrixCahce.length=0,this._hullCache.length=0,this._bone=null},e.prototype._getAffineTransform=function(t,e,r,i,n,a,s,o,h,l,u,c,f){var p=s-n,d=o-a,_=h-n,m=l-a;u.rotation=Math.atan2(d,p),u.skew=Math.atan2(m,_)-.5*Math.PI-u.rotation,f&&(u.rotation+=Math.PI),u.scaleX=Math.sqrt(p*p+d*d)/r,u.scaleY=Math.sqrt(_*_+m*m)/i,u.toMatrix(c),u.x=c.tx=n-(c.a*t+c.c*e),u.y=c.ty=a-(c.b*t+c.d*e)},e.prototype._updateVertices=function(){var t=this._armature.armatureData.parent,e=this._boneData.geometry,r=t.intArray,i=t.floatArray,n=r[e.offset+0],a=r[e.offset+2],s=this._vertices,o=this._deformVertices;if(null!==this._parent)if(1===this._parent._boneData.type)for(var h=0,l=n;h<l;++h){var u=2*h,c=i[a+u]+o[u],f=i[a+u+1]+o[u+1],p=this._parent._getGlobalTransformMatrix(c,f);s[u]=p.a*c+p.c*f+p.tx,s[u+1]=p.b*c+p.d*f+p.ty}else{var d=this._parent.globalTransformMatrix;for(h=0,l=n;h<l;++h){u=2*h,c=i[a+u]+o[u],f=i[a+u+1]+o[u+1];s[u]=d.a*c+d.c*f+d.tx,s[u+1]=d.b*c+d.d*f+d.ty}}else for(h=0,l=n;h<l;++h){u=2*h;s[u]=i[a+u]+o[u],s[u+1]=i[a+u+1]+o[u+1]}},e.prototype._updateGlobalTransformMatrix=function(t){var e=2*this._boneData.segmentX,r=this._vertices.length-2,i=200,n=this._vertices[0],a=this._vertices[1],s=this._vertices[e],o=this._vertices[e+1],h=this._vertices[r],l=this._vertices[r+1],u=this._vertices[r-e],c=this._vertices[r-e+1],f=n+.5*(h-n),p=a+.5*(l-a),d=s+.5*(u-s),_=o+.5*(c-o),m=f+.5*(d-f),y=p+.5*(_-p),v=s+.5*(h-s),g=o+.5*(l-o),b=u+.5*(h-u),x=c+.5*(l-c);this._getAffineTransform(0,0,i,i,m,y,v,g,b,x,this.global,this.globalTransformMatrix,!1),this._globalDirty=!1},e.prototype._getGlobalTransformMatrix=function(t,r){var i=200,n=1e3;if(t<-n||n<t||r<-n||n<r)return this.globalTransformMatrix;var a=!1,s=this._boneData,o=s.segmentX,h=s.segmentY,l=2*s.segmentX,u=this._dX,c=this._dY,f=Math.floor((t+i)/u),p=Math.floor((r+i)/c),d=0,_=f*u-i,m=p*c-i,y=this._matrixCahce,v=e._helpMatrix;if(t<-i){if(r<-i||r>=i)return this.globalTransformMatrix;if(a=r>this._kX*(t+i)+m,d=7*(2*(o*h+o+h+h+p)+(a?1:0)),y[d]>0)v.copyFromArray(y,d+1);else{var g=p*(l+2),b=this._hullCache[4],x=this._hullCache[5],T=this._hullCache[2]-(h-p)*b,D=this._hullCache[3]-(h-p)*x,A=this._vertices;a?this._getAffineTransform(-i,m+c,n-i,c,A[g+l+2],A[g+l+3],T+b,D+x,A[g],A[g+1],e._helpTransform,v,!0):this._getAffineTransform(-n,m,n-i,c,T,D,A[g],A[g+1],T+b,D+x,e._helpTransform,v,!1),y[d]=1,y[d+1]=v.a,y[d+2]=v.b,y[d+3]=v.c,y[d+4]=v.d,y[d+5]=v.tx,y[d+6]=v.ty}}else if(t>=i){if(r<-i||r>=i)return this.globalTransformMatrix;if(a=r>this._kX*(t-n)+m,d=7*(2*(o*h+o+p)+(a?1:0)),y[d]>0)v.copyFromArray(y,d+1);else{g=(p+1)*(l+2)-2,b=this._hullCache[4],x=this._hullCache[5],T=this._hullCache[0]+p*b,D=this._hullCache[1]+p*x,A=this._vertices;a?this._getAffineTransform(n,m+c,n-i,c,T+b,D+x,A[g+l+2],A[g+l+3],T,D,e._helpTransform,v,!0):this._getAffineTransform(i,m,n-i,c,A[g],A[g+1],T,D,A[g+l+2],A[g+l+3],e._helpTransform,v,!1),y[d]=1,y[d+1]=v.a,y[d+2]=v.b,y[d+3]=v.c,y[d+4]=v.d,y[d+5]=v.tx,y[d+6]=v.ty}}else if(r<-i){if(t<-i||t>=i)return this.globalTransformMatrix;if(a=r>this._kY*(t-_-u)-n,d=7*(2*(o*h+f)+(a?1:0)),y[d]>0)v.copyFromArray(y,d+1);else{g=2*f,b=this._hullCache[10],x=this._hullCache[11],T=this._hullCache[8]+f*b,D=this._hullCache[9]+f*x,A=this._vertices;a?this._getAffineTransform(_+u,-i,u,n-i,A[g+2],A[g+3],A[g],A[g+1],T+b,D+x,e._helpTransform,v,!0):this._getAffineTransform(_,-n,u,n-i,T,D,T+b,D+x,A[g],A[g+1],e._helpTransform,v,!1),y[d]=1,y[d+1]=v.a,y[d+2]=v.b,y[d+3]=v.c,y[d+4]=v.d,y[d+5]=v.tx,y[d+6]=v.ty}}else if(r>=i){if(t<-i||t>=i)return this.globalTransformMatrix;if(a=r>this._kY*(t-_-u)+i,d=7*(2*(o*h+o+h+f)+(a?1:0)),y[d]>0)v.copyFromArray(y,d+1);else{g=h*(l+2)+2*f,b=this._hullCache[10],x=this._hullCache[11],T=this._hullCache[6]-(o-f)*b,D=this._hullCache[7]-(o-f)*x,A=this._vertices;a?this._getAffineTransform(_+u,n,u,n-i,T+b,D+x,T,D,A[g+2],A[g+3],e._helpTransform,v,!0):this._getAffineTransform(_,i,u,n-i,A[g],A[g+1],A[g+2],A[g+3],T,D,e._helpTransform,v,!1),y[d]=1,y[d+1]=v.a,y[d+2]=v.b,y[d+3]=v.c,y[d+4]=v.d,y[d+5]=v.tx,y[d+6]=v.ty}}else if(a=r>this._k*(t-_-u)+m,d=7*(2*(o*p+f)+(a?1:0)),y[d]>0)v.copyFromArray(y,d+1);else{g=2*f+p*(l+2),A=this._vertices;a?this._getAffineTransform(_+u,m+c,u,c,A[g+l+4],A[g+l+5],A[g+l+2],A[g+l+3],A[g+2],A[g+3],e._helpTransform,v,!0):this._getAffineTransform(_,m,u,c,A[g],A[g+1],A[g+2],A[g+3],A[g+l+2],A[g+l+3],e._helpTransform,v,!1),y[d]=1,y[d+1]=v.a,y[d+2]=v.b,y[d+3]=v.c,y[d+4]=v.d,y[d+5]=v.tx,y[d+6]=v.ty}return v},e.prototype.init=function(e,r){if(null===this._boneData){t.prototype.init.call(this,e,r);var i=e.segmentX,n=e.segmentY,a=this._armature.armatureData.parent.intArray[e.geometry.offset+0],s=1e3,o=200;this._dX=2*o/i,this._dY=2*o/n,this._k=-this._dY/this._dX,this._kX=-this._dY/(s-o),this._kY=-(s-o)/this._dX,this._vertices.length=2*a,this._deformVertices.length=2*a,this._matrixCahce.length=2*(i*n+2*i+2*n)*7,this._hullCache.length=10;for(var h=0;h<2*a;++h)this._deformVertices[h]=0;null!==this._parent&&(0===this._parent.boneData.type?this._bone=this._parent:this._bone=this._parent._bone)}},e.prototype.update=function(t){if(t>=0&&null!==this._cachedFrameIndices){var r=this._cachedFrameIndices[t];if(r>=0&&this._cachedFrameIndex===r)this._transformDirty=!1;else if(r>=0)this._transformDirty=!0,this._cachedFrameIndex=r;else{if(this._hasConstraint)for(var i=0,n=this._armature._constraints;i<n.length;i++){var a=n[i];a._root===this&&a.update()}this._transformDirty||null!==this._parent&&this._parent._childrenTransformDirty?(this._transformDirty=!0,this._cachedFrameIndex=-1):this._cachedFrameIndex>=0?(this._transformDirty=!1,this._cachedFrameIndices[t]=this._cachedFrameIndex):(this._transformDirty=!0,this._cachedFrameIndex=-1)}}else{if(this._hasConstraint)for(var s=0,o=this._armature._constraints;s<o.length;s++){a=o[s];a._root===this&&a.update()}(this._transformDirty||null!==this._parent&&this._parent._childrenTransformDirty)&&(t=-1,this._transformDirty=!0,this._cachedFrameIndex=-1)}if(this._transformDirty){this._transformDirty=!1,this._childrenTransformDirty=!0;for(var h=0,l=this._matrixCahce.length;h<l;h+=7)this._matrixCahce[h]=-1;if(this._updateVertices(),this._cachedFrameIndex<0){var u=t>=0;this._localDirty&&this._updateGlobalTransformMatrix(u),u&&null!==this._cachedFrameIndices&&(this._cachedFrameIndex=this._cachedFrameIndices[t]=this._armature._armatureData.setCacheFrame(this.globalTransformMatrix,this.global))}else this._armature._armatureData.getCacheFrame(this.globalTransformMatrix,this.global,this._cachedFrameIndex);var c=1e3,f=200,p=2*this.global.x,d=2*this.global.y,_=e._helpPoint;this.globalTransformMatrix.transformPoint(c,-f,_),this._hullCache[0]=_.x,this._hullCache[1]=_.y,this._hullCache[2]=p-_.x,this._hullCache[3]=d-_.y,this.globalTransformMatrix.transformPoint(0,this._dY,_,!0),this._hullCache[4]=_.x,this._hullCache[5]=_.y,this.globalTransformMatrix.transformPoint(f,c,_),this._hullCache[6]=_.x,this._hullCache[7]=_.y,this._hullCache[8]=p-_.x,this._hullCache[9]=d-_.y,this.globalTransformMatrix.transformPoint(this._dX,0,_,!0),this._hullCache[10]=_.x,this._hullCache[11]=_.y}else this._childrenTransformDirty&&(this._childrenTransformDirty=!1);this._localDirty=!0},e}(t.Bone);t.Surface=e}(n||(n={})),function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.deformVertices=[],e}return i(e,t),e.toString=function(){return"[class dragonBones.DisplayFrame]"},e.prototype._onClear=function(){this.rawDisplayData=null,this.displayData=null,this.textureData=null,this.display=null,this.deformVertices.length=0},e.prototype.updateDeformVertices=function(){if(null!==this.rawDisplayData&&0===this.deformVertices.length){var t;if(2===this.rawDisplayData.type)t=this.rawDisplayData.geometry;else{if(4!==this.rawDisplayData.type)return;t=this.rawDisplayData.geometry}var e=0;e=null!==t.weight?2*t.weight.count:2*t.data.intArray[t.offset+0],this.deformVertices.length=e;for(var r=0,i=this.deformVertices.length;r<i;++r)this.deformVertices[r]=0}},e.prototype.getGeometryData=function(){if(null!==this.displayData){if(2===this.displayData.type)return this.displayData.geometry;if(4===this.displayData.type)return this.displayData.geometry}if(null!==this.rawDisplayData){if(2===this.rawDisplayData.type)return this.rawDisplayData.geometry;if(4===this.rawDisplayData.type)return this.rawDisplayData.geometry}return null},e.prototype.getBoundingBox=function(){return null!==this.displayData&&3===this.displayData.type?this.displayData.boundingBox:null!==this.rawDisplayData&&3===this.rawDisplayData.type?this.rawDisplayData.boundingBox:null},e.prototype.getTextureData=function(){if(null!==this.displayData){if(0===this.displayData.type)return this.displayData.texture;if(2===this.displayData.type)return this.displayData.texture}if(null!==this.textureData)return this.textureData;if(null!==this.rawDisplayData){if(0===this.rawDisplayData.type)return this.rawDisplayData.texture;if(2===this.rawDisplayData.type)return this.rawDisplayData.texture}return null},e}(t.BaseObject);t.DisplayFrame=e;var r=function(r){function n(){var e=null!==r&&r.apply(this,arguments)||this;return e._localMatrix=new t.Matrix,e._colorTransform=new t.ColorTransform,e._displayFrames=[],e._geometryBones=[],e._rawDisplay=null,e._meshDisplay=null,e._display=null,e}return i(n,r),n.prototype._onClear=function(){r.prototype._onClear.call(this);for(var e=[],i=0,n=this._displayFrames;i<n.length;i++){var a=n[i],s=a.display;s!==this._rawDisplay&&s!==this._meshDisplay&&e.indexOf(s)<0&&e.push(s),a.returnToPool()}for(var o=0,h=e;o<h.length;o++){var l=h[o];l instanceof t.Armature?l.dispose():this._disposeDisplay(l,!0)}null!==this._meshDisplay&&this._meshDisplay!==this._rawDisplay&&this._disposeDisplay(this._meshDisplay,!1),null!==this._rawDisplay&&this._disposeDisplay(this._rawDisplay,!1),this.displayController=null,this._displayDataDirty=!1,this._displayDirty=!1,this._geometryDirty=!1,this._textureDirty=!1,this._visibleDirty=!1,this._blendModeDirty=!1,this._zOrderDirty=!1,this._colorDirty=!1,this._verticesDirty=!1,this._transformDirty=!1,this._visible=!0,this._blendMode=0,this._displayIndex=-1,this._animationDisplayIndex=-1,this._zOrder=0,this._zIndex=0,this._cachedFrameIndex=-1,this._pivotX=0,this._pivotY=0,this._localMatrix.identity(),this._colorTransform.identity(),this._displayFrames.length=0,this._geometryBones.length=0,this._slotData=null,this._displayFrame=null,this._geometryData=null,this._boundingBoxData=null,this._textureData=null,this._rawDisplay=null,this._meshDisplay=null,this._display=null,this._childArmature=null,this._parent=null,this._cachedFrameIndices=null},n.prototype._hasDisplay=function(t){for(var e=0,r=this._displayFrames;e<r.length;e++){var i=r[e];if(i.display===t)return!0}return!1},n.prototype._isBonesUpdate=function(){for(var t=0,e=this._geometryBones;t<e.length;t++){var r=e[t];if(null!==r&&r._childrenTransformDirty)return!0}return!1},n.prototype._updateAlpha=function(){var t=this._alpha*this._parent._globalAlpha;this._globalAlpha!==t&&(this._globalAlpha=t,this._colorDirty=!0)},n.prototype._updateDisplayData=function(){var e=this._displayFrame,r=this._geometryData,i=this._textureData,a=null,s=null;if(this._displayFrame=null,this._geometryData=null,this._boundingBoxData=null,this._textureData=null,this._displayIndex>=0&&this._displayIndex<this._displayFrames.length&&(this._displayFrame=this._displayFrames[this._displayIndex],a=this._displayFrame.rawDisplayData,s=this._displayFrame.displayData,this._geometryData=this._displayFrame.getGeometryData(),this._boundingBoxData=this._displayFrame.getBoundingBox(),this._textureData=this._displayFrame.getTextureData()),this._displayFrame!==e||this._geometryData!==r||this._textureData!==i){if(null===this._geometryData&&null!==this._textureData){var o=null!==s&&0===s.type?s:a,h=this._textureData.parent.scale*this._armature._armatureData.scale,l=this._textureData.frame;this._pivotX=o.pivot.x,this._pivotY=o.pivot.y;var u=null!==l?l:this._textureData.region,c=u.width,f=u.height;this._textureData.rotated&&null===l&&(c=u.height,f=u.width),this._pivotX*=c*h,this._pivotY*=f*h,null!==l&&(this._pivotX+=l.x*h,this._pivotY+=l.y*h),null!==a&&o!==a&&(a.transform.toMatrix(n._helpMatrix),n._helpMatrix.invert(),n._helpMatrix.transformPoint(0,0,n._helpPoint),this._pivotX-=n._helpPoint.x,this._pivotY-=n._helpPoint.y,o.transform.toMatrix(n._helpMatrix),n._helpMatrix.invert(),n._helpMatrix.transformPoint(0,0,n._helpPoint),this._pivotX+=n._helpPoint.x,this._pivotY+=n._helpPoint.y),t.DragonBones.yDown||(this._pivotY=(this._textureData.rotated?this._textureData.region.width:this._textureData.region.height)*h-this._pivotY)}else this._pivotX=0,this._pivotY=0;if(this.origin=null!==a?a.transform:null!==s?s.transform:null,null!==this.origin?this.global.copyFrom(this.origin).add(this.offset).toMatrix(this._localMatrix):this.global.copyFrom(this.offset).toMatrix(this._localMatrix),this._geometryData!==r)if(this._geometryDirty=!0,this._verticesDirty=!0,null!==this._geometryData){if(this._geometryBones.length=0,null!==this._geometryData.weight)for(var p=0,d=this._geometryData.weight.bones.length;p<d;++p){var _=this._armature.getBone(this._geometryData.weight.bones[p].name);this._geometryBones.push(_)}}else this._geometryBones.length=0,this._geometryData=null;this._textureDirty=this._textureData!==i,this._transformDirty=!0}},n.prototype._updateDisplay=function(){var e=null!==this._display?this._display:this._rawDisplay,r=this._childArmature;null!==this._displayFrame?(this._display=this._displayFrame.display,null!==this._display&&this._display instanceof t.Armature?(this._childArmature=this._display,this._display=this._childArmature.display):this._childArmature=null):(this._display=null,this._childArmature=null);var i=null!==this._display?this._display:this._rawDisplay;if(i!==e&&(this._textureDirty=!0,this._visibleDirty=!0,this._blendModeDirty=!0,this._colorDirty=!0,this._transformDirty=!0,this._onUpdateDisplay(),this._replaceDisplay(e)),this._childArmature!==r&&(null!==r&&(r._parent=null,r.clock=null,r.inheritAnimation&&r.animation.reset()),null!==this._childArmature&&(this._childArmature._parent=this,this._childArmature.clock=this._armature.clock,this._childArmature.inheritAnimation))){if(0===this._childArmature.cacheFrameRate){var n=this._armature.cacheFrameRate;0!==n&&(this._childArmature.cacheFrameRate=n)}if(null!==this._displayFrame){var a=null,s=null!==this._displayFrame.displayData?this._displayFrame.displayData:this._displayFrame.rawDisplayData;if(null!==s&&1===s.type&&(a=s.actions),null!==a&&a.length>0)for(var o=0,h=a;o<h.length;o++){var l=h[o],u=t.BaseObject.borrowObject(t.EventObject);t.EventObject.actionDataToInstance(l,u,this._armature),u.slot=this,this._armature._bufferAction(u,!1)}else this._childArmature.animation.play()}}},n.prototype._updateGlobalTransformMatrix=function(t){var e=0===this._parent._boneData.type?this._parent.globalTransformMatrix:this._parent._getGlobalTransformMatrix(this.global.x,this.global.y);this.globalTransformMatrix.copyFrom(this._localMatrix),this.globalTransformMatrix.concat(e),t?this.global.fromMatrix(this.globalTransformMatrix):this._globalDirty=!0},n.prototype._setDisplayIndex=function(t,e){if(void 0===e&&(e=!1),e){if(this._animationDisplayIndex===t)return;this._animationDisplayIndex=t}this._displayIndex!==t&&(this._displayIndex=t<this._displayFrames.length?t:this._displayFrames.length-1,this._displayDataDirty=!0,this._displayDirty=this._displayIndex<0||this._display!==this._displayFrames[this._displayIndex].display)},n.prototype._setZOrder=function(t){return this._zOrder,this._zOrder=t,this._zOrderDirty=!0,this._zOrderDirty},n.prototype._setColor=function(t){return this._colorTransform.copyFrom(t),this._colorDirty=!0},n.prototype.init=function(t,e,r,i){if(null===this._slotData){this._slotData=t,this._colorDirty=!0,this._blendModeDirty=!0,this._blendMode=this._slotData.blendMode,this._zOrder=this._slotData.zOrder,this._zIndex=this._slotData.zIndex,this._alpha=this._slotData.alpha,this._colorTransform.copyFrom(this._slotData.color),this._rawDisplay=r,this._meshDisplay=i,this._armature=e;var n=this._armature.getBone(this._slotData.parent.name);null!==n&&(this._parent=n),this._armature._addSlot(this),this._initDisplay(this._rawDisplay,!1),this._rawDisplay!==this._meshDisplay&&this._initDisplay(this._meshDisplay,!1),this._onUpdateDisplay(),this._addDisplay()}},n.prototype.update=function(t){if(this._displayDataDirty&&(this._updateDisplayData(),this._displayDataDirty=!1),this._displayDirty&&(this._updateDisplay(),this._displayDirty=!1),(this._geometryDirty||this._textureDirty)&&(null!==this._display&&this._display!==this._rawDisplay&&this._display!==this._meshDisplay||this._updateFrame(),this._geometryDirty=!1,this._textureDirty=!1),null!==this._display){if(this._visibleDirty&&(this._updateVisible(),this._visibleDirty=!1),this._blendModeDirty&&(this._updateBlendMode(),this._blendModeDirty=!1),this._colorDirty&&(this._updateColor(),this._colorDirty=!1),this._zOrderDirty&&(this._updateZOrder(),this._zOrderDirty=!1),null!==this._geometryData&&this._display===this._meshDisplay){var e=null!==this._geometryData.weight,r=0!==this._parent._boneData.type;if((this._verticesDirty||e&&this._isBonesUpdate()||r&&this._parent._childrenTransformDirty)&&(this._verticesDirty=!1,this._updateMesh()),e||r)return}if(t>=0&&null!==this._cachedFrameIndices){var i=this._cachedFrameIndices[t];i>=0&&this._cachedFrameIndex===i?this._transformDirty=!1:i>=0?(this._transformDirty=!0,this._cachedFrameIndex=i):this._transformDirty||this._parent._childrenTransformDirty?(this._transformDirty=!0,this._cachedFrameIndex=-1):this._cachedFrameIndex>=0?(this._transformDirty=!1,this._cachedFrameIndices[t]=this._cachedFrameIndex):(this._transformDirty=!0,this._cachedFrameIndex=-1)}else(this._transformDirty||this._parent._childrenTransformDirty)&&(t=-1,this._transformDirty=!0,this._cachedFrameIndex=-1);if(this._transformDirty){if(this._cachedFrameIndex<0){var n=t>=0;this._updateGlobalTransformMatrix(n),n&&null!==this._cachedFrameIndices&&(this._cachedFrameIndex=this._cachedFrameIndices[t]=this._armature._armatureData.setCacheFrame(this.globalTransformMatrix,this.global))}else this._armature._armatureData.getCacheFrame(this.globalTransformMatrix,this.global,this._cachedFrameIndex);this._updateTransform(),this._transformDirty=!1}}},n.prototype.invalidUpdate=function(){this._displayDataDirty=!0,this._displayDirty=!0,this._transformDirty=!0},n.prototype.updateTransformAndMatrix=function(){this._transformDirty&&(this._updateGlobalTransformMatrix(!1),this._transformDirty=!1)},n.prototype.replaceRawDisplayData=function(t,e){if(void 0===e&&(e=-1),e<0)e=this._displayIndex<0?0:this._displayIndex;else if(e>=this._displayFrames.length)return;var r=this._displayFrames[e];if(r.rawDisplayData!==t){if(r.deformVertices.length=0,r.rawDisplayData=t,null===r.rawDisplayData){var i=this._armature._armatureData.defaultSkin;if(null!==i){var n=i.getDisplays(this._slotData.name);null!==n&&e<n.length&&(r.rawDisplayData=n[e])}}e===this._displayIndex&&(this._displayDataDirty=!0)}},n.prototype.replaceDisplayData=function(t,e){if(void 0===e&&(e=-1),e<0)e=this._displayIndex<0?0:this._displayIndex;else if(e>=this._displayFrames.length)return;var r=this._displayFrames[e];r.displayData!==t&&r.rawDisplayData!==t&&(r.displayData=t,e===this._displayIndex&&(this._displayDataDirty=!0))},n.prototype.replaceTextureData=function(t,e){if(void 0===e&&(e=-1),e<0)e=this._displayIndex<0?0:this._displayIndex;else if(e>=this._displayFrames.length)return;var r=this._displayFrames[e];r.textureData!==t&&(r.textureData=t,e===this._displayIndex&&(this._displayDataDirty=!0))},n.prototype.replaceDisplay=function(e,r){if(void 0===r&&(r=-1),r<0)r=this._displayIndex<0?0:this._displayIndex;else if(r>=this._displayFrames.length)return;var i=this._displayFrames[r];if(i.display!==e){var n=i.display;i.display=e,null===n||n===this._rawDisplay||n===this._meshDisplay||this._hasDisplay(n)||n instanceof t.Armature||this._disposeDisplay(n,!0),null===e||e===this._rawDisplay||e===this._meshDisplay||this._hasDisplay(n)||e instanceof t.Armature||this._initDisplay(e,!0),r===this._displayIndex&&(this._displayDirty=!0)}},n.prototype.containsPoint=function(t,e){return null!==this._boundingBoxData&&(this.updateTransformAndMatrix(),n._helpMatrix.copyFrom(this.globalTransformMatrix),n._helpMatrix.invert(),n._helpMatrix.transformPoint(t,e,n._helpPoint),this._boundingBoxData.containsPoint(n._helpPoint.x,n._helpPoint.y))},n.prototype.intersectsSegment=function(t,e,r,i,a,s,o){if(void 0===a&&(a=null),void 0===s&&(s=null),void 0===o&&(o=null),null===this._boundingBoxData)return 0;this.updateTransformAndMatrix(),n._helpMatrix.copyFrom(this.globalTransformMatrix),n._helpMatrix.invert(),n._helpMatrix.transformPoint(t,e,n._helpPoint),t=n._helpPoint.x,e=n._helpPoint.y,n._helpMatrix.transformPoint(r,i,n._helpPoint),r=n._helpPoint.x,i=n._helpPoint.y;var h=this._boundingBoxData.intersectsSegment(t,e,r,i,a,s,o);return h>0&&(1===h||2===h?null!==a?(this.globalTransformMatrix.transformPoint(a.x,a.y,a),null!==s&&(s.x=a.x,s.y=a.y)):null!==s&&this.globalTransformMatrix.transformPoint(s.x,s.y,s):(null!==a&&this.globalTransformMatrix.transformPoint(a.x,a.y,a),null!==s&&this.globalTransformMatrix.transformPoint(s.x,s.y,s)),null!==o&&(this.globalTransformMatrix.transformPoint(Math.cos(o.x),Math.sin(o.x),n._helpPoint,!0),o.x=Math.atan2(n._helpPoint.y,n._helpPoint.x),this.globalTransformMatrix.transformPoint(Math.cos(o.y),Math.sin(o.y),n._helpPoint,!0),o.y=Math.atan2(n._helpPoint.y,n._helpPoint.x))),h},n.prototype.getDisplayFrameAt=function(t){return this._displayFrames[t]},Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this._updateVisible())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayFrameCount",{get:function(){return this._displayFrames.length},set:function(r){var i=this._displayFrames.length;if(i<r){this._displayFrames.length=r;for(var n=i;n<r;++n)this._displayFrames[n]=t.BaseObject.borrowObject(e)}else if(i>r){for(n=i-1;n<r;--n)this.replaceDisplay(null,n),this._displayFrames[n].returnToPool();this._displayFrames.length=r}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayIndex",{get:function(){return this._displayIndex},set:function(t){this._setDisplayIndex(t),this.update(-1)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._slotData.name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayList",{get:function(){for(var t=new Array,e=0,r=this._displayFrames;e<r.length;e++){var i=r[e];t.push(i.display)}return t},set:function(t){this.displayFrameCount=t.length;for(var e=0,r=0,i=t;r<i.length;r++){var n=i[r];this.replaceDisplay(n,e++)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"slotData",{get:function(){return this._slotData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"boundingBoxData",{get:function(){return this._boundingBoxData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rawDisplay",{get:function(){return this._rawDisplay},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"meshDisplay",{get:function(){return this._meshDisplay},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"display",{get:function(){return this._display},set:function(t){this._display!==t&&(0===this._displayFrames.length&&(this.displayFrameCount=1,this._displayIndex=0),this.replaceDisplay(t,this._displayIndex))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"childArmature",{get:function(){return this._childArmature},set:function(t){this._childArmature!==t&&(this.display=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),n.prototype.getDisplay=function(){return this._display},n.prototype.setDisplay=function(t){this.display=t},n}(t.TransformObject);t.Slot=r}(n||(n={})),function(t){var e=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return i(r,e),r.prototype._onClear=function(){this._armature=null,this._target=null,this._root=null,this._bone=null},Object.defineProperty(r.prototype,"name",{get:function(){return this._constraintData.name},enumerable:!0,configurable:!0}),r._helpMatrix=new t.Matrix,r._helpTransform=new t.Transform,r._helpPoint=new t.Point,r}(t.BaseObject);t.Constraint=e;var r=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return i(r,e),r.toString=function(){return"[class dragonBones.IKConstraint]"},r.prototype._onClear=function(){e.prototype._onClear.call(this),this._scaleEnabled=!1,this._bendPositive=!1,this._weight=1,this._constraintData=null},r.prototype._computeA=function(){var e=this._target.global,r=this._root.global,i=this._root.globalTransformMatrix,n=Math.atan2(e.y-r.y,e.x-r.x);r.scaleX<0&&(n+=Math.PI),r.rotation+=t.Transform.normalizeRadian(n-r.rotation)*this._weight,r.toMatrix(i)},r.prototype._computeB=function(){var e=this._bone._boneData.length,r=this._root,i=this._target.global,n=r.global,a=this._bone.global,s=this._bone.globalTransformMatrix,o=s.a*e,h=s.b*e,l=o*o+h*h,u=Math.sqrt(l),c=a.x-n.x,f=a.y-n.y,p=c*c+f*f,d=Math.sqrt(p),_=a.rotation,m=n.rotation,y=Math.atan2(f,c);c=i.x-n.x,f=i.y-n.y;var v=c*c+f*f,g=Math.sqrt(v),b=0;if(u+d<=g||g+u<=d||g+d<=u)b=Math.atan2(i.y-n.y,i.x-n.x),u+d<=g||d<u&&(b+=Math.PI);else{var x=(p-l+v)/(2*v),T=Math.sqrt(p-x*x*v)/g,D=n.x+c*x,A=n.y+f*x,w=-f*T,S=c*T,E=!1,P=r.parent;if(null!==P){var O=P.globalTransformMatrix;E=O.a*O.d-O.b*O.c<0}E!==this._bendPositive?(a.x=D-w,a.y=A-S):(a.x=D+w,a.y=A+S),b=Math.atan2(a.y-n.y,a.x-n.x)}var I=t.Transform.normalizeRadian(b-y);n.rotation=m+I*this._weight,n.toMatrix(r.globalTransformMatrix);var C=y+I*this._weight;a.x=n.x+Math.cos(C)*d,a.y=n.y+Math.sin(C)*d;var M=Math.atan2(i.y-a.y,i.x-a.x);a.scaleX<0&&(M+=Math.PI),a.rotation=n.rotation+_-m+t.Transform.normalizeRadian(M-I-_)*this._weight,a.toMatrix(s)},r.prototype.init=function(t,e){if(null===this._constraintData){this._constraintData=t,this._armature=e,this._target=this._armature.getBone(this._constraintData.target.name),this._root=this._armature.getBone(this._constraintData.root.name),this._bone=null!==this._constraintData.bone?this._armature.getBone(this._constraintData.bone.name):null;var r=this._constraintData;this._scaleEnabled=r.scaleEnabled,this._bendPositive=r.bendPositive,this._weight=r.weight,this._root._hasConstraint=!0}},r.prototype.update=function(){this._root.updateByConstraint(),null!==this._bone?(this._bone.updateByConstraint(),this._computeB()):this._computeA()},r.prototype.invalidUpdate=function(){this._root.invalidUpdate(),null!==this._bone&&this._bone.invalidUpdate()},r}(e);t.IKConstraint=r;var n=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t._bones=[],t._spaces=[],t._positions=[],t._curves=[],t._boneLengths=[],t._pathGlobalVertices=[],t._segments=[10],t}return i(r,e),r.toString=function(){return"[class dragonBones.PathConstraint]"},r.prototype._onClear=function(){e.prototype._onClear.call(this),this.dirty=!1,this.pathOffset=0,this.position=0,this.spacing=0,this.rotateOffset=0,this.rotateMix=1,this.translateMix=1,this._pathSlot=null,this._bones.length=0,this._spaces.length=0,this._positions.length=0,this._curves.length=0,this._boneLengths.length=0,this._pathGlobalVertices.length=0},r.prototype._updatePathVertices=function(t){var e=this._armature,r=e.armatureData.parent,i=e.armatureData.scale,n=r.intArray,a=r.floatArray,s=t.offset,o=n[s+0],h=n[s+2];this._pathGlobalVertices.length=2*o;var l=t.weight;if(null!==l)for(var u=this._pathSlot._geometryBones,c=l.bones.length,f=l.offset,p=n[f+1],d=p,_=f+2+c,m=(E=0,0);E<o;E++){for(var y=n[_++],v=0,g=0,b=0,x=y;b<x;b++){var T=n[_++],D=u[T];if(null!==D){D.updateByConstraint();S=D.globalTransformMatrix;var A=a[d++];O=a[d++]*i,I=a[d++]*i;v+=(S.a*O+S.c*I+S.tx)*A,g+=(S.b*O+S.d*I+S.ty)*A}}this._pathGlobalVertices[m++]=v,this._pathGlobalVertices[m++]=g}else{var w=this._pathSlot.parent;w.updateByConstraint();for(var S=w.globalTransformMatrix,E=0,P=h;E<o;E+=2){var O=a[P++]*i,I=a[P++]*i,C=S.a*O+S.c*I+S.tx,M=S.b*O+S.d*I+S.ty;this._pathGlobalVertices[E]=C,this._pathGlobalVertices[E+1]=M}}},r.prototype._computeVertices=function(t,e,r,i){for(var n=r,a=t;n<e;n+=2)i[n]=this._pathGlobalVertices[a++],i[n+1]=this._pathGlobalVertices[a++]},r.prototype._computeBezierCurve=function(t,e,r,i,n){var a=this._armature,s=a.armatureData.parent.intArray,o=s[t.geometry.offset+0],h=this._positions,l=this._spaces,u=t.closed,c=Array(),f=2*o,p=f/6,d=-1,_=this.position;h.length=3*e+2;var m=0;if(t.constantSpeed){u?(f+=2,c.length=o,this._computeVertices(2,f-4,0,c),this._computeVertices(0,2,f-4,c),c[f-2]=c[0],c[f-1]=c[1]):(p--,f-=4,c.length=f,this._computeVertices(2,f,0,c));var y=new Array(p);m=0;for(var v,g,b,x,T,D,A,w,S=c[0],E=c[1],P=0,O=0,I=0,C=0,M=0,F=0,R=(Y=0,2);Y<p;Y++,R+=6)P=c[R],O=c[R+1],I=c[R+2],C=c[R+3],M=c[R+4],F=c[R+5],v=.1875*(S-2*P+I),g=.1875*(E-2*O+C),b=.09375*(3*(P-I)-S+M),x=.09375*(3*(O-C)-E+F),T=2*v+b,D=2*g+x,A=.75*(P-S)+v+.16666667*b,w=.75*(O-E)+g+.16666667*x,m+=Math.sqrt(A*A+w*w),A+=T,w+=D,T+=b,D+=x,m+=Math.sqrt(A*A+w*w),A+=T,w+=D,m+=Math.sqrt(A*A+w*w),A+=T+b,w+=D+x,m+=Math.sqrt(A*A+w*w),y[Y]=m,S=M,E=F;if(i&&(_*=m),n)for(Y=0;Y<e;Y++)l[Y]*=m;for(var B=this._segments,N=0,L=(Y=0,H=0,z=0,0);Y<e;Y++,H+=3){W=l[Y];_+=W;var k=_;if(u)k%=m,k<0&&(k+=m),z=0;else{if(k<0)continue;if(k>m)continue}for(;;z++){var j=y[z];if(!(k>j)){if(0===z)k/=j;else{var U=y[z-1];k=(k-U)/(j-U)}break}}if(z!==d){d=z;var X=6*z;for(S=c[X],E=c[X+1],P=c[X+2],O=c[X+3],I=c[X+4],C=c[X+5],M=c[X+6],F=c[X+7],v=.03*(S-2*P+I),g=.03*(E-2*O+C),b=.006*(3*(P-I)-S+M),x=.006*(3*(O-C)-E+F),T=2*v+b,D=2*g+x,A=.3*(P-S)+v+.16666667*b,w=.3*(O-E)+g+.16666667*x,N=Math.sqrt(A*A+w*w),B[0]=N,X=1;X<8;X++)A+=T,w+=D,T+=b,D+=x,N+=Math.sqrt(A*A+w*w),B[X]=N;A+=T,w+=D,N+=Math.sqrt(A*A+w*w),B[8]=N,A+=T+b,w+=D+x,N+=Math.sqrt(A*A+w*w),B[9]=N,L=0}for(k*=N;;L++){var V=B[L];if(!(k>V)){if(0===L)k/=V;else{U=B[L-1];k=L+(k-U)/(V-U)}break}}this.addCurvePosition(.1*k,S,E,P,O,I,C,M,F,h,H,r)}}else{var G=t.curveLengths;if(p-=u?1:2,m=G[p],i&&(_*=m),n)for(var Y=0;Y<e;Y++)l[Y]*=m;c.length=8;for(var Y=0,H=0,z=0;Y<e;Y++,H+=3){var W=l[Y];if(_+=W,u)_%=m,_<0&&(_+=m),z=0;else{if(_<0)continue;if(_>m)continue}for(var $=0;;z++){var q=G[z];if(!(_>q)){if(0===z)$=_/q;else{var K=G[z-1];$=(_-K)/(q-K)}break}}z!==d&&(d=z,u&&z===p?(this._computeVertices(f-4,4,0,c),this._computeVertices(0,4,4,c)):this._computeVertices(6*z+2,8,0,c)),this.addCurvePosition($,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],h,H,r)}}},r.prototype.addCurvePosition=function(t,e,r,i,n,a,s,o,h,l,u,c){if(0===t)return l[u]=e,l[u+1]=r,void(l[u+2]=0);if(1===t)return l[u]=o,l[u+1]=h,void(l[u+2]=0);var f=1-t,p=f*f,d=t*t,_=p*f,m=p*t*3,y=f*d*3,v=t*d,g=_*e+m*i+y*a+v*o,b=_*r+m*n+y*s+v*h;l[u]=g,l[u+1]=b,l[u+2]=c?Math.atan2(b-(_*r+m*n+y*s),g-(_*e+m*i+y*a)):0},r.prototype.init=function(t,e){this._constraintData=t,this._armature=e;var r=t;this.pathOffset=r.pathDisplayData.geometry.offset,this.position=r.position,this.spacing=r.spacing,this.rotateOffset=r.rotateOffset,this.rotateMix=r.rotateMix,this.translateMix=r.translateMix,this._root=this._armature.getBone(r.root.name),this._target=this._armature.getBone(r.target.name),this._pathSlot=this._armature.getSlot(r.pathSlot.name);for(var i=0,n=r.bones.length;i<n;i++){var a=this._armature.getBone(r.bones[i].name);null!==a&&this._bones.push(a)}2===r.rotateMode&&(this._boneLengths.length=this._bones.length),this._root._hasConstraint=!0},r.prototype.update=function(){var e=this._pathSlot;if(null!==e._geometryData&&e._geometryData.offset===this.pathOffset){var r=this._constraintData,i=!1;if(this._root._childrenTransformDirty?(this._updatePathVertices(e._geometryData),i=!0):(e._verticesDirty||e._isBonesUpdate())&&(this._updatePathVertices(e._geometryData),e._verticesDirty=!1,i=!0),i||this.dirty){var n=r.positionMode,a=r.spacingMode,s=r.rotateMode,o=this._bones,h=0===a,l=2===s,u=0===s,c=o.length,f=u?c:c+1,p=this.spacing,d=this._spaces;if(d.length=f,l||h){d[0]=0;for(var _=0,m=f-1;_<m;_++){var y=o[_];y.updateByConstraint();var v=y._boneData.length,g=y.globalTransformMatrix,b=v*g.a,x=v*g.b,T=Math.sqrt(b*b+x*x);l&&(this._boneLengths[_]=T),d[_+1]=(v+p)*T/v}}else for(_=0;_<f;_++)d[_]=p;this._computeBezierCurve(e._displayFrame.rawDisplayData,f,u,1===n,2===a);var D,A=this._positions,w=this.rotateOffset,S=A[0],E=A[1];if(0===w)D=1===s;else{D=!1;y=e.parent;if(null!==y){g=y.globalTransformMatrix;w*=g.a*g.d-g.b*g.c>0?t.Transform.DEG_RAD:-t.Transform.DEG_RAD}}for(var P=this.rotateMix,O=this.translateMix,I=(_=0,3);_<c;_++,I+=3){y=o[_];y.updateByConstraint();g=y.globalTransformMatrix;g.tx+=(S-g.tx)*O,g.ty+=(E-g.ty)*O;b=A[I],x=A[I+1];var C=b-S,M=x-E;if(l){var F=this._boneLengths[_],R=(Math.sqrt(C*C+M*M)/F-1)*P+1;g.a*=R,g.b*=R}if(S=b,E=x,P>0){var B=g.a,N=g.b,L=g.c,k=g.d,j=void 0,U=void 0,X=void 0;if(j=u?A[I-1]:Math.atan2(M,C),j-=Math.atan2(N,B),D){U=Math.cos(j),X=Math.sin(j);var V=y._boneData.length;S+=(V*(U*B-X*N)-C)*P,E+=(V*(X*B+U*N)-M)*P}else j+=w;j>t.Transform.PI?j-=t.Transform.PI_D:j<-t.Transform.PI&&(j+=t.Transform.PI_D),j*=P,U=Math.cos(j),X=Math.sin(j),g.a=U*B-X*N,g.b=X*B+U*N,g.c=U*L-X*k,g.d=X*L+U*k}y.global.fromMatrix(g)}this.dirty=!1}}},r.prototype.invalidUpdate=function(){},r}(e);t.PathConstraint=n}(n||(n={})),function(t){var e=function(){function t(t){void 0===t&&(t=0),this.time=0,this.timeScale=1,this._systemTime=0,this._animatebles=[],this._clock=null,this.time=t,this._systemTime=.001*(new Date).getTime()}return t.prototype.advanceTime=function(t){t!==t&&(t=0);var e=.001*Date.now();if(t<0&&(t=e-this._systemTime),this._systemTime=e,1!==this.timeScale&&(t*=this.timeScale),0!==t){t<0?this.time-=t:this.time+=t;for(var r=0,i=0,n=this._animatebles.length;r<n;++r){var a=this._animatebles[r];null!==a?(i>0&&(this._animatebles[r-i]=a,this._animatebles[r]=null),a.advanceTime(t)):i++}if(i>0){for(n=this._animatebles.length;r<n;++r){var s=this._animatebles[r];null!==s?this._animatebles[r-i]=s:i++}this._animatebles.length-=i}}},t.prototype.contains=function(t){if(t===this)return!1;var e=t;while(e!==this&&null!==e)e=e.clock;return e===this},t.prototype.add=function(t){this._animatebles.indexOf(t)<0&&(this._animatebles.push(t),t.clock=this)},t.prototype.remove=function(t){var e=this._animatebles.indexOf(t);e>=0&&(this._animatebles[e]=null,t.clock=null)},t.prototype.clear=function(){for(var t=0,e=this._animatebles;t<e.length;t++){var r=e[t];null!==r&&(r.clock=null)}},Object.defineProperty(t.prototype,"clock",{get:function(){return this._clock},set:function(t){this._clock!==t&&(null!==this._clock&&this._clock.remove(this),this._clock=t,null!==this._clock&&this._clock.add(this))},enumerable:!0,configurable:!0}),t}();t.WorldClock=e}(n||(n={})),function(t){var e=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t._animationNames=[],t._animationStates=[],t._animations={},t._blendStates={},t._animationConfig=null,t}return i(r,e),r.toString=function(){return"[class dragonBones.Animation]"},r.prototype._onClear=function(){for(var t=0,e=this._animationStates;t<e.length;t++){var r=e[t];r.returnToPool()}for(var i in this._animations)delete this._animations[i];for(var i in this._blendStates){var n=this._blendStates[i];for(var a in n)n[a].returnToPool();delete this._blendStates[i]}null!==this._animationConfig&&this._animationConfig.returnToPool(),this.timeScale=1,this._animationDirty=!1,this._inheritTimeScale=1,this._animationNames.length=0,this._animationStates.length=0,this._armature=null,this._animationConfig=null,this._lastAnimationState=null},r.prototype._fadeOut=function(t){switch(t.fadeOutMode){case 1:for(var e=0,r=this._animationStates;e<r.length;e++){var i=r[e];null===i._parent&&(i.layer===t.layer&&i.fadeOut(t.fadeOutTime,t.pauseFadeOut))}break;case 2:for(var n=0,a=this._animationStates;n<a.length;n++){i=a[n];null===i._parent&&(i.group===t.group&&i.fadeOut(t.fadeOutTime,t.pauseFadeOut))}break;case 3:for(var s=0,o=this._animationStates;s<o.length;s++){i=o[s];null===i._parent&&(i.layer===t.layer&&i.group===t.group&&i.fadeOut(t.fadeOutTime,t.pauseFadeOut))}break;case 4:for(var h=0,l=this._animationStates;h<l.length;h++){i=l[h];null===i._parent&&i.fadeOut(t.fadeOutTime,t.pauseFadeOut)}break;case 5:default:break}},r.prototype.init=function(e){null===this._armature&&(this._armature=e,this._animationConfig=t.BaseObject.borrowObject(t.AnimationConfig))},r.prototype.advanceTime=function(t){for(var e in t<0&&(t=-t),this._armature.inheritAnimation&&null!==this._armature._parent?this._inheritTimeScale=this._armature._parent._armature.animation._inheritTimeScale*this.timeScale:this._inheritTimeScale=this.timeScale,1!==this._inheritTimeScale&&(t*=this._inheritTimeScale),this._blendStates){var r=this._blendStates[e];for(var i in r)r[i].reset()}var n=this._animationStates.length;if(1===n){var a=this._animationStates[0];if(a._fadeState>0&&a._subFadeState>0)this._armature._dragonBones.bufferObject(a),this._animationStates.length=0,this._lastAnimationState=null;else{var s=a.animationData,o=s.cacheFrameRate;if(this._animationDirty&&o>0){this._animationDirty=!1;for(var h=0,l=this._armature.getBones();h<l.length;h++){var u=l[h];u._cachedFrameIndices=s.getBoneCachedFrameIndices(u.name)}for(var c=0,f=this._armature.getSlots();c<f.length;c++){var p=f[c];if(p.displayFrameCount>0){var d=p.getDisplayFrameAt(0).rawDisplayData;if(null!==d&&d.parent===this._armature.armatureData.defaultSkin){p._cachedFrameIndices=s.getSlotCachedFrameIndices(p.name);continue}}p._cachedFrameIndices=null}}a.advanceTime(t,o)}}else if(n>1){for(var _=0,m=0;_<n;++_){a=this._animationStates[_];a._fadeState>0&&a._subFadeState>0?(m++,this._armature._dragonBones.bufferObject(a),this._animationDirty=!0,this._lastAnimationState===a&&(this._lastAnimationState=null)):(m>0&&(this._animationStates[_-m]=a),a.advanceTime(t,0)),_===n-1&&m>0&&(this._animationStates.length-=m,null===this._lastAnimationState&&this._animationStates.length>0&&(this._lastAnimationState=this._animationStates[this._animationStates.length-1]))}this._armature._cacheFrameIndex=-1}else this._armature._cacheFrameIndex=-1},r.prototype.reset=function(){for(var t=0,e=this._animationStates;t<e.length;t++){var r=e[t];r.returnToPool()}this._animationDirty=!1,this._animationConfig.clear(),this._animationStates.length=0,this._lastAnimationState=null},r.prototype.stop=function(t){if(void 0===t&&(t=null),null!==t){var e=this.getState(t);null!==e&&e.stop()}else for(var r=0,i=this._animationStates;r<i.length;r++){e=i[r];e.stop()}},r.prototype.playConfig=function(e){var r=e.animation;if(!(r in this._animations))return console.warn("Non-existent animation.\n","DragonBones name: "+this._armature.armatureData.parent.name,"Armature name: "+this._armature.name,"Animation name: "+r),null;var i=this._animations[r];if(5===e.fadeOutMode)for(var n=0,a=this._animationStates;n<a.length;n++){var s=a[n];if(s._fadeState<1&&s.layer===e.layer&&s.animationData===i)return s}0===this._animationStates.length?e.fadeInTime=0:e.fadeInTime<0&&(e.fadeInTime=i.fadeInTime),e.fadeOutTime<0&&(e.fadeOutTime=e.fadeInTime),e.timeScale<=-100&&(e.timeScale=1/i.scale),i.frameCount>0?(e.position<0?(e.position%=i.duration,e.position=i.duration-e.position):e.position===i.duration?e.position-=1e-6:e.position>i.duration&&(e.position%=i.duration),e.duration>0&&e.position+e.duration>i.duration&&(e.duration=i.duration-e.position),e.playTimes<0&&(e.playTimes=i.playTimes)):(e.playTimes=1,e.position=0,e.duration>0&&(e.duration=0)),0===e.duration&&(e.duration=-1),this._fadeOut(e);var o=t.BaseObject.borrowObject(t.AnimationState);if(o.init(this._armature,i,e),this._animationDirty=!0,this._armature._cacheFrameIndex=-1,this._animationStates.length>0){for(var h=!1,l=0,u=this._animationStates.length;l<u;++l){if(o.layer>this._animationStates[l].layer){h=!0,this._animationStates.splice(l,0,o);break}if(l!==u-1&&o.layer>this._animationStates[l+1].layer){h=!0,this._animationStates.splice(l+1,0,o);break}}h||this._animationStates.push(o)}else this._animationStates.push(o);for(var c=0,f=this._armature.getSlots();c<f.length;c++){var p=f[c],d=p.childArmature;null!==d&&d.inheritAnimation&&d.animation.hasAnimation(r)&&null===d.animation.getState(r)&&d.animation.fadeIn(r)}for(var _ in i.animationTimelines){var m=this.fadeIn(_,0,1,o.layer,"",5);if(null!==m){var y=i.animationTimelines[_];m.actionEnabled=!1,m.resetToPose=!1,m.stop(),o.addState(m,y);var v=this._animationStates.indexOf(o),g=this._animationStates.indexOf(m);g<v&&(this._animationStates.splice(v,1),this._animationStates.splice(g,0,o))}}return this._lastAnimationState=o,o},r.prototype.play=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=-1),this._animationConfig.clear(),this._animationConfig.resetToPose=!0,this._animationConfig.playTimes=e,this._animationConfig.fadeInTime=0,this._animationConfig.animation=null!==t?t:"",null!==t&&t.length>0)this.playConfig(this._animationConfig);else if(null===this._lastAnimationState){var r=this._armature.armatureData.defaultAnimation;null!==r&&(this._animationConfig.animation=r.name,this.playConfig(this._animationConfig))}else this._lastAnimationState.isPlaying||this._lastAnimationState.isCompleted?(this._animationConfig.animation=this._lastAnimationState.name,this.playConfig(this._animationConfig)):this._lastAnimationState.play();return this._lastAnimationState},r.prototype.fadeIn=function(t,e,r,i,n,a){return void 0===e&&(e=-1),void 0===r&&(r=-1),void 0===i&&(i=0),void 0===n&&(n=null),void 0===a&&(a=3),this._animationConfig.clear(),this._animationConfig.fadeOutMode=a,this._animationConfig.playTimes=r,this._animationConfig.layer=i,this._animationConfig.fadeInTime=e,this._animationConfig.animation=t,this._animationConfig.group=null!==n?n:"",this.playConfig(this._animationConfig)},r.prototype.gotoAndPlayByTime=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=-1),this._animationConfig.clear(),this._animationConfig.resetToPose=!0,this._animationConfig.playTimes=r,this._animationConfig.position=e,this._animationConfig.fadeInTime=0,this._animationConfig.animation=t,this.playConfig(this._animationConfig)},r.prototype.gotoAndPlayByFrame=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=-1),this._animationConfig.clear(),this._animationConfig.resetToPose=!0,this._animationConfig.playTimes=r,this._animationConfig.fadeInTime=0,this._animationConfig.animation=t;var i=t in this._animations?this._animations[t]:null;return null!==i&&(this._animationConfig.position=i.frameCount>0?i.duration*e/i.frameCount:0),this.playConfig(this._animationConfig)},r.prototype.gotoAndPlayByProgress=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=-1),this._animationConfig.clear(),this._animationConfig.resetToPose=!0,this._animationConfig.playTimes=r,this._animationConfig.fadeInTime=0,this._animationConfig.animation=t;var i=t in this._animations?this._animations[t]:null;return null!==i&&(this._animationConfig.position=i.duration*(e>0?e:0)),this.playConfig(this._animationConfig)},r.prototype.gotoAndStopByTime=function(t,e){void 0===e&&(e=0);var r=this.gotoAndPlayByTime(t,e,1);return null!==r&&r.stop(),r},r.prototype.gotoAndStopByFrame=function(t,e){void 0===e&&(e=0);var r=this.gotoAndPlayByFrame(t,e,1);return null!==r&&r.stop(),r},r.prototype.gotoAndStopByProgress=function(t,e){void 0===e&&(e=0);var r=this.gotoAndPlayByProgress(t,e,1);return null!==r&&r.stop(),r},r.prototype.getBlendState=function(e,r,i){e in this._blendStates||(this._blendStates[e]={});var n=this._blendStates[e];if(!(r in n)){var a=n[r]=t.BaseObject.borrowObject(t.BlendState);a.target=i}return n[r]},r.prototype.getState=function(t,e){void 0===e&&(e=-1);var r=this._animationStates.length;while(r--){var i=this._animationStates[r];if(i.name===t&&(e<0||i.layer===e))return i}return null},r.prototype.hasAnimation=function(t){return t in this._animations},r.prototype.getStates=function(){return this._animationStates},Object.defineProperty(r.prototype,"isPlaying",{get:function(){for(var t=0,e=this._animationStates;t<e.length;t++){var r=e[t];if(r.isPlaying)return!0}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isCompleted",{get:function(){for(var t=0,e=this._animationStates;t<e.length;t++){var r=e[t];if(!r.isCompleted)return!1}return this._animationStates.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lastAnimationName",{get:function(){return null!==this._lastAnimationState?this._lastAnimationState.name:""},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"animationNames",{get:function(){return this._animationNames},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"animations",{get:function(){return this._animations},set:function(t){if(this._animations!==t){for(var e in this._animationNames.length=0,this._animations)delete this._animations[e];for(var e in t)this._animationNames.push(e),this._animations[e]=t[e]}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"animationConfig",{get:function(){return this._animationConfig.clear(),this._animationConfig},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lastAnimationState",{get:function(){return this._lastAnimationState},enumerable:!0,configurable:!0}),r}(t.BaseObject);t.Animation=e}(n||(n={})),function(t){var e=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t._boneMask=[],t._boneTimelines=[],t._boneBlendTimelines=[],t._slotTimelines=[],t._slotBlendTimelines=[],t._constraintTimelines=[],t._animationTimelines=[],t._poseTimelines=[],t._actionTimeline=null,t._zOrderTimeline=null,t}return i(n,e),n.toString=function(){return"[class dragonBones.AnimationState]"},n.prototype._onClear=function(){for(var t=0,e=this._boneTimelines;t<e.length;t++){var r=e[t];r.returnToPool()}for(var i=0,n=this._boneBlendTimelines;i<n.length;i++){r=n[i];r.returnToPool()}for(var a=0,s=this._slotTimelines;a<s.length;a++){r=s[a];r.returnToPool()}for(var o=0,h=this._slotBlendTimelines;o<h.length;o++){r=h[o];r.returnToPool()}for(var l=0,u=this._constraintTimelines;l<u.length;l++){r=u[l];r.returnToPool()}for(var c=0,f=this._animationTimelines;c<f.length;c++){r=f[c];var p=r.target;p._parent===this&&(p._fadeState=1,p._subFadeState=1,p._parent=null),r.returnToPool()}null!==this._actionTimeline&&this._actionTimeline.returnToPool(),null!==this._zOrderTimeline&&this._zOrderTimeline.returnToPool(),this.actionEnabled=!1,this.additive=!1,this.displayControl=!1,this.resetToPose=!1,this.blendType=0,this.playTimes=1,this.layer=0,this.timeScale=1,this._weight=1,this.parameterX=0,this.parameterY=0,this.positionX=0,this.positionY=0,this.autoFadeOutTime=0,this.fadeTotalTime=0,this.name="",this.group="",this._timelineDirty=2,this._playheadState=0,this._fadeState=-1,this._subFadeState=-1,this._position=0,this._duration=0,this._fadeTime=0,this._time=0,this._fadeProgress=0,this._weightResult=0,this._boneMask.length=0,this._boneTimelines.length=0,this._boneBlendTimelines.length=0,this._slotTimelines.length=0,this._slotBlendTimelines.length=0,this._constraintTimelines.length=0,this._animationTimelines.length=0,this._poseTimelines.length=0,this._animationData=null,this._armature=null,this._actionTimeline=null,this._zOrderTimeline=null,this._activeChildA=null,this._activeChildB=null,this._parent=null},n.prototype._updateTimelines=function(){for(var e=0,r=this._armature._constraints;e<r.length;e++){var i=r[e],n=this._animationData.getConstraintTimelines(i.name);if(null!==n)for(var a=0,s=n;a<s.length;a++){var o=s[a];switch(o.type){case 30:var h=t.BaseObject.borrowObject(t.IKConstraintTimelineState);h.target=i,h.init(this._armature,this,o),this._constraintTimelines.push(h);break;default:break}}else if(this.resetToPose){h=t.BaseObject.borrowObject(t.IKConstraintTimelineState);h.target=i,h.init(this._armature,this,null),this._constraintTimelines.push(h),this._poseTimelines.push(h)}}},n.prototype._updateBoneAndSlotTimelines=function(){for(var e={},i=0,n=this._boneTimelines;i<n.length;i++){var a=n[i],s=a.target.target.name;s in e||(e[s]=[]),e[s].push(a)}for(var o=0,h=this._boneBlendTimelines;o<h.length;o++){a=h[o],s=a.target.target.name;s in e||(e[s]=[]),e[s].push(a)}for(var l=0,u=this._armature.getBones();l<u.length;l++){var c=u[l];s=c.name;if(this.containsBoneMask(s))if(s in e)delete e[s];else{var f=this._animationData.getBoneTimelines(s),p=this._armature.animation.getBlendState(r.BONE_TRANSFORM,c.name,c);if(null!==f)for(var d=0,_=f;d<_.length;d++){var m=_[d];switch(m.type){case 10:a=t.BaseObject.borrowObject(t.BoneAllTimelineState);a.target=p,a.init(this._armature,this,m),this._boneTimelines.push(a);break;case 11:a=t.BaseObject.borrowObject(t.BoneTranslateTimelineState);a.target=p,a.init(this._armature,this,m),this._boneTimelines.push(a);break;case 12:a=t.BaseObject.borrowObject(t.BoneRotateTimelineState);a.target=p,a.init(this._armature,this,m),this._boneTimelines.push(a);break;case 13:a=t.BaseObject.borrowObject(t.BoneScaleTimelineState);a.target=p,a.init(this._armature,this,m),this._boneTimelines.push(a);break;case 60:a=t.BaseObject.borrowObject(t.AlphaTimelineState);a.target=this._armature.animation.getBlendState(r.BONE_ALPHA,c.name,c),a.init(this._armature,this,m),this._boneBlendTimelines.push(a);break;case 50:a=t.BaseObject.borrowObject(t.SurfaceTimelineState);a.target=this._armature.animation.getBlendState(r.SURFACE,c.name,c),a.init(this._armature,this,m),this._boneBlendTimelines.push(a);break;default:break}}else if(this.resetToPose)if(0===c._boneData.type){a=t.BaseObject.borrowObject(t.BoneAllTimelineState);a.target=p,a.init(this._armature,this,null),this._boneTimelines.push(a),this._poseTimelines.push(a)}else{a=t.BaseObject.borrowObject(t.SurfaceTimelineState);a.target=this._armature.animation.getBlendState(r.SURFACE,c.name,c),a.init(this._armature,this,null),this._boneBlendTimelines.push(a),this._poseTimelines.push(a)}}}for(var y in e)for(var v=0,g=e[y];v<g.length;v++){a=g[v];var b=this._boneTimelines.indexOf(a);b>=0&&(this._boneTimelines.splice(b,1),a.returnToPool()),b=this._boneBlendTimelines.indexOf(a),b>=0&&(this._boneBlendTimelines.splice(b,1),a.returnToPool())}for(var x={},T=[],D=0,A=this._slotTimelines;D<A.length;D++){a=A[D],s=a.target.name;s in x||(x[s]=[]),x[s].push(a)}for(var w=0,S=this._slotBlendTimelines;w<S.length;w++){a=S[w],s=a.target.target.name;s in x||(x[s]=[]),x[s].push(a)}for(var E=0,P=this._armature.getSlots();E<P.length;E++){var O=P[E],I=O.parent.name;if(this.containsBoneMask(I)){s=O.name;if(s in x)delete x[s];else{var C=!1,M=!1;T.length=0;f=this._animationData.getSlotTimelines(s);if(null!==f)for(var F=0,R=f;F<R.length;F++){m=R[F];switch(m.type){case 20:a=t.BaseObject.borrowObject(t.SlotDisplayTimelineState);a.target=O,a.init(this._armature,this,m),this._slotTimelines.push(a),C=!0;break;case 23:a=t.BaseObject.borrowObject(t.SlotZIndexTimelineState);a.target=this._armature.animation.getBlendState(r.SLOT_Z_INDEX,O.name,O),a.init(this._armature,this,m),this._slotBlendTimelines.push(a);break;case 21:a=t.BaseObject.borrowObject(t.SlotColorTimelineState);a.target=O,a.init(this._armature,this,m),this._slotTimelines.push(a),M=!0;break;case 22:a=t.BaseObject.borrowObject(t.DeformTimelineState);a.target=this._armature.animation.getBlendState(r.SLOT_DEFORM,O.name,O),a.init(this._armature,this,m),null!==a.target?(this._slotBlendTimelines.push(a),T.push(a.geometryOffset)):a.returnToPool();break;case 24:a=t.BaseObject.borrowObject(t.AlphaTimelineState);a.target=this._armature.animation.getBlendState(r.SLOT_ALPHA,O.name,O),a.init(this._armature,this,m),this._slotBlendTimelines.push(a);break;default:break}}if(this.resetToPose){if(!C){a=t.BaseObject.borrowObject(t.SlotDisplayTimelineState);a.target=O,a.init(this._armature,this,null),this._slotTimelines.push(a),this._poseTimelines.push(a)}if(!M){a=t.BaseObject.borrowObject(t.SlotColorTimelineState);a.target=O,a.init(this._armature,this,null),this._slotTimelines.push(a),this._poseTimelines.push(a)}for(var B=0,N=O.displayFrameCount;B<N;++B){var L=O.getDisplayFrameAt(B);if(0!==L.deformVertices.length){var k=L.getGeometryData();if(null!==k&&T.indexOf(k.offset)<0){a=t.BaseObject.borrowObject(t.DeformTimelineState);a.geometryOffset=k.offset,a.displayFrame=L,a.target=this._armature.animation.getBlendState(r.SLOT_DEFORM,O.name,O),a.init(this._armature,this,null),this._slotBlendTimelines.push(a),this._poseTimelines.push(a)}}}}}}}for(var y in x)for(var j=0,U=x[y];j<U.length;j++){a=U[j],b=this._slotTimelines.indexOf(a);b>=0&&(this._slotTimelines.splice(b,1),a.returnToPool()),b=this._slotBlendTimelines.indexOf(a),b>=0&&(this._slotBlendTimelines.splice(b,1),a.returnToPool())}},n.prototype._advanceFadeTime=function(e){var r=this._fadeState>0;if(this._subFadeState<0){this._subFadeState=0;var i=null===this._parent&&this.actionEnabled;if(i){var n=r?t.EventObject.FADE_OUT:t.EventObject.FADE_IN;if(this._armature.eventDispatcher.hasDBEventListener(n)){var a=t.BaseObject.borrowObject(t.EventObject);a.type=n,a.armature=this._armature,a.animationState=this,this._armature._dragonBones.bufferEvent(a)}}}if(e<0&&(e=-e),this._fadeTime+=e,this._fadeTime>=this.fadeTotalTime?(this._subFadeState=1,this._fadeProgress=r?0:1):this._fadeTime>0?this._fadeProgress=r?1-this._fadeTime/this.fadeTotalTime:this._fadeTime/this.fadeTotalTime:this._fadeProgress=r?1:0,this._subFadeState>0){r||(this._playheadState|=1,this._fadeState=0);i=null===this._parent&&this.actionEnabled;if(i){n=r?t.EventObject.FADE_OUT_COMPLETE:t.EventObject.FADE_IN_COMPLETE;if(this._armature.eventDispatcher.hasDBEventListener(n)){a=t.BaseObject.borrowObject(t.EventObject);a.type=n,a.armature=this._armature,a.animationState=this,this._armature._dragonBones.bufferEvent(a)}}}},n.prototype.init=function(e,r,i){if(null===this._armature){if(this._armature=e,this._animationData=r,this.resetToPose=i.resetToPose,this.additive=i.additive,this.displayControl=i.displayControl,this.actionEnabled=i.actionEnabled,this.blendType=r.blendType,this.layer=i.layer,this.playTimes=i.playTimes,this.timeScale=i.timeScale,this.fadeTotalTime=i.fadeInTime,this.autoFadeOutTime=i.autoFadeOutTime,this.name=i.name.length>0?i.name:i.animation,this.group=i.group,this._weight=i.weight,i.pauseFadeIn?this._playheadState=2:this._playheadState=3,i.duration<0?(this._position=0,this._duration=this._animationData.duration,0!==i.position?this.timeScale>=0?this._time=i.position:this._time=i.position-this._duration:this._time=0):(this._position=i.position,this._duration=i.duration,this._time=0),this.timeScale<0&&0===this._time&&(this._time=-1e-6),this.fadeTotalTime<=0&&(this._fadeProgress=.999999),i.boneMask.length>0){this._boneMask.length=i.boneMask.length;for(var n=0,a=this._boneMask.length;n<a;++n)this._boneMask[n]=i.boneMask[n]}this._actionTimeline=t.BaseObject.borrowObject(t.ActionTimelineState),this._actionTimeline.init(this._armature,this,this._animationData.actionTimeline),this._actionTimeline.currentTime=this._time,this._actionTimeline.currentTime<0&&(this._actionTimeline.currentTime=this._duration-this._actionTimeline.currentTime),null!==this._animationData.zOrderTimeline&&(this._zOrderTimeline=t.BaseObject.borrowObject(t.ZOrderTimelineState),this._zOrderTimeline.init(this._armature,this,this._animationData.zOrderTimeline))}},n.prototype.advanceTime=function(t,e){0===this._fadeState&&0===this._subFadeState||this._advanceFadeTime(t),3===this._playheadState&&(1!==this.timeScale&&(t*=this.timeScale),this._time+=t),0!==this._timelineDirty&&(2===this._timelineDirty&&this._updateTimelines(),this._timelineDirty=0,this._updateBoneAndSlotTimelines());var r=0!==this._fadeState||0===this._subFadeState,i=0===this._fadeState&&e>0,n=!0,a=!0,s=this._time;if(this._weightResult=this._weight*this._fadeProgress,null!==this._parent&&(this._weightResult*=this._parent._weightResult),this._actionTimeline.playState<=0&&this._actionTimeline.update(s),0!==this._weight){if(i){var o=2*e;this._actionTimeline.currentTime=Math.floor(this._actionTimeline.currentTime*o)/o}if(null!==this._zOrderTimeline&&this._zOrderTimeline.playState<=0&&this._zOrderTimeline.update(s),i){var h=Math.floor(this._actionTimeline.currentTime*e);this._armature._cacheFrameIndex===h?(n=!1,a=!1):(this._armature._cacheFrameIndex=h,this._animationData.cachedFrames[h]?a=!1:this._animationData.cachedFrames[h]=!0)}if(n){var l=!1,u=null;if(a)for(var c=0,f=this._boneTimelines.length;c<f;++c){var p=this._boneTimelines[c];if(p.playState<=0&&p.update(s),p.target!==u){var d=p.target;if(l=d.update(this),u=d,1===d.dirty){var _=d.target.animationPose;_.x=0,_.y=0,_.rotation=0,_.skew=0,_.scaleX=1,_.scaleY=1}}l&&p.blend(r)}for(c=0,f=this._boneBlendTimelines.length;c<f;++c){p=this._boneBlendTimelines[c];p.playState<=0&&p.update(s),p.target.update(this)&&p.blend(r)}if(this.displayControl)for(c=0,f=this._slotTimelines.length;c<f;++c){p=this._slotTimelines[c];if(p.playState<=0){var m=p.target,y=m.displayController;null!==y&&y!==this.name&&y!==this.group||p.update(s)}}for(c=0,f=this._slotBlendTimelines.length;c<f;++c){p=this._slotBlendTimelines[c];if(p.playState<=0){d=p.target;p.update(s),d.update(this)&&p.blend(r)}}for(c=0,f=this._constraintTimelines.length;c<f;++c){p=this._constraintTimelines[c];p.playState<=0&&p.update(s)}if(this._animationTimelines.length>0){var v=100,g=100,b=null,x=null;for(c=0,f=this._animationTimelines.length;c<f;++c){p=this._animationTimelines[c];if(p.playState<=0&&p.update(s),1===this.blendType){var T=p.target,D=this.parameterX-T.positionX;D>=0?D<v&&(v=D,b=T):-D<g&&(g=-D,x=T)}}null!==b&&(this._activeChildA!==b&&(null!==this._activeChildA&&(this._activeChildA.weight=0),this._activeChildA=b,this._activeChildA.activeTimeline()),this._activeChildB!==x&&(null!==this._activeChildB&&(this._activeChildB.weight=0),this._activeChildB=x),b.weight=g/(v+g),x&&(x.weight=1-b.weight))}}if(0===this._fadeState){if(this._subFadeState>0&&(this._subFadeState=0,this._poseTimelines.length>0)){for(var A=0,w=this._poseTimelines;A<w.length;A++){p=w[A];var S=this._boneTimelines.indexOf(p);S>=0?(this._boneTimelines.splice(S,1),p.returnToPool()):(S=this._boneBlendTimelines.indexOf(p),S>=0?(this._boneBlendTimelines.splice(S,1),p.returnToPool()):(S=this._slotTimelines.indexOf(p),S>=0?(this._slotTimelines.splice(S,1),p.returnToPool()):(S=this._slotBlendTimelines.indexOf(p),S>=0?(this._slotBlendTimelines.splice(S,1),p.returnToPool()):(S=this._constraintTimelines.indexOf(p),S>=0&&(this._constraintTimelines.splice(S,1),p.returnToPool())))))}this._poseTimelines.length=0}this._actionTimeline.playState>0&&this.autoFadeOutTime>=0&&this.fadeOut(this.autoFadeOutTime)}}},n.prototype.play=function(){this._playheadState=3},n.prototype.stop=function(){this._playheadState&=1},n.prototype.fadeOut=function(t,e){if(void 0===e&&(e=!0),t<0&&(t=0),e&&(this._playheadState&=2),this._fadeState>0){if(t>this.fadeTotalTime-this._fadeTime)return}else{this._fadeState=1,this._subFadeState=-1,(t<=0||this._fadeProgress<=0)&&(this._fadeProgress=1e-6);for(var r=0,i=this._boneTimelines;r<i.length;r++){var n=i[r];n.fadeOut()}for(var a=0,s=this._boneBlendTimelines;a<s.length;a++){n=s[a];n.fadeOut()}for(var o=0,h=this._slotTimelines;o<h.length;o++){n=h[o];n.fadeOut()}for(var l=0,u=this._slotBlendTimelines;l<u.length;l++){n=u[l];n.fadeOut()}for(var c=0,f=this._constraintTimelines;c<f.length;c++){n=f[c];n.fadeOut()}for(var p=0,d=this._animationTimelines;p<d.length;p++){n=d[p];n.fadeOut();var _=n.target;_.fadeOut(999999,!0)}}this.displayControl=!1,this.fadeTotalTime=this._fadeProgress>1e-6?t/this._fadeProgress:0,this._fadeTime=this.fadeTotalTime*(1-this._fadeProgress)},n.prototype.containsBoneMask=function(t){return 0===this._boneMask.length||this._boneMask.indexOf(t)>=0},n.prototype.addBoneMask=function(t,e){void 0===e&&(e=!0);var r=this._armature.getBone(t);if(null!==r){if(this._boneMask.indexOf(t)<0&&this._boneMask.push(t),e)for(var i=0,n=this._armature.getBones();i<n.length;i++){var a=n[i];this._boneMask.indexOf(a.name)<0&&r.contains(a)&&this._boneMask.push(a.name)}this._timelineDirty=1}},n.prototype.removeBoneMask=function(t,e){void 0===e&&(e=!0);var r=this._boneMask.indexOf(t);if(r>=0&&this._boneMask.splice(r,1),e){var i=this._armature.getBone(t);if(null!==i){var n=this._armature.getBones();if(this._boneMask.length>0)for(var a=0,s=n;a<s.length;a++){var o=s[a],h=this._boneMask.indexOf(o.name);h>=0&&i.contains(o)&&this._boneMask.splice(h,1)}else for(var l=0,u=n;l<u.length;l++){o=u[l];o!==i&&(i.contains(o)||this._boneMask.push(o.name))}}}this._timelineDirty=1},n.prototype.removeAllBoneMask=function(){this._boneMask.length=0,this._timelineDirty=1},n.prototype.addState=function(e,r){if(void 0===r&&(r=null),null!==r)for(var i=0,n=r;i<n.length;i++){var a=n[i];switch(a.type){case 40:var s=t.BaseObject.borrowObject(t.AnimationProgressTimelineState);if(s.target=e,s.init(this._armature,this,a),this._animationTimelines.push(s),0!==this.blendType){var o=a;e.positionX=o.x,e.positionY=o.y,e.weight=0}e._parent=this,this.resetToPose=!1;break;case 41:s=t.BaseObject.borrowObject(t.AnimationWeightTimelineState);s.target=e,s.init(this._armature,this,a),this._animationTimelines.push(s);break;case 42:s=t.BaseObject.borrowObject(t.AnimationParametersTimelineState);s.target=e,s.init(this._armature,this,a),this._animationTimelines.push(s);break;default:break}}null===e._parent&&(e._parent=this)},n.prototype.activeTimeline=function(){for(var t=0,e=this._slotTimelines;t<e.length;t++){var r=e[t];r.dirty=!0,r.currentTime=-1}},Object.defineProperty(n.prototype,"isFadeIn",{get:function(){return this._fadeState<0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isFadeOut",{get:function(){return this._fadeState>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isFadeComplete",{get:function(){return 0===this._fadeState},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isPlaying",{get:function(){return 0!==(2&this._playheadState)&&this._actionTimeline.playState<=0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isCompleted",{get:function(){return this._actionTimeline.playState>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentPlayTimes",{get:function(){return this._actionTimeline.currentPlayTimes},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalTime",{get:function(){return this._duration},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentTime",{get:function(){return this._actionTimeline.currentTime},set:function(t){var e=this._actionTimeline.currentPlayTimes-(this._actionTimeline.playState>0?1:0);if((t<0||this._duration<t)&&(t=t%this._duration+e*this._duration,t<0&&(t+=this._duration)),this.playTimes>0&&e===this.playTimes-1&&t===this._duration&&null===this._parent&&(t=this._duration-1e-6),this._time!==t){this._time=t,this._actionTimeline.setCurrentTime(this._time),null!==this._zOrderTimeline&&(this._zOrderTimeline.playState=-1);for(var r=0,i=this._boneTimelines;r<i.length;r++){var n=i[r];n.playState=-1}for(var a=0,s=this._slotTimelines;a<s.length;a++){n=s[a];n.playState=-1}}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"weight",{get:function(){return this._weight},set:function(t){if(this._weight!==t){this._weight=t;for(var e=0,r=this._boneTimelines;e<r.length;e++){var i=r[e];i.dirty=!0}for(var n=0,a=this._boneBlendTimelines;n<a.length;n++){i=a[n];i.dirty=!0}for(var s=0,o=this._slotBlendTimelines;s<o.length;s++){i=o[s];i.dirty=!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"animationData",{get:function(){return this._animationData},enumerable:!0,configurable:!0}),n}(t.BaseObject);t.AnimationState=e;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.BlendState]"},e.prototype._onClear=function(){this.reset(),this.target=null},e.prototype.update=function(t){var e=t.layer,r=t._weightResult;if(this.dirty>0){if(this.leftWeight>0){if(this.layer!==e){if(this.layerWeight>=this.leftWeight)return this.dirty++,this.layer=e,this.leftWeight=0,this.blendWeight=0,!1;this.layer=e,this.leftWeight-=this.layerWeight,this.layerWeight=0}return r*=this.leftWeight,this.dirty++,this.blendWeight=r,this.layerWeight+=this.blendWeight,!0}return!1}return this.dirty++,this.layer=e,this.leftWeight=1,this.blendWeight=r,this.layerWeight=r,!0},e.prototype.reset=function(){this.dirty=0,this.layer=0,this.leftWeight=0,this.layerWeight=0,this.blendWeight=0},e.BONE_TRANSFORM="boneTransform",e.BONE_ALPHA="boneAlpha",e.SURFACE="surface",e.SLOT_DEFORM="slotDeform",e.SLOT_ALPHA="slotAlpha",e.SLOT_Z_INDEX="slotZIndex",e}(t.BaseObject);t.BlendState=r}(n||(n={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._onClear=function(){this.dirty=!1,this.playState=-1,this.currentPlayTimes=0,this.currentTime=-1,this.target=null,this._isTween=!1,this._valueOffset=0,this._frameValueOffset=0,this._frameOffset=0,this._frameRate=0,this._frameCount=0,this._frameIndex=-1,this._frameRateR=0,this._position=0,this._duration=0,this._timeScale=1,this._timeOffset=0,this._animationData=null,this._timelineData=null,this._armature=null,this._animationState=null,this._actionTimeline=null,this._frameArray=null,this._valueArray=null,this._timelineArray=null,this._frameIndices=null},e.prototype._setCurrentTime=function(t){var e=this.playState,r=this.currentPlayTimes,i=this.currentTime;if(null!==this._actionTimeline&&this._frameCount<=1)this.playState=this._actionTimeline.playState>=0?1:-1,this.currentPlayTimes=1,this.currentTime=this._actionTimeline.currentTime;else if(null===this._actionTimeline||1!==this._timeScale||0!==this._timeOffset){var n=this._animationState.playTimes,a=n*this._duration;t*=this._timeScale,0!==this._timeOffset&&(t+=this._timeOffset*this._animationData.duration),n>0&&(t>=a||t<=-a)?(this.playState<=0&&3===this._animationState._playheadState&&(this.playState=1),this.currentPlayTimes=n,this.currentTime=t<0?0:1===this.playState?this._duration+1e-6:this._duration):(0!==this.playState&&3===this._animationState._playheadState&&(this.playState=0),t<0?(t=-t,this.currentPlayTimes=Math.floor(t/this._duration),this.currentTime=this._duration-t%this._duration):(this.currentPlayTimes=Math.floor(t/this._duration),this.currentTime=t%this._duration)),this.currentTime+=this._position}else this.playState=this._actionTimeline.playState,this.currentPlayTimes=this._actionTimeline.currentPlayTimes,this.currentTime=this._actionTimeline.currentTime;return(this.currentPlayTimes!==r||this.currentTime!==i)&&((e<0&&this.playState!==e||this.playState<=0&&this.currentPlayTimes!==r)&&(this._frameIndex=-1),!0)},e.prototype.init=function(t,e,r){if(this._armature=t,this._animationState=e,this._timelineData=r,this._actionTimeline=this._animationState._actionTimeline,this===this._actionTimeline&&(this._actionTimeline=null),this._animationData=this._animationState.animationData,this._frameRate=this._animationData.parent.frameRate,this._frameRateR=1/this._frameRate,this._position=this._animationState._position,this._duration=this._animationState._duration,null!==this._timelineData){var i=this._animationData.parent.parent;this._frameArray=i.frameArray,this._timelineArray=i.timelineArray,this._frameIndices=i.frameIndices,this._frameCount=this._timelineArray[this._timelineData.offset+2],this._frameValueOffset=this._timelineArray[this._timelineData.offset+4],this._timeScale=100/this._timelineArray[this._timelineData.offset+0],this._timeOffset=.01*this._timelineArray[this._timelineData.offset+1]}},e.prototype.fadeOut=function(){this.dirty=!1},e.prototype.update=function(t){if(this._setCurrentTime(t)){if(this._frameCount>1){var e=Math.floor(this.currentTime*this._frameRate),r=this._frameIndices[this._timelineData.frameIndicesOffset+e];this._frameIndex!==r&&(this._frameIndex=r,this._frameOffset=this._animationData.frameOffset+this._timelineArray[this._timelineData.offset+5+this._frameIndex],this._onArriveAtFrame())}else this._frameIndex<0&&(this._frameIndex=0,null!==this._timelineData&&(this._frameOffset=this._animationData.frameOffset+this._timelineArray[this._timelineData.offset+5]),this._onArriveAtFrame());(this._isTween||this.dirty)&&this._onUpdateFrame()}},e.prototype.blend=function(t){},e}(t.BaseObject);t.TimelineState=e;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e._getEasingValue=function(t,e,r){var i=e;switch(t){case 3:i=Math.pow(e,2);break;case 4:i=1-Math.pow(1-e,2);break;case 5:i=.5*(1-Math.cos(e*Math.PI));break}return(i-e)*r+e},e._getEasingCurveValue=function(t,e,r,i){if(t<=0)return 0;if(t>=1)return 1;var n=r>0,a=r+1,s=Math.floor(t*a),o=0,h=0;return n?(o=0===s?0:e[i+s-1],h=s===a-1?1e4:e[i+s]):(o=e[i+s-1],h=e[i+s]),1e-4*(o+(h-o)*(t*a-s))},e.prototype._onClear=function(){t.prototype._onClear.call(this),this._tweenType=0,this._curveCount=0,this._framePosition=0,this._frameDurationR=0,this._tweenEasing=0,this._tweenProgress=0,this._valueScale=1},e.prototype._onArriveAtFrame=function(){if(this._frameCount>1&&(this._frameIndex!==this._frameCount-1||0===this._animationState.playTimes||this._animationState.currentPlayTimes<this._animationState.playTimes-1))if(this._tweenType=this._frameArray[this._frameOffset+1],this._isTween=0!==this._tweenType,this._isTween?2===this._tweenType?this._curveCount=this._frameArray[this._frameOffset+2]:0!==this._tweenType&&1!==this._tweenType&&(this._tweenEasing=.01*this._frameArray[this._frameOffset+2]):this.dirty=!0,this._framePosition=this._frameArray[this._frameOffset]*this._frameRateR,this._frameIndex===this._frameCount-1)this._frameDurationR=1/(this._animationData.duration-this._framePosition);else{var t=this._animationData.frameOffset+this._timelineArray[this._timelineData.offset+5+this._frameIndex+1],e=this._frameArray[t]*this._frameRateR-this._framePosition;this._frameDurationR=e>0?1/e:0}else this.dirty=!0,this._isTween=!1},e.prototype._onUpdateFrame=function(){this._isTween&&(this.dirty=!0,this._tweenProgress=(this.currentTime-this._framePosition)*this._frameDurationR,2===this._tweenType?this._tweenProgress=e._getEasingCurveValue(this._tweenProgress,this._frameArray,this._curveCount,this._frameOffset+3):1!==this._tweenType&&(this._tweenProgress=e._getEasingValue(this._tweenType,this._tweenProgress,this._tweenEasing)))},e}(e);t.TweenTimelineState=r;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._onClear=function(){t.prototype._onClear.call(this),this._current=0,this._difference=0,this._result=0},e.prototype._onArriveAtFrame=function(){if(t.prototype._onArriveAtFrame.call(this),null!==this._timelineData){var e=this._valueScale,r=this._valueArray,i=this._valueOffset+this._frameValueOffset+this._frameIndex;if(this._isTween){var n=this._frameIndex===this._frameCount-1?this._valueOffset+this._frameValueOffset:i+1;1===e?(this._current=r[i],this._difference=r[n]-this._current):(this._current=r[i]*e,this._difference=r[n]*e-this._current)}else this._result=r[i]*e}else this._result=0},e.prototype._onUpdateFrame=function(){t.prototype._onUpdateFrame.call(this),this._isTween&&(this._result=this._current+this._difference*this._tweenProgress)},e}(r);t.SingleValueTimelineState=n;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._onClear=function(){t.prototype._onClear.call(this),this._currentA=0,this._currentB=0,this._differenceA=0,this._differenceB=0,this._resultA=0,this._resultB=0},e.prototype._onArriveAtFrame=function(){if(t.prototype._onArriveAtFrame.call(this),null!==this._timelineData){var e=this._valueScale,r=this._valueArray,i=this._valueOffset+this._frameValueOffset+2*this._frameIndex;if(this._isTween){var n=this._frameIndex===this._frameCount-1?this._valueOffset+this._frameValueOffset:i+2;1===e?(this._currentA=r[i],this._currentB=r[i+1],this._differenceA=r[n]-this._currentA,this._differenceB=r[n+1]-this._currentB):(this._currentA=r[i]*e,this._currentB=r[i+1]*e,this._differenceA=r[n]*e-this._currentA,this._differenceB=r[n+1]*e-this._currentB)}else this._resultA=r[i]*e,this._resultB=r[i+1]*e}else this._resultA=0,this._resultB=0},e.prototype._onUpdateFrame=function(){t.prototype._onUpdateFrame.call(this),this._isTween&&(this._resultA=this._currentA+this._differenceA*this._tweenProgress,this._resultB=this._currentB+this._differenceB*this._tweenProgress)},e}(r);t.DoubleValueTimelineState=a;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._rd=[],e}return i(e,t),e.prototype._onClear=function(){t.prototype._onClear.call(this),this._valueCount=0,this._rd.length=0},e.prototype._onArriveAtFrame=function(){t.prototype._onArriveAtFrame.call(this);var e=this._valueCount,r=this._rd;if(null!==this._timelineData){var i=this._valueScale,n=this._valueArray,a=this._valueOffset+this._frameValueOffset+this._frameIndex*e;if(this._isTween){var s=this._frameIndex===this._frameCount-1?this._valueOffset+this._frameValueOffset:a+e;if(1===i)for(var o=0;o<e;++o)r[e+o]=n[s+o]-n[a+o];else for(o=0;o<e;++o)r[e+o]=(n[s+o]-n[a+o])*i}else if(1===i)for(o=0;o<e;++o)r[o]=n[a+o];else for(o=0;o<e;++o)r[o]=n[a+o]*i}else for(o=0;o<e;++o)r[o]=0},e.prototype._onUpdateFrame=function(){if(t.prototype._onUpdateFrame.call(this),this._isTween){var e=this._valueCount,r=this._valueScale,i=this._tweenProgress,n=this._valueArray,a=this._rd,s=this._valueOffset+this._frameValueOffset+this._frameIndex*e;if(1===r)for(var o=0;o<e;++o)a[o]=n[s+o]+a[e+o]*i;else for(o=0;o<e;++o)a[o]=n[s+o]*r+a[e+o]*i}},e}(r);t.MutilpleValueTimelineState=s}(n||(n={})),function(t){var e=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return i(r,e),r.toString=function(){return"[class dragonBones.ActionTimelineState]"},r.prototype._onCrossFrame=function(e){var r=this._armature.eventDispatcher;if(this._animationState.actionEnabled)for(var i=this._animationData.frameOffset+this._timelineArray[this._timelineData.offset+5+e],n=this._frameArray[i+1],a=this._animationData.parent.actions,s=0;s<n;++s){var o=this._frameArray[i+2+s],h=a[o];if(0===h.type){var l=t.BaseObject.borrowObject(t.EventObject);l.time=this._frameArray[i]/this._frameRate,l.animationState=this._animationState,t.EventObject.actionDataToInstance(h,l,this._armature),this._armature._bufferAction(l,!0)}else{var u=10===h.type?t.EventObject.FRAME_EVENT:t.EventObject.SOUND_EVENT;if(11===h.type||r.hasDBEventListener(u)){l=t.BaseObject.borrowObject(t.EventObject);l.time=this._frameArray[i]/this._frameRate,l.animationState=this._animationState,t.EventObject.actionDataToInstance(h,l,this._armature),this._armature._dragonBones.bufferEvent(l)}}}},r.prototype._onArriveAtFrame=function(){},r.prototype._onUpdateFrame=function(){},r.prototype.update=function(e){var r=this.playState,i=this.currentPlayTimes,n=this.currentTime;if(this._setCurrentTime(e)){var a=null===this._animationState._parent&&this._animationState.actionEnabled,s=this._armature.eventDispatcher;if(r<0){if(this.playState===r)return;if(this._animationState.displayControl&&this._animationState.resetToPose&&this._armature._sortZOrder(null,0),a&&s.hasDBEventListener(t.EventObject.START)){var o=t.BaseObject.borrowObject(t.EventObject);o.type=t.EventObject.START,o.armature=this._armature,o.animationState=this._animationState,this._armature._dragonBones.bufferEvent(o)}}var h=this._animationState.timeScale<0,l=null,u=null;if(a&&this.currentPlayTimes!==i&&(s.hasDBEventListener(t.EventObject.LOOP_COMPLETE)&&(l=t.BaseObject.borrowObject(t.EventObject),l.type=t.EventObject.LOOP_COMPLETE,l.armature=this._armature,l.animationState=this._animationState),this.playState>0&&s.hasDBEventListener(t.EventObject.COMPLETE)&&(u=t.BaseObject.borrowObject(t.EventObject),u.type=t.EventObject.COMPLETE,u.armature=this._armature,u.animationState=this._animationState)),this._frameCount>1){var c=this._timelineData,f=Math.floor(this.currentTime*this._frameRate),p=this._frameIndices[c.frameIndicesOffset+f];if(this._frameIndex!==p){var d=this._frameIndex;if(this._frameIndex=p,null!==this._timelineArray)if(this._frameOffset=this._animationData.frameOffset+this._timelineArray[c.offset+5+this._frameIndex],h){if(d<0){var _=Math.floor(n*this._frameRate);d=this._frameIndices[c.frameIndicesOffset+_],this.currentPlayTimes===i&&d===p&&(d=-1)}while(d>=0){var m=this._animationData.frameOffset+this._timelineArray[c.offset+5+d],y=this._frameArray[m]/this._frameRate;if(this._position<=y&&y<=this._position+this._duration&&this._onCrossFrame(d),null!==l&&0===d&&(this._armature._dragonBones.bufferEvent(l),l=null),d>0?d--:d=this._frameCount-1,d===p)break}}else{if(d<0){_=Math.floor(n*this._frameRate);d=this._frameIndices[c.frameIndicesOffset+_];m=this._animationData.frameOffset+this._timelineArray[c.offset+5+d],y=this._frameArray[m]/this._frameRate;this.currentPlayTimes===i&&(n<=y?d>0?d--:d=this._frameCount-1:d===p&&(d=-1))}while(d>=0){d<this._frameCount-1?d++:d=0;m=this._animationData.frameOffset+this._timelineArray[c.offset+5+d],y=this._frameArray[m]/this._frameRate;if(this._position<=y&&y<=this._position+this._duration&&this._onCrossFrame(d),null!==l&&0===d&&(this._armature._dragonBones.bufferEvent(l),l=null),d===p)break}}}}else if(this._frameIndex<0&&(this._frameIndex=0,null!==this._timelineData)){this._frameOffset=this._animationData.frameOffset+this._timelineArray[this._timelineData.offset+5];y=this._frameArray[this._frameOffset]/this._frameRate;this.currentPlayTimes===i?n<=y&&this._onCrossFrame(this._frameIndex):this._position<=y&&(h||null===l||(this._armature._dragonBones.bufferEvent(l),l=null),this._onCrossFrame(this._frameIndex))}null!==l&&this._armature._dragonBones.bufferEvent(l),null!==u&&this._armature._dragonBones.bufferEvent(u)}},r.prototype.setCurrentTime=function(t){this._setCurrentTime(t),this._frameIndex=-1},r}(t.TimelineState);t.ActionTimelineState=e;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.ZOrderTimelineState]"},e.prototype._onArriveAtFrame=function(){if(this.playState>=0){var t=this._frameArray[this._frameOffset+1];t>0?this._armature._sortZOrder(this._frameArray,this._frameOffset+2):this._armature._sortZOrder(null,0)}},e.prototype._onUpdateFrame=function(){},e}(t.TimelineState);t.ZOrderTimelineState=r;var n=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return i(r,e),r.toString=function(){return"[class dragonBones.BoneAllTimelineState]"},r.prototype._onArriveAtFrame=function(){e.prototype._onArriveAtFrame.call(this),this._isTween&&this._frameIndex===this._frameCount-1&&(this._rd[2]=t.Transform.normalizeRadian(this._rd[2]),this._rd[3]=t.Transform.normalizeRadian(this._rd[3])),null===this._timelineData&&(this._rd[4]=1,this._rd[5]=1)},r.prototype.init=function(t,r,i){e.prototype.init.call(this,t,r,i),this._valueOffset=this._animationData.frameFloatOffset,this._valueCount=6,this._valueArray=this._animationData.parent.parent.frameFloatArray},r.prototype.fadeOut=function(){this.dirty=!1,this._rd[2]=t.Transform.normalizeRadian(this._rd[2]),this._rd[3]=t.Transform.normalizeRadian(this._rd[3])},r.prototype.blend=function(t){var e=this._armature.armatureData.scale,r=this._rd,i=this.target,n=i.target,a=i.blendWeight,s=n.animationPose;i.dirty>1?(s.x+=r[0]*a*e,s.y+=r[1]*a*e,s.rotation+=r[2]*a,s.skew+=r[3]*a,s.scaleX+=(r[4]-1)*a,s.scaleY+=(r[5]-1)*a):(s.x=r[0]*a*e,s.y=r[1]*a*e,s.rotation=r[2]*a,s.skew=r[3]*a,s.scaleX=(r[4]-1)*a+1,s.scaleY=(r[5]-1)*a+1),(t||this.dirty)&&(this.dirty=!1,n._transformDirty=!0)},r}(t.MutilpleValueTimelineState);t.BoneAllTimelineState=n;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.BoneTranslateTimelineState]"},e.prototype.init=function(e,r,i){t.prototype.init.call(this,e,r,i),this._valueOffset=this._animationData.frameFloatOffset,this._valueScale=this._armature.armatureData.scale,this._valueArray=this._animationData.parent.parent.frameFloatArray},e.prototype.blend=function(t){var e=this.target,r=e.target,i=e.blendWeight,n=r.animationPose;e.dirty>1?(n.x+=this._resultA*i,n.y+=this._resultB*i):1!==i?(n.x=this._resultA*i,n.y=this._resultB*i):(n.x=this._resultA,n.y=this._resultB),(t||this.dirty)&&(this.dirty=!1,r._transformDirty=!0)},e}(t.DoubleValueTimelineState);t.BoneTranslateTimelineState=a;var s=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return i(r,e),r.toString=function(){return"[class dragonBones.BoneRotateTimelineState]"},r.prototype._onArriveAtFrame=function(){e.prototype._onArriveAtFrame.call(this),this._isTween&&this._frameIndex===this._frameCount-1&&(this._differenceA=t.Transform.normalizeRadian(this._differenceA),this._differenceB=t.Transform.normalizeRadian(this._differenceB))},r.prototype.init=function(t,r,i){e.prototype.init.call(this,t,r,i),this._valueOffset=this._animationData.frameFloatOffset,this._valueArray=this._animationData.parent.parent.frameFloatArray},r.prototype.fadeOut=function(){this.dirty=!1,this._resultA=t.Transform.normalizeRadian(this._resultA),this._resultB=t.Transform.normalizeRadian(this._resultB)},r.prototype.blend=function(t){var e=this.target,r=e.target,i=e.blendWeight,n=r.animationPose;e.dirty>1?(n.rotation+=this._resultA*i,n.skew+=this._resultB*i):1!==i?(n.rotation=this._resultA*i,n.skew=this._resultB*i):(n.rotation=this._resultA,n.skew=this._resultB),(t||this.dirty)&&(this.dirty=!1,r._transformDirty=!0)},r}(t.DoubleValueTimelineState);t.BoneRotateTimelineState=s;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.BoneScaleTimelineState]"},e.prototype._onArriveAtFrame=function(){t.prototype._onArriveAtFrame.call(this),null===this._timelineData&&(this._resultA=1,this._resultB=1)},e.prototype.init=function(e,r,i){t.prototype.init.call(this,e,r,i),this._valueOffset=this._animationData.frameFloatOffset,this._valueArray=this._animationData.parent.parent.frameFloatArray},e.prototype.blend=function(t){var e=this.target,r=e.target,i=e.blendWeight,n=r.animationPose;e.dirty>1?(n.scaleX+=(this._resultA-1)*i,n.scaleY+=(this._resultB-1)*i):1!==i?(n.scaleX=(this._resultA-1)*i+1,n.scaleY=(this._resultB-1)*i+1):(n.scaleX=this._resultA,n.scaleY=this._resultB),(t||this.dirty)&&(this.dirty=!1,r._transformDirty=!0)},e}(t.DoubleValueTimelineState);t.BoneScaleTimelineState=o;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.SurfaceTimelineState]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this._deformCount=0,this._deformOffset=0,this._sameValueOffset=0},e.prototype.init=function(e,r,i){if(t.prototype.init.call(this,e,r,i),null!==this._timelineData){var n=this._animationData.parent.parent,a=n.frameIntArray,s=this._animationData.frameIntOffset+this._timelineArray[this._timelineData.offset+3];this._valueOffset=this._animationData.frameFloatOffset,this._valueCount=a[s+2],this._deformCount=a[s+1],this._deformOffset=a[s+3],this._sameValueOffset=a[s+4]+this._animationData.frameFloatOffset,this._valueScale=this._armature.armatureData.scale,this._valueArray=n.frameFloatArray,this._rd.length=2*this._valueCount}else this._deformCount=this.target.target._deformVertices.length},e.prototype.blend=function(t){var e=this.target,r=e.target,i=e.blendWeight,n=r._deformVertices,a=this._valueArray;if(null!==a)for(var s=this._valueCount,o=this._deformOffset,h=this._sameValueOffset,l=this._rd,u=0;u<this._deformCount;++u){var c=0;c=u<o?a[h+u]:u<o+s?l[u-o]:a[h+u-s],e.dirty>1?n[u]+=c*i:n[u]=c*i}else if(1===e.dirty)for(u=0;u<this._deformCount;++u)n[u]=0;(t||this.dirty)&&(this.dirty=!1,r._transformDirty=!0)},e}(t.MutilpleValueTimelineState);t.SurfaceTimelineState=h;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.AlphaTimelineState]"},e.prototype._onArriveAtFrame=function(){t.prototype._onArriveAtFrame.call(this),null===this._timelineData&&(this._result=1)},e.prototype.init=function(e,r,i){t.prototype.init.call(this,e,r,i),this._valueOffset=this._animationData.frameIntOffset,this._valueScale=.01,this._valueArray=this._animationData.parent.parent.frameIntArray},e.prototype.blend=function(t){var e=this.target,r=e.target,i=e.blendWeight;e.dirty>1?(r._alpha+=this._result*i,r._alpha>1&&(r._alpha=1)):r._alpha=this._result*i,(t||this.dirty)&&(this.dirty=!1,this._armature._alphaDirty=!0)},e}(t.SingleValueTimelineState);t.AlphaTimelineState=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.SlotDisplayTimelineState]"},e.prototype._onArriveAtFrame=function(){if(this.playState>=0){var t=this.target,e=null!==this._timelineData?this._frameArray[this._frameOffset+1]:t._slotData.displayIndex;t.displayIndex!==e&&t._setDisplayIndex(e,!0)}},e.prototype._onUpdateFrame=function(){},e}(t.TimelineState);t.SlotDisplayTimelineState=u;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._current=[0,0,0,0,0,0,0,0],e._difference=[0,0,0,0,0,0,0,0],e._result=[0,0,0,0,0,0,0,0],e}return i(e,t),e.toString=function(){return"[class dragonBones.SlotColorTimelineState]"},e.prototype._onArriveAtFrame=function(){if(t.prototype._onArriveAtFrame.call(this),null!==this._timelineData){var e=this._animationData.parent.parent,r=e.colorArray,i=e.frameIntArray,n=this._animationData.frameIntOffset+this._frameValueOffset+this._frameIndex,a=i[n];a<0&&(a+=65536),this._isTween?(this._current[0]=r[a++],this._current[1]=r[a++],this._current[2]=r[a++],this._current[3]=r[a++],this._current[4]=r[a++],this._current[5]=r[a++],this._current[6]=r[a++],this._current[7]=r[a++],a=this._frameIndex===this._frameCount-1?i[this._animationData.frameIntOffset+this._frameValueOffset]:i[n+1],a<0&&(a+=65536),this._difference[0]=r[a++]-this._current[0],this._difference[1]=r[a++]-this._current[1],this._difference[2]=r[a++]-this._current[2],this._difference[3]=r[a++]-this._current[3],this._difference[4]=r[a++]-this._current[4],this._difference[5]=r[a++]-this._current[5],this._difference[6]=r[a++]-this._current[6],this._difference[7]=r[a++]-this._current[7]):(this._result[0]=.01*r[a++],this._result[1]=.01*r[a++],this._result[2]=.01*r[a++],this._result[3]=.01*r[a++],this._result[4]=r[a++],this._result[5]=r[a++],this._result[6]=r[a++],this._result[7]=r[a++])}else{var s=this.target,o=s.slotData.color;this._result[0]=o.alphaMultiplier,this._result[1]=o.redMultiplier,this._result[2]=o.greenMultiplier,this._result[3]=o.blueMultiplier,this._result[4]=o.alphaOffset,this._result[5]=o.redOffset,this._result[6]=o.greenOffset,this._result[7]=o.blueOffset}},e.prototype._onUpdateFrame=function(){t.prototype._onUpdateFrame.call(this),this._isTween&&(this._result[0]=.01*(this._current[0]+this._difference[0]*this._tweenProgress),this._result[1]=.01*(this._current[1]+this._difference[1]*this._tweenProgress),this._result[2]=.01*(this._current[2]+this._difference[2]*this._tweenProgress),this._result[3]=.01*(this._current[3]+this._difference[3]*this._tweenProgress),this._result[4]=this._current[4]+this._difference[4]*this._tweenProgress,this._result[5]=this._current[5]+this._difference[5]*this._tweenProgress,this._result[6]=this._current[6]+this._difference[6]*this._tweenProgress,this._result[7]=this._current[7]+this._difference[7]*this._tweenProgress)},e.prototype.fadeOut=function(){this._isTween=!1},e.prototype.update=function(e){if(t.prototype.update.call(this,e),this._isTween||this.dirty){var r=this.target,i=r._colorTransform;if(0!==this._animationState._fadeState||0!==this._animationState._subFadeState){if(i.alphaMultiplier!==this._result[0]||i.redMultiplier!==this._result[1]||i.greenMultiplier!==this._result[2]||i.blueMultiplier!==this._result[3]||i.alphaOffset!==this._result[4]||i.redOffset!==this._result[5]||i.greenOffset!==this._result[6]||i.blueOffset!==this._result[7]){var n=Math.pow(this._animationState._fadeProgress,4);i.alphaMultiplier+=(this._result[0]-i.alphaMultiplier)*n,i.redMultiplier+=(this._result[1]-i.redMultiplier)*n,i.greenMultiplier+=(this._result[2]-i.greenMultiplier)*n,i.blueMultiplier+=(this._result[3]-i.blueMultiplier)*n,i.alphaOffset+=(this._result[4]-i.alphaOffset)*n,i.redOffset+=(this._result[5]-i.redOffset)*n,i.greenOffset+=(this._result[6]-i.greenOffset)*n,i.blueOffset+=(this._result[7]-i.blueOffset)*n,r._colorDirty=!0}}else this.dirty&&(this.dirty=!1,i.alphaMultiplier===this._result[0]&&i.redMultiplier===this._result[1]&&i.greenMultiplier===this._result[2]&&i.blueMultiplier===this._result[3]&&i.alphaOffset===this._result[4]&&i.redOffset===this._result[5]&&i.greenOffset===this._result[6]&&i.blueOffset===this._result[7]||(i.alphaMultiplier=this._result[0],i.redMultiplier=this._result[1],i.greenMultiplier=this._result[2],i.blueMultiplier=this._result[3],i.alphaOffset=this._result[4],i.redOffset=this._result[5],i.greenOffset=this._result[6],i.blueOffset=this._result[7],r._colorDirty=!0))}},e}(t.TweenTimelineState);t.SlotColorTimelineState=c;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.SlotZIndexTimelineState]"},e.prototype._onArriveAtFrame=function(){if(t.prototype._onArriveAtFrame.call(this),null===this._timelineData){var e=this.target,r=e.target;this._result=r.slotData.zIndex}},e.prototype.init=function(e,r,i){t.prototype.init.call(this,e,r,i),this._valueOffset=this._animationData.frameIntOffset,this._valueArray=this._animationData.parent.parent.frameIntArray},e.prototype.blend=function(t){var e=this.target,r=e.target,i=e.blendWeight;e.dirty>1?r._zIndex+=this._result*i:r._zIndex=this._result*i,(t||this.dirty)&&(this.dirty=!1,this._armature._zIndexDirty=!0)},e}(t.SingleValueTimelineState);t.SlotZIndexTimelineState=f;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.DeformTimelineState]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.geometryOffset=0,this.displayFrame=null,this._deformCount=0,this._deformOffset=0,this._sameValueOffset=0},e.prototype.init=function(e,r,i){if(t.prototype.init.call(this,e,r,i),null!==this._timelineData){var n=this._animationData.frameIntOffset+this._timelineArray[this._timelineData.offset+3],a=this._animationData.parent.parent,s=a.frameIntArray,o=this.target.target;this.geometryOffset=s[n+0],this.geometryOffset<0&&(this.geometryOffset+=65536);for(var h=0,l=o.displayFrameCount;h<l;++h){var u=o.getDisplayFrameAt(h),c=u.getGeometryData();if(null!==c&&c.offset===this.geometryOffset){this.displayFrame=u,this.displayFrame.updateDeformVertices();break}}if(null===this.displayFrame)return void this.returnToPool();this._valueOffset=this._animationData.frameFloatOffset,this._valueCount=s[n+2],this._deformCount=s[n+1],this._deformOffset=s[n+3],this._sameValueOffset=s[n+4]+this._animationData.frameFloatOffset,this._valueScale=this._armature.armatureData.scale,this._valueArray=a.frameFloatArray,this._rd.length=2*this._valueCount}else this._deformCount=this.displayFrame.deformVertices.length},e.prototype.blend=function(t){var e=this.target,r=e.target,i=e.blendWeight,n=this.displayFrame.deformVertices,a=this._valueArray;if(null!==a)for(var s=this._valueCount,o=this._deformOffset,h=this._sameValueOffset,l=this._rd,u=0;u<this._deformCount;++u){var c=0;c=u<o?a[h+u]:u<o+s?l[u-o]:a[h+u-s],e.dirty>1?n[u]+=c*i:n[u]=c*i}else if(1===e.dirty)for(u=0;u<this._deformCount;++u)n[u]=0;(t||this.dirty)&&(this.dirty=!1,r._geometryData===this.displayFrame.getGeometryData()&&(r._verticesDirty=!0))},e}(t.MutilpleValueTimelineState);t.DeformTimelineState=p;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.IKConstraintTimelineState]"},e.prototype._onUpdateFrame=function(){t.prototype._onUpdateFrame.call(this);var e=this.target;if(null!==this._timelineData)e._bendPositive=this._currentA>0,e._weight=this._currentB;else{var r=e._constraintData;e._bendPositive=r.bendPositive,e._weight=r.weight}e.invalidUpdate(),this.dirty=!1},e.prototype.init=function(e,r,i){t.prototype.init.call(this,e,r,i),this._valueOffset=this._animationData.frameIntOffset,this._valueScale=.01,this._valueArray=this._animationData.parent.parent.frameIntArray},e}(t.DoubleValueTimelineState);t.IKConstraintTimelineState=d;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.AnimationProgressTimelineState]"},e.prototype._onUpdateFrame=function(){t.prototype._onUpdateFrame.call(this);var e=this.target;null!==e._parent&&(e.currentTime=this._result*e.totalTime),this.dirty=!1},e.prototype.init=function(e,r,i){t.prototype.init.call(this,e,r,i),this._valueOffset=this._animationData.frameIntOffset,this._valueScale=1e-4,this._valueArray=this._animationData.parent.parent.frameIntArray},e}(t.SingleValueTimelineState);t.AnimationProgressTimelineState=_;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.AnimationWeightTimelineState]"},e.prototype._onUpdateFrame=function(){t.prototype._onUpdateFrame.call(this);var e=this.target;null!==e._parent&&(e.weight=this._result),this.dirty=!1},e.prototype.init=function(e,r,i){t.prototype.init.call(this,e,r,i),this._valueOffset=this._animationData.frameIntOffset,this._valueScale=1e-4,this._valueArray=this._animationData.parent.parent.frameIntArray},e}(t.SingleValueTimelineState);t.AnimationWeightTimelineState=m;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.toString=function(){return"[class dragonBones.AnimationParametersTimelineState]"},e.prototype._onUpdateFrame=function(){t.prototype._onUpdateFrame.call(this);var e=this.target;null!==e._parent&&(e.parameterX=this._resultA,e.parameterY=this._resultB),this.dirty=!1},e.prototype.init=function(e,r,i){t.prototype.init.call(this,e,r,i),this._valueOffset=this._animationData.frameIntOffset,this._valueScale=1e-4,this._valueArray=this._animationData.parent.parent.frameIntArray},e}(t.DoubleValueTimelineState);t.AnimationParametersTimelineState=y}(n||(n={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.actionDataToInstance=function(t,r,i){0===t.type?r.type=e.FRAME_EVENT:r.type=10===t.type?e.FRAME_EVENT:e.SOUND_EVENT,r.name=t.name,r.armature=i,r.actionData=t,r.data=t.data,null!==t.bone&&(r.bone=i.getBone(t.bone.name)),null!==t.slot&&(r.slot=i.getSlot(t.slot.name))},e.toString=function(){return"[class dragonBones.EventObject]"},e.prototype._onClear=function(){this.time=0,this.type="",this.name="",this.armature=null,this.bone=null,this.slot=null,this.animationState=null,this.actionData=null,this.data=null},e.START="start",e.LOOP_COMPLETE="loopComplete",e.COMPLETE="complete",e.FADE_IN="fadeIn",e.FADE_IN_COMPLETE="fadeInComplete",e.FADE_OUT="fadeOut",e.FADE_OUT_COMPLETE="fadeOutComplete",e.FRAME_EVENT="frameEvent",e.SOUND_EVENT="soundEvent",e}(t.BaseObject);t.EventObject=e}(n||(n={})),function(t){var e=function(){function t(){}return t._getArmatureType=function(t){switch(t.toLowerCase()){case"stage":return 2;case"armature":return 0;case"movieclip":return 1;default:return 0}},t._getBoneType=function(t){switch(t.toLowerCase()){case"bone":return 0;case"surface":return 1;default:return 0}},t._getPositionMode=function(t){switch(t.toLocaleLowerCase()){case"percent":return 1;case"fixed":return 0;default:return 1}},t._getSpacingMode=function(t){switch(t.toLocaleLowerCase()){case"length":return 0;case"percent":return 2;case"fixed":return 1;default:return 0}},t._getRotateMode=function(t){switch(t.toLocaleLowerCase()){case"tangent":return 0;case"chain":return 1;case"chainscale":return 2;default:return 0}},t._getDisplayType=function(t){switch(t.toLowerCase()){case"image":return 0;case"mesh":return 2;case"armature":return 1;case"boundingbox":return 3;case"path":return 4;default:return 0}},t._getBoundingBoxType=function(t){switch(t.toLowerCase()){case"rectangle":return 0;case"ellipse":return 1;case"polygon":return 2;default:return 0}},t._getBlendMode=function(t){switch(t.toLowerCase()){case"normal":return 0;case"add":return 1;case"alpha":return 2;case"darken":return 3;case"difference":return 4;case"erase":return 5;case"hardlight":return 6;case"invert":return 7;case"layer":return 8;case"lighten":return 9;case"multiply":return 10;case"overlay":return 11;case"screen":return 12;case"subtract":return 13;default:return 0}},t._getAnimationBlendType=function(t){switch(t.toLowerCase()){case"none":return 0;case"1d":return 1;default:return 0}},t._getActionType=function(t){switch(t.toLowerCase()){case"play":return 0;case"frame":return 10;case"sound":return 11;default:return 0}},t.DATA_VERSION_2_3="2.3",t.DATA_VERSION_3_0="3.0",t.DATA_VERSION_4_0="4.0",t.DATA_VERSION_4_5="4.5",t.DATA_VERSION_5_0="5.0",t.DATA_VERSION_5_5="5.5",t.DATA_VERSION_5_6="5.6",t.DATA_VERSION=t.DATA_VERSION_5_6,t.DATA_VERSIONS=[t.DATA_VERSION_4_0,t.DATA_VERSION_4_5,t.DATA_VERSION_5_0,t.DATA_VERSION_5_5,t.DATA_VERSION_5_6],t.TEXTURE_ATLAS="textureAtlas",t.SUB_TEXTURE="SubTexture",t.FORMAT="format",t.IMAGE_PATH="imagePath",t.WIDTH="width",t.HEIGHT="height",t.ROTATED="rotated",t.FRAME_X="frameX",t.FRAME_Y="frameY",t.FRAME_WIDTH="frameWidth",t.FRAME_HEIGHT="frameHeight",t.DRADON_BONES="dragonBones",t.USER_DATA="userData",t.ARMATURE="armature",t.CANVAS="canvas",t.BONE="bone",t.SURFACE="surface",t.SLOT="slot",t.CONSTRAINT="constraint",t.SKIN="skin",t.DISPLAY="display",t.FRAME="frame",t.IK="ik",t.PATH_CONSTRAINT="path",t.ANIMATION="animation",t.TIMELINE="timeline",t.FFD="ffd",t.TRANSLATE_FRAME="translateFrame",t.ROTATE_FRAME="rotateFrame",t.SCALE_FRAME="scaleFrame",t.DISPLAY_FRAME="displayFrame",t.COLOR_FRAME="colorFrame",t.DEFAULT_ACTIONS="defaultActions",t.ACTIONS="actions",t.EVENTS="events",t.INTS="ints",t.FLOATS="floats",t.STRINGS="strings",t.TRANSFORM="transform",t.PIVOT="pivot",t.AABB="aabb",t.COLOR="color",t.VERSION="version",t.COMPATIBLE_VERSION="compatibleVersion",t.FRAME_RATE="frameRate",t.TYPE="type",t.SUB_TYPE="subType",t.NAME="name",t.PARENT="parent",t.TARGET="target",t.STAGE="stage",t.SHARE="share",t.PATH="path",t.LENGTH="length",t.DISPLAY_INDEX="displayIndex",t.Z_ORDER="zOrder",t.Z_INDEX="zIndex",t.BLEND_MODE="blendMode",t.INHERIT_TRANSLATION="inheritTranslation",t.INHERIT_ROTATION="inheritRotation",t.INHERIT_SCALE="inheritScale",t.INHERIT_REFLECTION="inheritReflection",t.INHERIT_ANIMATION="inheritAnimation",t.INHERIT_DEFORM="inheritDeform",t.SEGMENT_X="segmentX",t.SEGMENT_Y="segmentY",t.BEND_POSITIVE="bendPositive",t.CHAIN="chain",t.WEIGHT="weight",t.BLEND_TYPE="blendType",t.FADE_IN_TIME="fadeInTime",t.PLAY_TIMES="playTimes",t.SCALE="scale",t.OFFSET="offset",t.POSITION="position",t.DURATION="duration",t.TWEEN_EASING="tweenEasing",t.TWEEN_ROTATE="tweenRotate",t.TWEEN_SCALE="tweenScale",t.CLOCK_WISE="clockwise",t.CURVE="curve",t.SOUND="sound",t.EVENT="event",t.ACTION="action",t.X="x",t.Y="y",t.SKEW_X="skX",t.SKEW_Y="skY",t.SCALE_X="scX",t.SCALE_Y="scY",t.VALUE="value",t.ROTATE="rotate",t.SKEW="skew",t.ALPHA="alpha",t.ALPHA_OFFSET="aO",t.RED_OFFSET="rO",t.GREEN_OFFSET="gO",t.BLUE_OFFSET="bO",t.ALPHA_MULTIPLIER="aM",t.RED_MULTIPLIER="rM",t.GREEN_MULTIPLIER="gM",t.BLUE_MULTIPLIER="bM",t.UVS="uvs",t.VERTICES="vertices",t.TRIANGLES="triangles",t.WEIGHTS="weights",t.SLOT_POSE="slotPose",t.BONE_POSE="bonePose",t.BONES="bones",t.POSITION_MODE="positionMode",t.SPACING_MODE="spacingMode",t.ROTATE_MODE="rotateMode",t.SPACING="spacing",t.ROTATE_OFFSET="rotateOffset",t.ROTATE_MIX="rotateMix",t.TRANSLATE_MIX="translateMix",t.TARGET_DISPLAY="targetDisplay",t.CLOSED="closed",t.CONSTANT_SPEED="constantSpeed",t.VERTEX_COUNT="vertexCount",t.LENGTHS="lengths",t.GOTO_AND_PLAY="gotoAndPlay",t.DEFAULT_NAME="default",t}();t.DataParser=e}(n||(n={})),function(t){var e=function(e){function n(){var r=null!==e&&e.apply(this,arguments)||this;return r._rawTextureAtlasIndex=0,r._rawBones=[],r._data=null,r._armature=null,r._bone=null,r._geometry=null,r._slot=null,r._skin=null,r._mesh=null,r._animation=null,r._timeline=null,r._rawTextureAtlases=null,r._frameValueType=0,r._defaultColorOffset=-1,r._prevClockwise=0,r._prevRotation=0,r._frameDefaultValue=0,r._frameValueScale=1,r._helpMatrixA=new t.Matrix,r._helpMatrixB=new t.Matrix,r._helpTransform=new t.Transform,r._helpColorTransform=new t.ColorTransform,r._helpPoint=new t.Point,r._helpArray=[],r._intArray=[],r._floatArray=[],r._frameIntArray=[],r._frameFloatArray=[],r._frameArray=[],r._timelineArray=[],r._colorArray=[],r._cacheRawMeshes=[],r._cacheMeshes=[],r._actionFrames=[],r._weightSlotPose={},r._weightBonePoses={},r._cacheBones={},r._slotChildActions={},r}return i(n,e),n._getBoolean=function(t,e,r){if(e in t){var i=t[e],n=typeof i;if("boolean"===n)return i;if("string"!==n)return!!i;switch(i){case"0":case"NaN":case"":case"false":case"null":case"undefined":return!1;default:return!0}}return r},n._getNumber=function(t,e,r){if(e in t){var i=t[e];return null===i||"NaN"===i?r:+i||0}return r},n._getString=function(t,e,r){if(e in t){var i=t[e],n=typeof i;return"string"===n?i:String(i)}return r},n.prototype._getCurvePoint=function(t,e,r,i,n,a,s,o,h,l){var u=1-h,c=u*u,f=h*h,p=u*c,d=3*h*c,_=3*u*f,m=h*f;l.x=p*t+d*r+_*n+m*s,l.y=p*e+d*i+_*a+m*o},n.prototype._samplingEasingCurve=function(t,e){var r=t.length;if(r%3===1){for(var i=-2,n=0,a=e.length;n<a;++n){var s=(n+1)/(a+1);while((i+6<r?t[i+6]:1)<s)i+=6;var o=i>=0&&i+6<r,h=o?t[i]:0,l=o?t[i+1]:0,u=t[i+2],c=t[i+3],f=t[i+4],p=t[i+5],d=o?t[i+6]:1,_=o?t[i+7]:1,m=0,y=1;while(y-m>1e-4){var v=.5*(y+m);this._getCurvePoint(h,l,u,c,f,p,d,_,v,this._helpPoint),s-this._helpPoint.x>0?m=v:y=v}e[n]=this._helpPoint.y}return!0}for(i=0,n=0,a=e.length;n<a;++n){s=(n+1)/(a+1);while(t[i+6]<s)i+=6;h=t[i],l=t[i+1],u=t[i+2],c=t[i+3],f=t[i+4],p=t[i+5],d=t[i+6],_=t[i+7],m=0,y=1;while(y-m>1e-4){v=.5*(y+m);this._getCurvePoint(h,l,u,c,f,p,d,_,v,this._helpPoint),s-this._helpPoint.x>0?m=v:y=v}e[n]=this._helpPoint.y}return!1},n.prototype._parseActionDataInFrame=function(e,r,i,n){t.DataParser.EVENT in e&&this._mergeActionFrame(e[t.DataParser.EVENT],r,10,i,n),t.DataParser.SOUND in e&&this._mergeActionFrame(e[t.DataParser.SOUND],r,11,i,n),t.DataParser.ACTION in e&&this._mergeActionFrame(e[t.DataParser.ACTION],r,0,i,n),t.DataParser.EVENTS in e&&this._mergeActionFrame(e[t.DataParser.EVENTS],r,10,i,n),t.DataParser.ACTIONS in e&&this._mergeActionFrame(e[t.DataParser.ACTIONS],r,0,i,n)},n.prototype._mergeActionFrame=function(t,e,i,n,a){for(var s=this._armature.actions.length,o=this._parseActionData(t,i,n,a),h=0,l=null,u=0,c=o;u<c.length;u++){var f=c[u];this._armature.addAction(f,!1)}0===this._actionFrames.length&&(l=new r,l.frameStart=0,this._actionFrames.push(l),l=null);for(var p=0,d=this._actionFrames;p<d.length;p++){var _=d[p];if(_.frameStart===e){l=_;break}if(_.frameStart>e)break;h++}null===l&&(l=new r,l.frameStart=e,this._actionFrames.splice(h,0,l));for(var m=0;m<o.length;++m)l.actions.push(s+m)},n.prototype._parseArmature=function(e,r){var i=t.BaseObject.borrowObject(t.ArmatureData);if(i.name=n._getString(e,t.DataParser.NAME,""),i.frameRate=n._getNumber(e,t.DataParser.FRAME_RATE,this._data.frameRate),i.scale=r,t.DataParser.TYPE in e&&"string"===typeof e[t.DataParser.TYPE]?i.type=t.DataParser._getArmatureType(e[t.DataParser.TYPE]):i.type=n._getNumber(e,t.DataParser.TYPE,0),0===i.frameRate&&(i.frameRate=24),this._armature=i,t.DataParser.CANVAS in e){var a=e[t.DataParser.CANVAS],s=t.BaseObject.borrowObject(t.CanvasData);t.DataParser.COLOR in a?s.hasBackground=!0:s.hasBackground=!1,s.color=n._getNumber(a,t.DataParser.COLOR,0),s.x=n._getNumber(a,t.DataParser.X,0)*i.scale,s.y=n._getNumber(a,t.DataParser.Y,0)*i.scale,s.width=n._getNumber(a,t.DataParser.WIDTH,0)*i.scale,s.height=n._getNumber(a,t.DataParser.HEIGHT,0)*i.scale,i.canvas=s}if(t.DataParser.AABB in e){var o=e[t.DataParser.AABB];i.aabb.x=n._getNumber(o,t.DataParser.X,0)*i.scale,i.aabb.y=n._getNumber(o,t.DataParser.Y,0)*i.scale,i.aabb.width=n._getNumber(o,t.DataParser.WIDTH,0)*i.scale,i.aabb.height=n._getNumber(o,t.DataParser.HEIGHT,0)*i.scale}if(t.DataParser.BONE in e)for(var h=e[t.DataParser.BONE],l=0,u=h;l<u.length;l++){var c=u[l],f=n._getString(c,t.DataParser.PARENT,""),p=this._parseBone(c);if(f.length>0){var d=i.getBone(f);null!==d?p.parent=d:(f in this._cacheBones||(this._cacheBones[f]=[]),this._cacheBones[f].push(p))}if(p.name in this._cacheBones){for(var _=0,m=this._cacheBones[p.name];_<m.length;_++){var y=m[_];y.parent=p}delete this._cacheBones[p.name]}i.addBone(p),this._rawBones.push(p)}if(t.DataParser.IK in e)for(var v=e[t.DataParser.IK],g=0,b=v;g<b.length;g++){var x=b[g],T=this._parseIKConstraint(x);T&&i.addConstraint(T)}if(i.sortBones(),t.DataParser.SLOT in e)for(var D=0,A=e[t.DataParser.SLOT],w=0,S=A;w<S.length;w++){var E=S[w];i.addSlot(this._parseSlot(E,D++))}if(t.DataParser.SKIN in e)for(var P=e[t.DataParser.SKIN],O=0,I=P;O<I.length;O++){var C=I[O];i.addSkin(this._parseSkin(C))}if(t.DataParser.PATH_CONSTRAINT in e)for(var M=e[t.DataParser.PATH_CONSTRAINT],F=0,R=M;F<R.length;F++){var B=R[F];T=this._parsePathConstraint(B);T&&i.addConstraint(T)}for(var N=0,L=this._cacheRawMeshes.length;N<L;++N){var k=this._cacheRawMeshes[N],j=n._getString(k,t.DataParser.SHARE,"");if(0!==j.length){var U=n._getString(k,t.DataParser.SKIN,t.DataParser.DEFAULT_NAME);0===U.length&&(U=t.DataParser.DEFAULT_NAME);var X=i.getMesh(U,"",j);if(null!==X){var V=this._cacheMeshes[N];V.geometry.shareFrom(X.geometry)}}}if(t.DataParser.ANIMATION in e)for(var G=e[t.DataParser.ANIMATION],Y=0,H=G;Y<H.length;Y++){var z=H[Y],W=this._parseAnimation(z);i.addAnimation(W)}if(t.DataParser.DEFAULT_ACTIONS in e)for(var $=this._parseActionData(e[t.DataParser.DEFAULT_ACTIONS],0,null,null),q=0,K=$;q<K.length;q++){var Z=K[q];if(i.addAction(Z,!0),0===Z.type){W=i.getAnimation(Z.name);null!==W&&(i.defaultAnimation=W)}}if(t.DataParser.ACTIONS in e){$=this._parseActionData(e[t.DataParser.ACTIONS],0,null,null);for(var J=0,Q=$;J<Q.length;J++){Z=Q[J];i.addAction(Z,!1)}}for(var tt in this._rawBones.length=0,this._cacheRawMeshes.length=0,this._cacheMeshes.length=0,this._armature=null,this._weightSlotPose)delete this._weightSlotPose[tt];for(var tt in this._weightBonePoses)delete this._weightBonePoses[tt];for(var tt in this._cacheBones)delete this._cacheBones[tt];for(var tt in this._slotChildActions)delete this._slotChildActions[tt];return i},n.prototype._parseBone=function(e){var r=0;if(r=t.DataParser.TYPE in e&&"string"===typeof e[t.DataParser.TYPE]?t.DataParser._getBoneType(e[t.DataParser.TYPE]):n._getNumber(e,t.DataParser.TYPE,0),0===r){var i=this._armature.scale,a=t.BaseObject.borrowObject(t.BoneData);return a.inheritTranslation=n._getBoolean(e,t.DataParser.INHERIT_TRANSLATION,!0),a.inheritRotation=n._getBoolean(e,t.DataParser.INHERIT_ROTATION,!0),a.inheritScale=n._getBoolean(e,t.DataParser.INHERIT_SCALE,!0),a.inheritReflection=n._getBoolean(e,t.DataParser.INHERIT_REFLECTION,!0),a.length=n._getNumber(e,t.DataParser.LENGTH,0)*i,a.alpha=n._getNumber(e,t.DataParser.ALPHA,1),a.name=n._getString(e,t.DataParser.NAME,""),t.DataParser.TRANSFORM in e&&this._parseTransform(e[t.DataParser.TRANSFORM],a.transform,i),a}var s=t.BaseObject.borrowObject(t.SurfaceData);return s.alpha=n._getNumber(e,t.DataParser.ALPHA,1),s.name=n._getString(e,t.DataParser.NAME,""),s.segmentX=n._getNumber(e,t.DataParser.SEGMENT_X,0),s.segmentY=n._getNumber(e,t.DataParser.SEGMENT_Y,0),this._parseGeometry(e,s.geometry),s},n.prototype._parseIKConstraint=function(e){var r=this._armature.getBone(n._getString(e,t.DataParser.BONE,""));if(null===r)return null;var i=this._armature.getBone(n._getString(e,t.DataParser.TARGET,""));if(null===i)return null;var a=n._getNumber(e,t.DataParser.CHAIN,0),s=t.BaseObject.borrowObject(t.IKConstraintData);return s.scaleEnabled=n._getBoolean(e,t.DataParser.SCALE,!1),s.bendPositive=n._getBoolean(e,t.DataParser.BEND_POSITIVE,!0),s.weight=n._getNumber(e,t.DataParser.WEIGHT,1),s.name=n._getString(e,t.DataParser.NAME,""),s.type=0,s.target=i,a>0&&null!==r.parent?(s.root=r.parent,s.bone=r):(s.root=r,s.bone=null),s},n.prototype._parsePathConstraint=function(e){var r=this._armature.getSlot(n._getString(e,t.DataParser.TARGET,""));if(null===r)return null;var i=this._armature.defaultSkin;if(null===i)return null;var a=i.getDisplay(r.name,n._getString(e,t.DataParser.TARGET_DISPLAY,r.name));if(null===a||!(a instanceof t.PathDisplayData))return null;var s=e[t.DataParser.BONES];if(null===s||0===s.length)return null;var o=t.BaseObject.borrowObject(t.PathConstraintData);o.name=n._getString(e,t.DataParser.NAME,""),o.type=1,o.pathSlot=r,o.pathDisplayData=a,o.target=r.parent,o.positionMode=t.DataParser._getPositionMode(n._getString(e,t.DataParser.POSITION_MODE,"")),o.spacingMode=t.DataParser._getSpacingMode(n._getString(e,t.DataParser.SPACING_MODE,"")),o.rotateMode=t.DataParser._getRotateMode(n._getString(e,t.DataParser.ROTATE_MODE,"")),o.position=n._getNumber(e,t.DataParser.POSITION,0),o.spacing=n._getNumber(e,t.DataParser.SPACING,0),o.rotateOffset=n._getNumber(e,t.DataParser.ROTATE_OFFSET,0),o.rotateMix=n._getNumber(e,t.DataParser.ROTATE_MIX,1),o.translateMix=n._getNumber(e,t.DataParser.TRANSLATE_MIX,1);for(var h=0,l=s;h<l.length;h++){var u=l[h],c=this._armature.getBone(u);null!==c&&(o.AddBone(c),null===o.root&&(o.root=c))}return o},n.prototype._parseSlot=function(e,r){var i=t.BaseObject.borrowObject(t.SlotData);return i.displayIndex=n._getNumber(e,t.DataParser.DISPLAY_INDEX,0),i.zOrder=r,i.zIndex=n._getNumber(e,t.DataParser.Z_INDEX,0),i.alpha=n._getNumber(e,t.DataParser.ALPHA,1),i.name=n._getString(e,t.DataParser.NAME,""),i.parent=this._armature.getBone(n._getString(e,t.DataParser.PARENT,"")),t.DataParser.BLEND_MODE in e&&"string"===typeof e[t.DataParser.BLEND_MODE]?i.blendMode=t.DataParser._getBlendMode(e[t.DataParser.BLEND_MODE]):i.blendMode=n._getNumber(e,t.DataParser.BLEND_MODE,0),t.DataParser.COLOR in e?(i.color=t.SlotData.createColor(),this._parseColorTransform(e[t.DataParser.COLOR],i.color)):i.color=t.SlotData.DEFAULT_COLOR,t.DataParser.ACTIONS in e&&(this._slotChildActions[i.name]=this._parseActionData(e[t.DataParser.ACTIONS],0,null,null)),i},n.prototype._parseSkin=function(e){var r=t.BaseObject.borrowObject(t.SkinData);if(r.name=n._getString(e,t.DataParser.NAME,t.DataParser.DEFAULT_NAME),0===r.name.length&&(r.name=t.DataParser.DEFAULT_NAME),t.DataParser.SLOT in e){var i=e[t.DataParser.SLOT];this._skin=r;for(var a=0,s=i;a<s.length;a++){var o=s[a],h=n._getString(o,t.DataParser.NAME,""),l=this._armature.getSlot(h);if(null!==l){if(this._slot=l,t.DataParser.DISPLAY in o)for(var u=o[t.DataParser.DISPLAY],c=0,f=u;c<f.length;c++){var p=f[c];p?r.addDisplay(h,this._parseDisplay(p)):r.addDisplay(h,null)}this._slot=null}}this._skin=null}return r},n.prototype._parseDisplay=function(e){var r=n._getString(e,t.DataParser.NAME,""),i=n._getString(e,t.DataParser.PATH,""),a=0,s=null;switch(a=t.DataParser.TYPE in e&&"string"===typeof e[t.DataParser.TYPE]?t.DataParser._getDisplayType(e[t.DataParser.TYPE]):n._getNumber(e,t.DataParser.TYPE,a),a){case 0:var o=s=t.BaseObject.borrowObject(t.ImageDisplayData);o.name=r,o.path=i.length>0?i:r,this._parsePivot(e,o);break;case 1:var h=s=t.BaseObject.borrowObject(t.ArmatureDisplayData);if(h.name=r,h.path=i.length>0?i:r,h.inheritAnimation=!0,t.DataParser.ACTIONS in e)for(var l=this._parseActionData(e[t.DataParser.ACTIONS],0,null,null),u=0,c=l;u<c.length;u++){var f=c[u];h.addAction(f)}else if(this._slot.name in this._slotChildActions){var p=this._skin.getDisplays(this._slot.name);if(null===p?0===this._slot.displayIndex:this._slot.displayIndex===p.length){for(var d=0,_=this._slotChildActions[this._slot.name];d<_.length;d++){f=_[d];h.addAction(f)}delete this._slotChildActions[this._slot.name]}}break;case 2:var m=s=t.BaseObject.borrowObject(t.MeshDisplayData);m.geometry.inheritDeform=n._getBoolean(e,t.DataParser.INHERIT_DEFORM,!0),m.name=r,m.path=i.length>0?i:r,t.DataParser.SHARE in e?(m.geometry.data=this._data,this._cacheRawMeshes.push(e),this._cacheMeshes.push(m)):this._parseMesh(e,m);break;case 3:var y=this._parseBoundingBox(e);if(null!==y){var v=s=t.BaseObject.borrowObject(t.BoundingBoxDisplayData);v.name=r,v.path=i.length>0?i:r,v.boundingBox=y}break;case 4:var g=e[t.DataParser.LENGTHS],b=s=t.BaseObject.borrowObject(t.PathDisplayData);b.closed=n._getBoolean(e,t.DataParser.CLOSED,!1),b.constantSpeed=n._getBoolean(e,t.DataParser.CONSTANT_SPEED,!1),b.name=r,b.path=i.length>0?i:r,b.curveLengths.length=g.length;for(var x=0,T=g.length;x<T;++x)b.curveLengths[x]=g[x];this._parsePath(e,b);break}return null!==s&&t.DataParser.TRANSFORM in e&&this._parseTransform(e[t.DataParser.TRANSFORM],s.transform,this._armature.scale),s},n.prototype._parsePath=function(t,e){this._parseGeometry(t,e.geometry)},n.prototype._parsePivot=function(e,r){if(t.DataParser.PIVOT in e){var i=e[t.DataParser.PIVOT];r.pivot.x=n._getNumber(i,t.DataParser.X,0),r.pivot.y=n._getNumber(i,t.DataParser.Y,0)}else r.pivot.x=.5,r.pivot.y=.5},n.prototype._parseMesh=function(e,r){if(this._parseGeometry(e,r.geometry),t.DataParser.WEIGHTS in e){var i=e[t.DataParser.SLOT_POSE],n=e[t.DataParser.BONE_POSE],a=this._skin.name+"_"+this._slot.name+"_"+r.name;this._weightSlotPose[a]=i,this._weightBonePoses[a]=n}},n.prototype._parseBoundingBox=function(e){var r=null,i=0;switch(i=t.DataParser.SUB_TYPE in e&&"string"===typeof e[t.DataParser.SUB_TYPE]?t.DataParser._getBoundingBoxType(e[t.DataParser.SUB_TYPE]):n._getNumber(e,t.DataParser.SUB_TYPE,i),i){case 0:r=t.BaseObject.borrowObject(t.RectangleBoundingBoxData);break;case 1:r=t.BaseObject.borrowObject(t.EllipseBoundingBoxData);break;case 2:r=this._parsePolygonBoundingBox(e);break}return null!==r&&(r.color=n._getNumber(e,t.DataParser.COLOR,0),0!==r.type&&1!==r.type||(r.width=n._getNumber(e,t.DataParser.WIDTH,0),r.height=n._getNumber(e,t.DataParser.HEIGHT,0))),r},n.prototype._parsePolygonBoundingBox=function(e){var r=t.BaseObject.borrowObject(t.PolygonBoundingBoxData);if(t.DataParser.VERTICES in e){var i=this._armature.scale,n=e[t.DataParser.VERTICES],a=r.vertices;a.length=n.length;for(var s=0,o=n.length;s<o;s+=2){var h=n[s]*i,l=n[s+1]*i;a[s]=h,a[s+1]=l,0===s?(r.x=h,r.y=l,r.width=h,r.height=l):(h<r.x?r.x=h:h>r.width&&(r.width=h),l<r.y?r.y=l:l>r.height&&(r.height=l))}r.width-=r.x,r.height-=r.y}else console.warn("Data error.\n Please reexport DragonBones Data to fixed the bug.");return r},n.prototype._parseAnimation=function(e){var r=t.BaseObject.borrowObject(t.AnimationData);if(r.blendType=t.DataParser._getAnimationBlendType(n._getString(e,t.DataParser.BLEND_TYPE,"")),r.frameCount=n._getNumber(e,t.DataParser.DURATION,0),r.playTimes=n._getNumber(e,t.DataParser.PLAY_TIMES,1),r.duration=r.frameCount/this._armature.frameRate,r.fadeInTime=n._getNumber(e,t.DataParser.FADE_IN_TIME,0),r.scale=n._getNumber(e,t.DataParser.SCALE,1),r.name=n._getString(e,t.DataParser.NAME,t.DataParser.DEFAULT_NAME),0===r.name.length&&(r.name=t.DataParser.DEFAULT_NAME),r.frameIntOffset=this._frameIntArray.length,r.frameFloatOffset=this._frameFloatArray.length,r.frameOffset=this._frameArray.length,this._animation=r,t.DataParser.FRAME in e){var i=e[t.DataParser.FRAME],a=i.length;if(a>0)for(var s=0,o=0;s<a;++s){var h=i[s];this._parseActionDataInFrame(h,o,null,null),o+=n._getNumber(h,t.DataParser.DURATION,1)}}if(t.DataParser.Z_ORDER in e&&(this._animation.zOrderTimeline=this._parseTimeline(e[t.DataParser.Z_ORDER],null,t.DataParser.FRAME,1,0,0,this._parseZOrderFrame)),t.DataParser.BONE in e)for(var l=e[t.DataParser.BONE],u=0,c=l;u<c.length;u++){var f=c[u];this._parseBoneTimeline(f)}if(t.DataParser.SLOT in e){l=e[t.DataParser.SLOT];for(var p=0,d=l;p<d.length;p++){f=d[p];this._parseSlotTimeline(f)}}if(t.DataParser.FFD in e){l=e[t.DataParser.FFD];for(var _=0,m=l;_<m.length;_++){f=m[_];var y=n._getString(f,t.DataParser.SKIN,t.DataParser.DEFAULT_NAME),v=n._getString(f,t.DataParser.SLOT,""),g=n._getString(f,t.DataParser.NAME,"");if(0===y.length&&(y=t.DataParser.DEFAULT_NAME),this._slot=this._armature.getSlot(v),this._mesh=this._armature.getMesh(y,v,g),null!==this._slot&&null!==this._mesh){var b=this._parseTimeline(f,null,t.DataParser.FRAME,22,2,0,this._parseSlotDeformFrame);null!==b&&this._animation.addSlotTimeline(v,b),this._slot=null,this._mesh=null}}}if(t.DataParser.IK in e){l=e[t.DataParser.IK];for(var x=0,T=l;x<T.length;x++){f=T[x];var D=n._getString(f,t.DataParser.NAME,""),A=this._armature.getConstraint(D);if(null!==A){b=this._parseTimeline(f,null,t.DataParser.FRAME,30,1,2,this._parseIKConstraintFrame);null!==b&&this._animation.addConstraintTimeline(D,b)}}}if(this._actionFrames.length>0&&(this._animation.actionTimeline=this._parseTimeline(null,this._actionFrames,"",0,0,0,this._parseActionFrame),this._actionFrames.length=0),t.DataParser.TIMELINE in e){l=e[t.DataParser.TIMELINE];for(var w=0,S=l;w<S.length;w++){f=S[w];var E=n._getNumber(f,t.DataParser.TYPE,0),P=n._getString(f,t.DataParser.NAME,"");b=null;switch(E){case 0:break;case 20:case 23:case 60:case 24:case 40:case 41:if(20===E?(this._frameValueType=0,this._frameValueScale=1):(this._frameValueType=1,this._frameValueScale=23===E?1:40===E||41===E?1e4:100),this._frameDefaultValue=60===E||24===E||41===E?1:0,40===E&&0!==r.blendType){b=t.BaseObject.borrowObject(t.AnimationTimelineData);var O=b;O.x=n._getNumber(f,t.DataParser.X,0),O.y=n._getNumber(f,t.DataParser.Y,0)}b=this._parseTimeline(f,null,t.DataParser.FRAME,E,this._frameValueType,1,this._parseSingleValueFrame,b);break;case 11:case 12:case 13:case 30:case 42:30===E||42===E?(this._frameValueType=1,this._frameValueScale=42===E?1e4:100):(this._frameValueScale=12===E?t.Transform.DEG_RAD:1,this._frameValueType=2),this._frameDefaultValue=13===E||30===E?1:0,b=this._parseTimeline(f,null,t.DataParser.FRAME,E,this._frameValueType,2,this._parseDoubleValueFrame);break;case 1:break;case 50:var I=this._armature.getBone(P);if(null===I)continue;this._geometry=I.geometry,b=this._parseTimeline(f,null,t.DataParser.FRAME,E,2,0,this._parseDeformFrame),this._geometry=null;break;case 22:for(var y in this._geometry=null,this._armature.skins){var C=this._armature.skins[y];for(var M in C.displays)for(var F=C.displays[M],R=0,B=F;R<B.length;R++){var N=B[R];if(null!==N&&N.name===P){this._geometry=N.geometry;break}}}if(null===this._geometry)continue;b=this._parseTimeline(f,null,t.DataParser.FRAME,E,2,0,this._parseDeformFrame),this._geometry=null;break;case 21:b=this._parseTimeline(f,null,t.DataParser.FRAME,E,1,1,this._parseSlotColorFrame);break}if(null!==b)switch(E){case 0:break;case 1:break;case 11:case 12:case 13:case 50:case 60:this._animation.addBoneTimeline(P,b);break;case 20:case 21:case 22:case 23:case 24:this._animation.addSlotTimeline(P,b);break;case 30:this._animation.addConstraintTimeline(P,b);break;case 40:case 41:case 42:this._animation.addAnimationTimeline(P,b);break}}}return this._animation=null,r},n.prototype._parseTimeline=function(e,i,a,s,o,h,l,u){if(void 0===u&&(u=null),null!==e&&a.length>0&&a in e&&(i=e[a]),null===i)return null;var c=i.length;if(0===c)return null;var f=this._frameIntArray.length,p=this._frameFloatArray.length,d=this._timelineArray.length;switch(null===u&&(u=t.BaseObject.borrowObject(t.TimelineData)),u.type=s,u.offset=d,this._frameValueType=o,this._timeline=u,this._timelineArray.length+=5+c,null!==e?(this._timelineArray[d+0]=Math.round(100*n._getNumber(e,t.DataParser.SCALE,1)),this._timelineArray[d+1]=Math.round(100*n._getNumber(e,t.DataParser.OFFSET,0))):(this._timelineArray[d+0]=100,this._timelineArray[d+1]=0),this._timelineArray[d+2]=c,this._timelineArray[d+3]=h,this._frameValueType){case 0:this._timelineArray[d+4]=0;break;case 1:this._timelineArray[d+4]=f-this._animation.frameIntOffset;break;case 2:this._timelineArray[d+4]=p-this._animation.frameFloatOffset;break}if(1===c)u.frameIndicesOffset=-1,this._timelineArray[d+5+0]=l.call(this,i[0],0,0)-this._animation.frameOffset;else{var _=this._animation.frameCount+1,m=this._data.frameIndices,y=m.length;m.length+=_,u.frameIndicesOffset=y;for(var v=0,g=0,b=0,x=0;v<_;++v){if(b+x<=v&&g<c){var T=i[g];b=v,x=g===c-1?this._animation.frameCount-b:T instanceof r?this._actionFrames[g+1].frameStart-b:n._getNumber(T,t.DataParser.DURATION,1),this._timelineArray[d+5+g]=l.call(this,T,b,x)-this._animation.frameOffset,g++}m[y+v]=g-1}}return this._timeline=null,u},n.prototype._parseBoneTimeline=function(e){var r=this._armature.getBone(n._getString(e,t.DataParser.NAME,""));if(null!==r){if(this._bone=r,this._slot=this._armature.getSlot(this._bone.name),t.DataParser.TRANSLATE_FRAME in e){this._frameDefaultValue=0,this._frameValueScale=1;var i=this._parseTimeline(e,null,t.DataParser.TRANSLATE_FRAME,11,2,2,this._parseDoubleValueFrame);null!==i&&this._animation.addBoneTimeline(r.name,i)}if(t.DataParser.ROTATE_FRAME in e){this._frameDefaultValue=0,this._frameValueScale=1;i=this._parseTimeline(e,null,t.DataParser.ROTATE_FRAME,12,2,2,this._parseBoneRotateFrame);null!==i&&this._animation.addBoneTimeline(r.name,i)}if(t.DataParser.SCALE_FRAME in e){this._frameDefaultValue=1,this._frameValueScale=1;i=this._parseTimeline(e,null,t.DataParser.SCALE_FRAME,13,2,2,this._parseBoneScaleFrame);null!==i&&this._animation.addBoneTimeline(r.name,i)}if(t.DataParser.FRAME in e){i=this._parseTimeline(e,null,t.DataParser.FRAME,10,2,6,this._parseBoneAllFrame);null!==i&&this._animation.addBoneTimeline(r.name,i)}this._bone=null,this._slot=null}},n.prototype._parseSlotTimeline=function(e){var r=this._armature.getSlot(n._getString(e,t.DataParser.NAME,""));if(null!==r){var i=null,a=null;this._slot=r,i=t.DataParser.DISPLAY_FRAME in e?this._parseTimeline(e,null,t.DataParser.DISPLAY_FRAME,20,0,0,this._parseSlotDisplayFrame):this._parseTimeline(e,null,t.DataParser.FRAME,20,0,0,this._parseSlotDisplayFrame),a=t.DataParser.COLOR_FRAME in e?this._parseTimeline(e,null,t.DataParser.COLOR_FRAME,21,1,1,this._parseSlotColorFrame):this._parseTimeline(e,null,t.DataParser.FRAME,21,1,1,this._parseSlotColorFrame),null!==i&&this._animation.addSlotTimeline(r.name,i),null!==a&&this._animation.addSlotTimeline(r.name,a),this._slot=null}},n.prototype._parseFrame=function(t,e,r){var i=this._frameArray.length;return this._frameArray.length+=1,this._frameArray[i+0]=e,i},n.prototype._parseTweenFrame=function(e,r,i){var a=this._parseFrame(e,r,i);if(i>0)if(t.DataParser.CURVE in e){var s=i+1;this._helpArray.length=s;var o=this._samplingEasingCurve(e[t.DataParser.CURVE],this._helpArray);this._frameArray.length+=2+this._helpArray.length,this._frameArray[a+1]=2,this._frameArray[a+2]=o?s:-s;for(var h=0;h<s;++h)this._frameArray[a+3+h]=Math.round(1e4*this._helpArray[h])}else{var l=-2,u=l;t.DataParser.TWEEN_EASING in e&&(u=n._getNumber(e,t.DataParser.TWEEN_EASING,l)),u===l?(this._frameArray.length+=1,this._frameArray[a+1]=0):0===u?(this._frameArray.length+=1,this._frameArray[a+1]=1):u<0?(this._frameArray.length+=2,this._frameArray[a+1]=3,this._frameArray[a+2]=Math.round(100*-u)):u<=1?(this._frameArray.length+=2,this._frameArray[a+1]=4,this._frameArray[a+2]=Math.round(100*u)):(this._frameArray.length+=2,this._frameArray[a+1]=5,this._frameArray[a+2]=Math.round(100*u-100))}else this._frameArray.length+=1,this._frameArray[a+1]=0;return a},n.prototype._parseSingleValueFrame=function(e,r,i){var a=0;switch(this._frameValueType){case 0:a=this._parseFrame(e,r,i),this._frameArray.length+=1,this._frameArray[a+1]=n._getNumber(e,t.DataParser.VALUE,this._frameDefaultValue);break;case 1:a=this._parseTweenFrame(e,r,i);var s=this._frameIntArray.length;this._frameIntArray.length+=1,this._frameIntArray[s]=Math.round(n._getNumber(e,t.DataParser.VALUE,this._frameDefaultValue)*this._frameValueScale);break;case 2:a=this._parseTweenFrame(e,r,i);s=this._frameFloatArray.length;this._frameFloatArray.length+=1,this._frameFloatArray[s]=n._getNumber(e,t.DataParser.VALUE,this._frameDefaultValue)*this._frameValueScale;break}return a},n.prototype._parseDoubleValueFrame=function(e,r,i){var a=0;switch(this._frameValueType){case 0:a=this._parseFrame(e,r,i),this._frameArray.length+=2,this._frameArray[a+1]=n._getNumber(e,t.DataParser.X,this._frameDefaultValue),this._frameArray[a+2]=n._getNumber(e,t.DataParser.Y,this._frameDefaultValue);break;case 1:a=this._parseTweenFrame(e,r,i);var s=this._frameIntArray.length;this._frameIntArray.length+=2,this._frameIntArray[s]=Math.round(n._getNumber(e,t.DataParser.X,this._frameDefaultValue)*this._frameValueScale),this._frameIntArray[s+1]=Math.round(n._getNumber(e,t.DataParser.Y,this._frameDefaultValue)*this._frameValueScale);break;case 2:a=this._parseTweenFrame(e,r,i);s=this._frameFloatArray.length;this._frameFloatArray.length+=2,this._frameFloatArray[s]=n._getNumber(e,t.DataParser.X,this._frameDefaultValue)*this._frameValueScale,this._frameFloatArray[s+1]=n._getNumber(e,t.DataParser.Y,this._frameDefaultValue)*this._frameValueScale;break}return a},n.prototype._parseActionFrame=function(t,e,r){var i=this._frameArray.length,n=t.actions.length;this._frameArray.length+=2+n,this._frameArray[i+0]=e,this._frameArray[i+0+1]=n;for(var a=0;a<n;++a)this._frameArray[i+0+2+a]=t.actions[a];return i},n.prototype._parseZOrderFrame=function(e,r,i){var n=this._parseFrame(e,r,i);if(t.DataParser.Z_ORDER in e){var a=e[t.DataParser.Z_ORDER];if(a.length>0){for(var s=this._armature.sortedSlots.length,o=new Array(s-a.length/2),h=new Array(s),l=0;l<o.length;++l)o[l]=0;for(var u=0;u<s;++u)h[u]=-1;for(var c=0,f=0,p=0,d=a.length;p<d;p+=2){var _=a[p],m=a[p+1];while(c!==_)o[f++]=c++;var y=c+m;h[y]=c++}while(c<s)o[f++]=c++;this._frameArray.length+=1+s,this._frameArray[n+1]=s;var v=s;while(v--)-1===h[v]?this._frameArray[n+2+v]=o[--f]||0:this._frameArray[n+2+v]=h[v]||0;return n}}return this._frameArray.length+=1,this._frameArray[n+1]=0,n},n.prototype._parseBoneAllFrame=function(e,r,i){this._helpTransform.identity(),t.DataParser.TRANSFORM in e&&this._parseTransform(e[t.DataParser.TRANSFORM],this._helpTransform,1);var a=this._helpTransform.rotation;0!==r&&(0===this._prevClockwise?a=this._prevRotation+t.Transform.normalizeRadian(a-this._prevRotation):((this._prevClockwise>0?a>=this._prevRotation:a<=this._prevRotation)&&(this._prevClockwise=this._prevClockwise>0?this._prevClockwise-1:this._prevClockwise+1),a=this._prevRotation+a-this._prevRotation+t.Transform.PI_D*this._prevClockwise)),this._prevClockwise=n._getNumber(e,t.DataParser.TWEEN_ROTATE,0),this._prevRotation=a;var s=this._parseTweenFrame(e,r,i),o=this._frameFloatArray.length;return this._frameFloatArray.length+=6,this._frameFloatArray[o++]=this._helpTransform.x,this._frameFloatArray[o++]=this._helpTransform.y,this._frameFloatArray[o++]=a,this._frameFloatArray[o++]=this._helpTransform.skew,this._frameFloatArray[o++]=this._helpTransform.scaleX,this._frameFloatArray[o++]=this._helpTransform.scaleY,this._parseActionDataInFrame(e,r,this._bone,this._slot),s},n.prototype._parseBoneTranslateFrame=function(e,r,i){var a=this._parseTweenFrame(e,r,i),s=this._frameFloatArray.length;return this._frameFloatArray.length+=2,this._frameFloatArray[s++]=n._getNumber(e,t.DataParser.X,0),this._frameFloatArray[s++]=n._getNumber(e,t.DataParser.Y,0),a},n.prototype._parseBoneRotateFrame=function(e,r,i){var a=n._getNumber(e,t.DataParser.ROTATE,0)*t.Transform.DEG_RAD;0!==r&&(0===this._prevClockwise?a=this._prevRotation+t.Transform.normalizeRadian(a-this._prevRotation):((this._prevClockwise>0?a>=this._prevRotation:a<=this._prevRotation)&&(this._prevClockwise=this._prevClockwise>0?this._prevClockwise-1:this._prevClockwise+1),a=this._prevRotation+a-this._prevRotation+t.Transform.PI_D*this._prevClockwise)),this._prevClockwise=n._getNumber(e,t.DataParser.CLOCK_WISE,0),this._prevRotation=a;var s=this._parseTweenFrame(e,r,i),o=this._frameFloatArray.length;return this._frameFloatArray.length+=2,this._frameFloatArray[o++]=a,this._frameFloatArray[o++]=n._getNumber(e,t.DataParser.SKEW,0)*t.Transform.DEG_RAD,s},n.prototype._parseBoneScaleFrame=function(e,r,i){var a=this._parseTweenFrame(e,r,i),s=this._frameFloatArray.length;return this._frameFloatArray.length+=2,this._frameFloatArray[s++]=n._getNumber(e,t.DataParser.X,1),this._frameFloatArray[s++]=n._getNumber(e,t.DataParser.Y,1),a},n.prototype._parseSlotDisplayFrame=function(e,r,i){var a=this._parseFrame(e,r,i);return this._frameArray.length+=1,t.DataParser.VALUE in e?this._frameArray[a+1]=n._getNumber(e,t.DataParser.VALUE,0):this._frameArray[a+1]=n._getNumber(e,t.DataParser.DISPLAY_INDEX,0),this._parseActionDataInFrame(e,r,this._slot.parent,this._slot),a},n.prototype._parseSlotColorFrame=function(e,r,i){var n=this._parseTweenFrame(e,r,i),a=-1;if(t.DataParser.VALUE in e||t.DataParser.COLOR in e){var s=t.DataParser.VALUE in e?e[t.DataParser.VALUE]:e[t.DataParser.COLOR];for(var o in s){this._parseColorTransform(s,this._helpColorTransform),a=this._colorArray.length,this._colorArray.length+=8,this._colorArray[a++]=Math.round(100*this._helpColorTransform.alphaMultiplier),this._colorArray[a++]=Math.round(100*this._helpColorTransform.redMultiplier),this._colorArray[a++]=Math.round(100*this._helpColorTransform.greenMultiplier),this._colorArray[a++]=Math.round(100*this._helpColorTransform.blueMultiplier),this._colorArray[a++]=Math.round(this._helpColorTransform.alphaOffset),this._colorArray[a++]=Math.round(this._helpColorTransform.redOffset),this._colorArray[a++]=Math.round(this._helpColorTransform.greenOffset),this._colorArray[a++]=Math.round(this._helpColorTransform.blueOffset),a-=8;break}}a<0&&(this._defaultColorOffset<0&&(this._defaultColorOffset=a=this._colorArray.length,this._colorArray.length+=8,this._colorArray[a++]=100,this._colorArray[a++]=100,this._colorArray[a++]=100,this._colorArray[a++]=100,this._colorArray[a++]=0,this._colorArray[a++]=0,this._colorArray[a++]=0,this._colorArray[a++]=0),a=this._defaultColorOffset);var h=this._frameIntArray.length;return this._frameIntArray.length+=1,this._frameIntArray[h]=a,n},n.prototype._parseSlotDeformFrame=function(e,r,i){var a=this._frameFloatArray.length,s=this._parseTweenFrame(e,r,i),o=t.DataParser.VERTICES in e?e[t.DataParser.VERTICES]:null,h=n._getNumber(e,t.DataParser.OFFSET,0),l=this._intArray[this._mesh.geometry.offset+0],u=this._mesh.parent.name+"_"+this._slot.name+"_"+this._mesh.name,c=this._mesh.geometry.weight,f=0,p=0,d=0,_=0;if(null!==c){var m=this._weightSlotPose[u];this._helpMatrixA.copyFromArray(m,0),this._frameFloatArray.length+=2*c.count,d=c.offset+2+c.bones.length}else this._frameFloatArray.length+=2*l;for(var y=0;y<2*l;y+=2)if(null===o?(f=0,p=0):(f=y<h||y-h>=o.length?0:o[y-h],p=y+1<h||y+1-h>=o.length?0:o[y+1-h]),null!==c){var v=this._weightBonePoses[u],g=this._intArray[d++];this._helpMatrixA.transformPoint(f,p,this._helpPoint,!0),f=this._helpPoint.x,p=this._helpPoint.y;for(var b=0;b<g;++b){var x=this._intArray[d++];this._helpMatrixB.copyFromArray(v,7*x+1),this._helpMatrixB.invert(),this._helpMatrixB.transformPoint(f,p,this._helpPoint,!0),this._frameFloatArray[a+_++]=this._helpPoint.x,this._frameFloatArray[a+_++]=this._helpPoint.y}}else this._frameFloatArray[a+y]=f,this._frameFloatArray[a+y+1]=p;if(0===r){var T=this._frameIntArray.length;this._frameIntArray.length+=5,this._frameIntArray[T+0]=this._mesh.geometry.offset,this._frameIntArray[T+1]=this._frameFloatArray.length-a,this._frameIntArray[T+2]=this._frameFloatArray.length-a,this._frameIntArray[T+3]=0,this._frameIntArray[T+4]=a-this._animation.frameFloatOffset,this._timelineArray[this._timeline.offset+3]=T-this._animation.frameIntOffset}return s},n.prototype._parseIKConstraintFrame=function(e,r,i){var a=this._parseTweenFrame(e,r,i),s=this._frameIntArray.length;return this._frameIntArray.length+=2,this._frameIntArray[s++]=n._getBoolean(e,t.DataParser.BEND_POSITIVE,!0)?1:0,this._frameIntArray[s++]=Math.round(100*n._getNumber(e,t.DataParser.WEIGHT,1)),a},n.prototype._parseActionData=function(e,r,i,a){var s=new Array;if("string"===typeof e){var o=t.BaseObject.borrowObject(t.ActionData);o.type=r,o.name=e,o.bone=i,o.slot=a,s.push(o)}else if(e instanceof Array)for(var h=0,l=e;h<l.length;h++){var u=l[h];o=t.BaseObject.borrowObject(t.ActionData);if(t.DataParser.GOTO_AND_PLAY in u?(o.type=0,o.name=n._getString(u,t.DataParser.GOTO_AND_PLAY,"")):(t.DataParser.TYPE in u&&"string"===typeof u[t.DataParser.TYPE]?o.type=t.DataParser._getActionType(u[t.DataParser.TYPE]):o.type=n._getNumber(u,t.DataParser.TYPE,r),o.name=n._getString(u,t.DataParser.NAME,"")),t.DataParser.BONE in u){var c=n._getString(u,t.DataParser.BONE,"");o.bone=this._armature.getBone(c)}else o.bone=i;if(t.DataParser.SLOT in u){var f=n._getString(u,t.DataParser.SLOT,"");o.slot=this._armature.getSlot(f)}else o.slot=a;var p=null;if(t.DataParser.INTS in u){null===p&&(p=t.BaseObject.borrowObject(t.UserData));for(var d=u[t.DataParser.INTS],_=0,m=d;_<m.length;_++){var y=m[_];p.addInt(y)}}if(t.DataParser.FLOATS in u){null===p&&(p=t.BaseObject.borrowObject(t.UserData));for(var v=u[t.DataParser.FLOATS],g=0,b=v;g<b.length;g++){y=b[g];p.addFloat(y)}}if(t.DataParser.STRINGS in u){null===p&&(p=t.BaseObject.borrowObject(t.UserData));for(var x=u[t.DataParser.STRINGS],T=0,D=x;T<D.length;T++){y=D[T];p.addString(y)}}o.data=p,s.push(o)}return s},n.prototype._parseDeformFrame=function(e,r,i){var a=this._frameFloatArray.length,s=this._parseTweenFrame(e,r,i),o=t.DataParser.VERTICES in e?e[t.DataParser.VERTICES]:t.DataParser.VALUE in e?e[t.DataParser.VALUE]:null,h=n._getNumber(e,t.DataParser.OFFSET,0),l=this._intArray[this._geometry.offset+0],u=this._geometry.weight,c=0,f=0;if(null!==u);else{this._frameFloatArray.length+=2*l;for(var p=0;p<2*l;p+=2)null!==o?(c=p<h||p-h>=o.length?0:o[p-h],f=p+1<h||p+1-h>=o.length?0:o[p+1-h]):(c=0,f=0),this._frameFloatArray[a+p]=c,this._frameFloatArray[a+p+1]=f}if(0===r){var d=this._frameIntArray.length;this._frameIntArray.length+=5,this._frameIntArray[d+0]=this._geometry.offset,this._frameIntArray[d+1]=this._frameFloatArray.length-a,this._frameIntArray[d+2]=this._frameFloatArray.length-a,this._frameIntArray[d+3]=0,this._frameIntArray[d+4]=a-this._animation.frameFloatOffset,this._timelineArray[this._timeline.offset+3]=d-this._animation.frameIntOffset}return s},n.prototype._parseTransform=function(e,r,i){r.x=n._getNumber(e,t.DataParser.X,0)*i,r.y=n._getNumber(e,t.DataParser.Y,0)*i,t.DataParser.ROTATE in e||t.DataParser.SKEW in e?(r.rotation=t.Transform.normalizeRadian(n._getNumber(e,t.DataParser.ROTATE,0)*t.Transform.DEG_RAD),r.skew=t.Transform.normalizeRadian(n._getNumber(e,t.DataParser.SKEW,0)*t.Transform.DEG_RAD)):(t.DataParser.SKEW_X in e||t.DataParser.SKEW_Y in e)&&(r.rotation=t.Transform.normalizeRadian(n._getNumber(e,t.DataParser.SKEW_Y,0)*t.Transform.DEG_RAD),r.skew=t.Transform.normalizeRadian(n._getNumber(e,t.DataParser.SKEW_X,0)*t.Transform.DEG_RAD)-r.rotation),r.scaleX=n._getNumber(e,t.DataParser.SCALE_X,1),r.scaleY=n._getNumber(e,t.DataParser.SCALE_Y,1)},n.prototype._parseColorTransform=function(e,r){r.alphaMultiplier=.01*n._getNumber(e,t.DataParser.ALPHA_MULTIPLIER,100),r.redMultiplier=.01*n._getNumber(e,t.DataParser.RED_MULTIPLIER,100),r.greenMultiplier=.01*n._getNumber(e,t.DataParser.GREEN_MULTIPLIER,100),r.blueMultiplier=.01*n._getNumber(e,t.DataParser.BLUE_MULTIPLIER,100),r.alphaOffset=n._getNumber(e,t.DataParser.ALPHA_OFFSET,0),r.redOffset=n._getNumber(e,t.DataParser.RED_OFFSET,0),r.greenOffset=n._getNumber(e,t.DataParser.GREEN_OFFSET,0),r.blueOffset=n._getNumber(e,t.DataParser.BLUE_OFFSET,0)},n.prototype._parseGeometry=function(e,r){var i=e[t.DataParser.VERTICES],n=Math.floor(i.length/2),a=0,s=this._intArray.length,o=this._floatArray.length;r.offset=s,r.data=this._data,this._intArray.length+=4,this._intArray[s+0]=n,this._intArray[s+2]=o,this._intArray[s+3]=-1,this._floatArray.length+=2*n;for(var h=0,l=2*n;h<l;++h)this._floatArray[o+h]=i[h];if(t.DataParser.TRIANGLES in e){var u=e[t.DataParser.TRIANGLES];a=Math.floor(u.length/3),this._intArray.length+=3*a;for(h=0,l=3*a;h<l;++h)this._intArray[s+4+h]=u[h]}if(this._intArray[s+1]=a,t.DataParser.UVS in e){var c=e[t.DataParser.UVS],f=o+2*n;this._floatArray.length+=2*n;for(h=0,l=2*n;h<l;++h)this._floatArray[f+h]=c[h]}if(t.DataParser.WEIGHTS in e){var p=e[t.DataParser.WEIGHTS],d=Math.floor(p.length-n)/2,_=this._intArray.length,m=this._floatArray.length,y=0,v=this._armature.sortedBones,g=t.BaseObject.borrowObject(t.WeightData);if(g.count=d,g.offset=_,this._intArray.length+=2+y+n+d,this._intArray[_+1]=m,t.DataParser.BONE_POSE in e){var b=e[t.DataParser.SLOT_POSE],x=e[t.DataParser.BONE_POSE],T=new Array;y=Math.floor(x.length/7),T.length=y;for(h=0;h<y;++h){var D=x[7*h],A=this._rawBones[D];g.addBone(A),T[h]=D,this._intArray[_+2+h]=v.indexOf(A)}this._floatArray.length+=3*d,this._helpMatrixA.copyFromArray(b,0);h=0;for(var w=0,S=_+2+y,E=m;h<n;++h){var P=2*h,O=this._intArray[S++]=p[w++],I=this._floatArray[o+P],C=this._floatArray[o+P+1];this._helpMatrixA.transformPoint(I,C,this._helpPoint),I=this._helpPoint.x,C=this._helpPoint.y;for(var M=0;M<O;++M){D=p[w++];var F=T.indexOf(D);this._helpMatrixB.copyFromArray(x,7*F+1),this._helpMatrixB.invert(),this._helpMatrixB.transformPoint(I,C,this._helpPoint),this._intArray[S++]=F,this._floatArray[E++]=p[w++],this._floatArray[E++]=this._helpPoint.x,this._floatArray[E++]=this._helpPoint.y}}}else{var R=e[t.DataParser.BONES];y=R.length;for(h=0;h<y;h++){D=R[h],A=this._rawBones[D];g.addBone(A),this._intArray[_+2+h]=v.indexOf(A)}this._floatArray.length+=3*d;h=0,w=0,E=0,S=_+2+y;for(var B=m;h<d;h++){O=p[w++];this._intArray[S++]=O;for(M=0;M<O;M++){F=p[w++];var N=p[w++];I=i[E++],C=i[E++];this._intArray[S++]=R.indexOf(F),this._floatArray[B++]=N,this._floatArray[B++]=I,this._floatArray[B++]=C}}}r.weight=g}},n.prototype._parseArray=function(t){this._intArray.length=0,this._floatArray.length=0,this._frameIntArray.length=0,this._frameFloatArray.length=0,this._frameArray.length=0,this._timelineArray.length=0,this._colorArray.length=0},n.prototype._modifyArray=function(){this._intArray.length%Int16Array.BYTES_PER_ELEMENT!==0&&this._intArray.push(0),this._frameIntArray.length%Int16Array.BYTES_PER_ELEMENT!==0&&this._frameIntArray.push(0),this._frameArray.length%Int16Array.BYTES_PER_ELEMENT!==0&&this._frameArray.push(0),this._timelineArray.length%Uint16Array.BYTES_PER_ELEMENT!==0&&this._timelineArray.push(0),this._timelineArray.length%Int16Array.BYTES_PER_ELEMENT!==0&&this._colorArray.push(0);for(var t=this._intArray.length*Int16Array.BYTES_PER_ELEMENT,e=this._floatArray.length*Float32Array.BYTES_PER_ELEMENT,r=this._frameIntArray.length*Int16Array.BYTES_PER_ELEMENT,i=this._frameFloatArray.length*Float32Array.BYTES_PER_ELEMENT,n=this._frameArray.length*Int16Array.BYTES_PER_ELEMENT,a=this._timelineArray.length*Uint16Array.BYTES_PER_ELEMENT,s=this._colorArray.length*Int16Array.BYTES_PER_ELEMENT,o=t+e+r+i+n+a+s,h=new ArrayBuffer(o),l=new Int16Array(h,0,this._intArray.length),u=new Float32Array(h,t,this._floatArray.length),c=new Int16Array(h,t+e,this._frameIntArray.length),f=new Float32Array(h,t+e+r,this._frameFloatArray.length),p=new Int16Array(h,t+e+r+i,this._frameArray.length),d=new Uint16Array(h,t+e+r+i+n,this._timelineArray.length),_=new Int16Array(h,t+e+r+i+n+a,this._colorArray.length),m=0,y=this._intArray.length;m<y;++m)l[m]=this._intArray[m];for(m=0,y=this._floatArray.length;m<y;++m)u[m]=this._floatArray[m];for(m=0,y=this._frameIntArray.length;m<y;++m)c[m]=this._frameIntArray[m];for(m=0,y=this._frameFloatArray.length;m<y;++m)f[m]=this._frameFloatArray[m];for(m=0,y=this._frameArray.length;m<y;++m)p[m]=this._frameArray[m];for(m=0,y=this._timelineArray.length;m<y;++m)d[m]=this._timelineArray[m];for(m=0,y=this._colorArray.length;m<y;++m)_[m]=this._colorArray[m];this._data.binary=h,this._data.intArray=l,this._data.floatArray=u,this._data.frameIntArray=c,this._data.frameFloatArray=f,this._data.frameArray=p,this._data.timelineArray=d,this._data.colorArray=_,this._defaultColorOffset=-1},n.prototype.parseDragonBonesData=function(e,r){void 0===r&&(r=1),console.assert(null!==e&&void 0!==e,"Data error.");var i=n._getString(e,t.DataParser.VERSION,""),a=n._getString(e,t.DataParser.COMPATIBLE_VERSION,"");if(t.DataParser.DATA_VERSIONS.indexOf(i)>=0||t.DataParser.DATA_VERSIONS.indexOf(a)>=0){var s=t.BaseObject.borrowObject(t.DragonBonesData);if(s.version=i,s.name=n._getString(e,t.DataParser.NAME,""),s.frameRate=n._getNumber(e,t.DataParser.FRAME_RATE,24),0===s.frameRate&&(s.frameRate=24),t.DataParser.ARMATURE in e){this._data=s,this._parseArray(e);for(var o=e[t.DataParser.ARMATURE],h=0,l=o;h<l.length;h++){var u=l[h];s.addArmature(this._parseArmature(u,r))}this._data.binary||this._modifyArray(),t.DataParser.STAGE in e?s.stage=s.getArmature(n._getString(e,t.DataParser.STAGE,"")):s.armatureNames.length>0&&(s.stage=s.getArmature(s.armatureNames[0])),this._data=null}return t.DataParser.TEXTURE_ATLAS in e&&(this._rawTextureAtlases=e[t.DataParser.TEXTURE_ATLAS]),s}return console.assert(!1,"Nonsupport data version: "+i+"\nPlease convert DragonBones data to support version.\nRead more: https://github.com/DragonBones/Tools/"),null},n.prototype.parseTextureAtlasData=function(e,r,i){if(void 0===i&&(i=1),console.assert(void 0!==e),null===e){if(null===this._rawTextureAtlases||0===this._rawTextureAtlases.length)return!1;var a=this._rawTextureAtlases[this._rawTextureAtlasIndex++];return this.parseTextureAtlasData(a,r,i),this._rawTextureAtlasIndex>=this._rawTextureAtlases.length&&(this._rawTextureAtlasIndex=0,this._rawTextureAtlases=null),!0}if(r.width=n._getNumber(e,t.DataParser.WIDTH,0),r.height=n._getNumber(e,t.DataParser.HEIGHT,0),r.scale=1===i?1/n._getNumber(e,t.DataParser.SCALE,1):i,r.name=n._getString(e,t.DataParser.NAME,""),r.imagePath=n._getString(e,t.DataParser.IMAGE_PATH,""),t.DataParser.SUB_TEXTURE in e)for(var s=e[t.DataParser.SUB_TEXTURE],o=0,h=s.length;o<h;++o){var l=s[o],u=n._getNumber(l,t.DataParser.FRAME_WIDTH,-1),c=n._getNumber(l,t.DataParser.FRAME_HEIGHT,-1),f=r.createTexture();f.rotated=n._getBoolean(l,t.DataParser.ROTATED,!1),f.name=n._getString(l,t.DataParser.NAME,""),f.region.x=n._getNumber(l,t.DataParser.X,0),f.region.y=n._getNumber(l,t.DataParser.Y,0),f.region.width=n._getNumber(l,t.DataParser.WIDTH,0),f.region.height=n._getNumber(l,t.DataParser.HEIGHT,0),u>0&&c>0&&(f.frame=t.TextureData.createRectangle(),f.frame.x=n._getNumber(l,t.DataParser.FRAME_X,0),f.frame.y=n._getNumber(l,t.DataParser.FRAME_Y,0),f.frame.width=u,f.frame.height=c),r.addTexture(f)}return!0},n.getInstance=function(){return null===n._objectDataParserInstance&&(n._objectDataParserInstance=new n),n._objectDataParserInstance},n._objectDataParserInstance=null,n}(t.DataParser);t.ObjectDataParser=e;var r=function(){function t(){this.frameStart=0,this.actions=[]}return t}();t.ActionFrame=r}(n||(n={})),function(t){var e=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return i(r,e),r.prototype._inRange=function(t,e,r){return e<=t&&t<=r},r.prototype._decodeUTF8=function(t){var e,r=-1,i=-1,n=65533,a=0,s="",o=0,h=0,l=0,u=0;while(t.length>a){var c=t[a++];if(c===r)e=0!==h?n:i;else if(0===h)this._inRange(c,0,127)?e=c:(this._inRange(c,194,223)?(h=1,u=128,o=c-192):this._inRange(c,224,239)?(h=2,u=2048,o=c-224):this._inRange(c,240,244)&&(h=3,u=65536,o=c-240),o*=Math.pow(64,h),e=null);else if(this._inRange(c,128,191))if(l+=1,o+=(c-128)*Math.pow(64,h-l),l!==h)e=null;else{var f=o,p=u;o=0,h=0,l=0,u=0,e=this._inRange(f,p,1114111)&&!this._inRange(f,55296,57343)?f:c}else o=0,h=0,l=0,u=0,a--,e=c;null!==e&&e!==i&&(e<=65535?e>0&&(s+=String.fromCharCode(e)):(e-=65536,s+=String.fromCharCode(55296+(e>>10&1023)),s+=String.fromCharCode(56320+(1023&e))))}return s},r.prototype._parseBinaryTimeline=function(e,r,i){void 0===i&&(i=null);var n=null!==i?i:t.BaseObject.borrowObject(t.TimelineData);n.type=e,n.offset=r,this._timeline=n;var a=this._timelineArrayBuffer[n.offset+2];if(1===a)n.frameIndicesOffset=-1;else{var s=0,o=this._animation.frameCount+1,h=this._data.frameIndices;s=h.length,h.length+=o,n.frameIndicesOffset=s;for(var l=0,u=0,c=0,f=0;l<o;++l)c+f<=l&&u<a&&(c=this._frameArrayBuffer[this._animation.frameOffset+this._timelineArrayBuffer[n.offset+5+u]],f=u===a-1?this._animation.frameCount-c:this._frameArrayBuffer[this._animation.frameOffset+this._timelineArrayBuffer[n.offset+5+u+1]]-c,u++),h[s+l]=u-1}return this._timeline=null,n},r.prototype._parseAnimation=function(e){var r=t.BaseObject.borrowObject(t.AnimationData);r.blendType=t.DataParser._getAnimationBlendType(t.ObjectDataParser._getString(e,t.DataParser.BLEND_TYPE,"")),r.frameCount=t.ObjectDataParser._getNumber(e,t.DataParser.DURATION,0),r.playTimes=t.ObjectDataParser._getNumber(e,t.DataParser.PLAY_TIMES,1),r.duration=r.frameCount/this._armature.frameRate,r.fadeInTime=t.ObjectDataParser._getNumber(e,t.DataParser.FADE_IN_TIME,0),r.scale=t.ObjectDataParser._getNumber(e,t.DataParser.SCALE,1),r.name=t.ObjectDataParser._getString(e,t.DataParser.NAME,t.DataParser.DEFAULT_NAME),0===r.name.length&&(r.name=t.DataParser.DEFAULT_NAME);var i=e[t.DataParser.OFFSET];if(r.frameIntOffset=i[0],r.frameFloatOffset=i[1],r.frameOffset=i[2],this._animation=r,t.DataParser.ACTION in e&&(r.actionTimeline=this._parseBinaryTimeline(0,e[t.DataParser.ACTION])),t.DataParser.Z_ORDER in e&&(r.zOrderTimeline=this._parseBinaryTimeline(1,e[t.DataParser.Z_ORDER])),t.DataParser.BONE in e){var n=e[t.DataParser.BONE];for(var a in n){var s=n[a],o=this._armature.getBone(a);if(null!==o)for(var h=0,l=s.length;h<l;h+=2){var u=s[h],c=s[h+1],f=this._parseBinaryTimeline(u,c);this._animation.addBoneTimeline(o.name,f)}}}if(t.DataParser.SLOT in e){n=e[t.DataParser.SLOT];for(var a in n){s=n[a];var p=this._armature.getSlot(a);if(null!==p)for(h=0,l=s.length;h<l;h+=2){u=s[h],c=s[h+1],f=this._parseBinaryTimeline(u,c);this._animation.addSlotTimeline(p.name,f)}}}if(t.DataParser.CONSTRAINT in e){n=e[t.DataParser.CONSTRAINT];for(var a in n){s=n[a];var d=this._armature.getConstraint(a);if(null!==d)for(h=0,l=s.length;h<l;h+=2){u=s[h],c=s[h+1],f=this._parseBinaryTimeline(u,c);this._animation.addConstraintTimeline(d.name,f)}}}if(t.DataParser.TIMELINE in e){s=e[t.DataParser.TIMELINE];for(var _=0,m=s;_<m.length;_++){var y=m[_];c=t.ObjectDataParser._getNumber(y,t.DataParser.OFFSET,0);if(c>=0){u=t.ObjectDataParser._getNumber(y,t.DataParser.TYPE,0);var v=t.ObjectDataParser._getString(y,t.DataParser.NAME,"");f=null;if(40===u&&0!==r.blendType){f=t.BaseObject.borrowObject(t.AnimationTimelineData);var g=f;g.x=t.ObjectDataParser._getNumber(y,t.DataParser.X,0),g.y=t.ObjectDataParser._getNumber(y,t.DataParser.Y,0)}switch(f=this._parseBinaryTimeline(u,c,f),u){case 0:break;case 1:break;case 11:case 12:case 13:case 50:case 60:this._animation.addBoneTimeline(v,f);break;case 20:case 21:case 22:case 23:case 24:this._animation.addSlotTimeline(v,f);break;case 30:this._animation.addConstraintTimeline(v,f);break;case 40:case 41:case 42:this._animation.addAnimationTimeline(v,f);break}}}}return this._animation=null,r},r.prototype._parseGeometry=function(e,r){r.offset=e[t.DataParser.OFFSET],r.data=this._data;var i=this._intArrayBuffer[r.offset+3];if(i>=0){var n=t.BaseObject.borrowObject(t.WeightData),a=this._intArrayBuffer[r.offset+0],s=this._intArrayBuffer[i+0];n.offset=i;for(var o=0;o<s;++o){var h=this._intArrayBuffer[i+2+o];n.addBone(this._rawBones[h])}for(var l=i+2+s,u=0,c=(o=0,a);o<c;++o){var f=this._intArrayBuffer[l++];u+=f,l+=f}n.count=u,r.weight=n}},r.prototype._parseArray=function(e){var r=e[t.DataParser.OFFSET],i=r[1],n=r[3],a=r[5],s=r[7],o=r[9],h=r[11],l=r.length>12?r[13]:0,u=new Int16Array(this._binary,this._binaryOffset+r[0],i/Int16Array.BYTES_PER_ELEMENT),c=new Float32Array(this._binary,this._binaryOffset+r[2],n/Float32Array.BYTES_PER_ELEMENT),f=new Int16Array(this._binary,this._binaryOffset+r[4],a/Int16Array.BYTES_PER_ELEMENT),p=new Float32Array(this._binary,this._binaryOffset+r[6],s/Float32Array.BYTES_PER_ELEMENT),d=new Int16Array(this._binary,this._binaryOffset+r[8],o/Int16Array.BYTES_PER_ELEMENT),_=new Uint16Array(this._binary,this._binaryOffset+r[10],h/Uint16Array.BYTES_PER_ELEMENT),m=l>0?new Int16Array(this._binary,this._binaryOffset+r[12],l/Int16Array.BYTES_PER_ELEMENT):u;this._data.binary=this._binary,this._data.intArray=this._intArrayBuffer=u,this._data.floatArray=c,this._data.frameIntArray=f,this._data.frameFloatArray=p,this._data.frameArray=this._frameArrayBuffer=d,this._data.timelineArray=this._timelineArrayBuffer=_,this._data.colorArray=m},r.prototype.parseDragonBonesData=function(t,r){void 0===r&&(r=1),console.assert(null!==t&&void 0!==t&&t instanceof ArrayBuffer,"Data error.");var i=new Uint8Array(t,0,8);if(i[0]!=="D".charCodeAt(0)||i[1]!=="B".charCodeAt(0)||i[2]!=="D".charCodeAt(0)||i[3]!=="T".charCodeAt(0))return console.assert(!1,"Nonsupport data."),null;var n=new Uint32Array(t,8,1)[0],a=new Uint8Array(t,12,n),s=this._decodeUTF8(a),o=JSON.parse(s);return this._binaryOffset=12+n,this._binary=t,e.prototype.parseDragonBonesData.call(this,o,r)},r.getInstance=function(){return null===r._binaryDataParserInstance&&(r._binaryDataParserInstance=new r),r._binaryDataParserInstance},r._binaryDataParserInstance=null,r}(t.ObjectDataParser);t.BinaryDataParser=e}(n||(n={})),function(t){var e=function(){function e(r){void 0===r&&(r=null),this.autoSearch=!1,this._dragonBonesDataMap={},this._textureAtlasDataMap={},this._dragonBones=null,this._dataParser=null,null===e._objectParser&&(e._objectParser=new t.ObjectDataParser),null===e._binaryParser&&(e._binaryParser=new t.BinaryDataParser),this._dataParser=null!==r?r:e._objectParser}return e.prototype._isSupportMesh=function(){return!0},e.prototype._getTextureData=function(t,e){if(t in this._textureAtlasDataMap)for(var r=0,i=this._textureAtlasDataMap[t];r<i.length;r++){var n=i[r],a=n.getTexture(e);if(null!==a)return a}if(this.autoSearch)for(var s in this._textureAtlasDataMap)for(var o=0,h=this._textureAtlasDataMap[s];o<h.length;o++){n=h[o];if(n.autoSearch){a=n.getTexture(e);if(null!==a)return a}}return null},e.prototype._fillBuildArmaturePackage=function(t,e,r,i,n){var a=null,s=null;if(e.length>0&&e in this._dragonBonesDataMap&&(a=this._dragonBonesDataMap[e],s=a.getArmature(r)),null===s&&(0===e.length||this.autoSearch))for(var o in this._dragonBonesDataMap)if(a=this._dragonBonesDataMap[o],(0===e.length||a.autoSearch)&&(s=a.getArmature(r),null!==s)){e=o;break}if(null!==s){if(t.dataName=e,t.textureAtlasName=n,t.data=a,t.armature=s,t.skin=null,i.length>0&&(t.skin=s.getSkin(i),null===t.skin&&this.autoSearch))for(var o in this._dragonBonesDataMap){var h=this._dragonBonesDataMap[o],l=h.getArmature(i);if(null!==l){t.skin=l.defaultSkin;break}}return null===t.skin&&(t.skin=s.defaultSkin),!0}return!1},e.prototype._buildBones=function(e,r){for(var i=0,n=e.armature.sortedBones;i<n.length;i++){var a=n[i],s=t.BaseObject.borrowObject(0===a.type?t.Bone:t.Surface);s.init(a,r)}},e.prototype._buildSlots=function(t,e){var r=t.skin,i=t.armature.defaultSkin;if(null!==r&&null!==i){var n={};for(var a in i.displays){var s=i.getDisplays(a);n[a]=s}if(r!==i)for(var a in r.displays){s=r.getDisplays(a);n[a]=s}for(var o=0,h=t.armature.sortedSlots;o<h.length;o++){var l=h[o],u=l.name in n?n[l.name]:null,c=this._buildSlot(t,l,e);if(null!==u){c.displayFrameCount=u.length;for(var f=0,p=c.displayFrameCount;f<p;++f){var d=u[f];if(c.replaceRawDisplayData(d,f),null!==d){if(t.textureAtlasName.length>0){var _=this._getTextureData(t.textureAtlasName,d.path);c.replaceTextureData(_,f)}var m=this._getSlotDisplay(t,d,c);c.replaceDisplay(m,f)}else c.replaceDisplay(null)}}c._setDisplayIndex(l.displayIndex,!0)}}},e.prototype._buildConstraints=function(e,r){var i=e.armature.constraints;for(var n in i){var a=i[n];switch(a.type){case 0:var s=t.BaseObject.borrowObject(t.IKConstraint);s.init(a,r),r._addConstraint(s);break;case 1:var o=t.BaseObject.borrowObject(t.PathConstraint);o.init(a,r),r._addConstraint(o);break;default:var h=t.BaseObject.borrowObject(t.IKConstraint);h.init(a,r),r._addConstraint(h);break}}},e.prototype._buildChildArmature=function(t,e,r){return this.buildArmature(r.path,null!==t?t.dataName:"","",null!==t?t.textureAtlasName:"")},e.prototype._getSlotDisplay=function(e,r,i){var n=null!==e?e.dataName:r.parent.parent.parent.name,a=null;switch(r.type){case 0:var s=r;null===s.texture&&(s.texture=this._getTextureData(n,r.path)),a=i.rawDisplay;break;case 2:var o=r;null===o.texture&&(o.texture=this._getTextureData(n,o.path)),a=this._isSupportMesh()?i.meshDisplay:i.rawDisplay;break;case 1:var h=r,l=this._buildChildArmature(e,i,h);if(null!==l){if(l.inheritAnimation=h.inheritAnimation,!l.inheritAnimation){var u=h.actions.length>0?h.actions:l.armatureData.defaultActions;if(u.length>0)for(var c=0,f=u;c<f.length;c++){var p=f[c],d=t.BaseObject.borrowObject(t.EventObject);t.EventObject.actionDataToInstance(p,d,i.armature),d.slot=i,i.armature._bufferAction(d,!1)}else l.animation.play()}h.armature=l.armatureData}a=l;break;case 3:break;default:break}return a},e.prototype.parseDragonBonesData=function(t,r,i){void 0===r&&(r=null),void 0===i&&(i=1);var n=t instanceof ArrayBuffer?e._binaryParser:this._dataParser,a=n.parseDragonBonesData(t,i);while(1){var s=this._buildTextureAtlasData(null,null);if(!n.parseTextureAtlasData(null,s,i)){s.returnToPool();break}this.addTextureAtlasData(s,r)}return null!==a&&this.addDragonBonesData(a,r),a},e.prototype.parseTextureAtlasData=function(t,e,r,i){void 0===r&&(r=null),void 0===i&&(i=1);var n=this._buildTextureAtlasData(null,null);return this._dataParser.parseTextureAtlasData(t,n,i),this._buildTextureAtlasData(n,e||null),this.addTextureAtlasData(n,r),n},e.prototype.updateTextureAtlases=function(t,e){var r=this.getTextureAtlasData(e);if(null!==r)for(var i=0,n=r.length;i<n;++i)i<t.length&&this._buildTextureAtlasData(r[i],t[i])},e.prototype.getDragonBonesData=function(t){return t in this._dragonBonesDataMap?this._dragonBonesDataMap[t]:null},e.prototype.addDragonBonesData=function(t,e){if(void 0===e&&(e=null),e=null!==e?e:t.name,e in this._dragonBonesDataMap){if(this._dragonBonesDataMap[e]===t)return;console.warn("Can not add same name data: "+e)}else this._dragonBonesDataMap[e]=t},e.prototype.removeDragonBonesData=function(t,e){void 0===e&&(e=!0),t in this._dragonBonesDataMap&&(e&&this._dragonBones.bufferObject(this._dragonBonesDataMap[t]),delete this._dragonBonesDataMap[t])},e.prototype.getTextureAtlasData=function(t){return t in this._textureAtlasDataMap?this._textureAtlasDataMap[t]:null},e.prototype.addTextureAtlasData=function(t,e){void 0===e&&(e=null),e=null!==e?e:t.name;var r=e in this._textureAtlasDataMap?this._textureAtlasDataMap[e]:this._textureAtlasDataMap[e]=[];r.indexOf(t)<0&&r.push(t)},e.prototype.removeTextureAtlasData=function(t,e){if(void 0===e&&(e=!0),t in this._textureAtlasDataMap){var r=this._textureAtlasDataMap[t];if(e)for(var i=0,n=r;i<n.length;i++){var a=n[i];this._dragonBones.bufferObject(a)}delete this._textureAtlasDataMap[t]}},e.prototype.getArmatureData=function(t,e){void 0===e&&(e="");var i=new r;return this._fillBuildArmaturePackage(i,e,t,"","")?i.armature:null},e.prototype.clear=function(t){for(var e in void 0===t&&(t=!0),this._dragonBonesDataMap)t&&this._dragonBones.bufferObject(this._dragonBonesDataMap[e]),delete this._dragonBonesDataMap[e];for(var e in this._textureAtlasDataMap){if(t)for(var r=this._textureAtlasDataMap[e],i=0,n=r;i<n.length;i++){var a=n[i];this._dragonBones.bufferObject(a)}delete this._textureAtlasDataMap[e]}},e.prototype.buildArmature=function(t,e,i,n){void 0===e&&(e=""),void 0===i&&(i=""),void 0===n&&(n="");var a=new r;if(!this._fillBuildArmaturePackage(a,e||"",t,i||"",n||""))return console.warn("No armature data: "+t+", "+(null!==e?e:"")),null;var s=this._buildArmature(a);return this._buildBones(a,s),this._buildSlots(a,s),this._buildConstraints(a,s),s.invalidUpdate(null,!0),s.advanceTime(0),s},e.prototype.replaceDisplay=function(t,e,r){if(void 0===r&&(r=-1),r<0&&(r=t.displayIndex),r<0&&(r=0),t.replaceDisplayData(e,r),null!==e){var i=this._getSlotDisplay(null,e,t);if(0===e.type){var n=t.getDisplayFrameAt(r).rawDisplayData;null!==n&&2===n.type&&(i=t.meshDisplay)}t.replaceDisplay(i,r)}else t.replaceDisplay(null,r)},e.prototype.replaceSlotDisplay=function(t,e,r,i,n,a){void 0===a&&(a=-1);var s=this.getArmatureData(e,t||"");if(null===s||null===s.defaultSkin)return!1;var o=s.defaultSkin.getDisplay(r,i);return this.replaceDisplay(n,o,a),!0},e.prototype.replaceSlotDisplayList=function(t,e,r,i){var n=this.getArmatureData(e,t||"");if(!n||!n.defaultSkin)return!1;var a=n.defaultSkin.getDisplays(r);if(!a)return!1;i.displayFrameCount=a.length;for(var s=0,o=i.displayFrameCount;s<o;++s){var h=a[s];this.replaceDisplay(i,h,s)}return!0},e.prototype.replaceSkin=function(t,e,r,i){void 0===r&&(r=!1),void 0===i&&(i=null);for(var n=!1,a=e.parent.defaultSkin,s=0,o=t.getSlots();s<o.length;s++){var h=o[s];if(!(null!==i&&i.indexOf(h.name)>=0)){var l=e.getDisplays(h.name);if(null!==l||(null!==a&&e!==a&&(l=a.getDisplays(h.name)),null!==l)){h.displayFrameCount=l.length;for(var u=0,c=h.displayFrameCount;u<c;++u){var f=l[u];h.replaceRawDisplayData(f,u),null!==f?h.replaceDisplay(this._getSlotDisplay(null,f,h),u):h.replaceDisplay(null,u)}n=!0}else r&&(h.displayFrameCount=0)}}return n},e.prototype.replaceAnimation=function(e,r,i){void 0===i&&(i=!0);var n=r.defaultSkin;if(null===n)return!1;if(i)e.animation.animations=r.animations;else{var a=e.animation.animations,s={};for(var o in a)s[o]=a[o];for(var o in r.animations)s[o]=r.animations[o];e.animation.animations=s}for(var h=0,l=e.getSlots();h<l.length;h++)for(var u=l[h],c=0,f=0,p=u.displayList;f<p.length;f++){var d=p[f];if(d instanceof t.Armature){var _=n.getDisplays(u.name);if(null!==_&&c<_.length){var m=_[c];if(null!==m&&1===m.type){var y=this.getArmatureData(m.path,m.parent.parent.parent.name);y&&this.replaceAnimation(d,y,i)}}}c++}return!0},e.prototype.getAllDragonBonesData=function(){return this._dragonBonesDataMap},e.prototype.getAllTextureAtlasData=function(){return this._textureAtlasDataMap},Object.defineProperty(e.prototype,"clock",{get:function(){return this._dragonBones.clock},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragonBones",{get:function(){return this._dragonBones},enumerable:!0,configurable:!0}),e._objectParser=null,e._binaryParser=null,e}();t.BaseFactory=e;var r=function(){function t(){this.dataName="",this.textureAtlasName="",this.skin=null}return t}();t.BuildArmaturePackage=r}(n||(n={})),function(t){var e=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t._renderTexture=null,t}return i(n,e),n.toString=function(){return"[class dragonBones.PixiTextureAtlasData]"},n.prototype._onClear=function(){e.prototype._onClear.call(this),this._renderTexture,this._renderTexture=null},n.prototype.createTexture=function(){return t.BaseObject.borrowObject(r)},Object.defineProperty(n.prototype,"renderTexture",{get:function(){return this._renderTexture},set:function(t){if(this._renderTexture!==t)if(this._renderTexture=t,null!==this._renderTexture)for(var e in this.textures){var r=this.textures[e];r.renderTexture=new PIXI.Texture(this._renderTexture,new PIXI.Rectangle(r.region.x,r.region.y,r.region.width,r.region.height),new PIXI.Rectangle(r.region.x,r.region.y,r.region.width,r.region.height),new PIXI.Rectangle(0,0,r.region.width,r.region.height),r.rotated)}else for(var e in this.textures){r=this.textures[e];r.renderTexture=null}},enumerable:!0,configurable:!0}),n}(t.TextureAtlasData);t.PixiTextureAtlasData=e;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderTexture=null,e}return i(e,t),e.toString=function(){return"[class dragonBones.PixiTextureData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),null!==this.renderTexture&&this.renderTexture.destroy(!1),this.renderTexture=null},e}(t.TextureData);t.PixiTextureData=r}(n||(n={})),function(t){var e=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.debugDraw=!1,t._debugDraw=!1,t._armature=null,t._debugDrawer=null,t}return i(r,e),r.prototype.dbInit=function(t){this._armature=t},r.prototype.dbClear=function(){null!==this._debugDrawer&&this._debugDrawer.destroy({children:!0,texture:!0,baseTexture:!0}),this._armature=null,this._debugDrawer=null,e.prototype.destroy.call(this)},r.prototype.dbUpdate=function(){var e=t.DragonBones.debugDraw||this.debugDraw;if(e||this._debugDraw)if(this._debugDraw=e,this._debugDraw){if(null===this._debugDrawer){this._debugDrawer=new PIXI.Sprite(PIXI.Texture.EMPTY);var r=new PIXI.Graphics;this._debugDrawer.addChild(r)}this.addChild(this._debugDrawer);var i=this._debugDrawer.getChildAt(0);i.clear();for(var n=this._armature.getBones(),a=0,s=n.length;a<s;++a){var o=n[a],h=o.boneData.length,l=o.globalTransformMatrix.tx,u=o.globalTransformMatrix.ty,c=l+o.globalTransformMatrix.a*h,f=u+o.globalTransformMatrix.b*h;i.lineStyle(2,65535,.7),i.moveTo(l,u),i.lineTo(c,f),i.lineStyle(0,0,0),i.beginFill(65535,.7),i.drawCircle(l,u,3),i.endFill()}var p=this._armature.getSlots();for(a=0,s=p.length;a<s;++a){var d=p[a],_=d.boundingBoxData;if(_){var m=this._debugDrawer.getChildByName(d.name);switch(m||(m=new PIXI.Graphics,m.name=d.name,this._debugDrawer.addChild(m)),m.clear(),m.lineStyle(2,16711935,.7),_.type){case 0:m.drawRect(.5*-_.width,.5*-_.height,_.width,_.height);break;case 1:m.drawEllipse(.5*-_.width,.5*-_.height,_.width,_.height);break;case 2:for(var y=_.vertices,v=0,g=y.length;v<g;v+=2){var b=y[v],x=y[v+1];0===v?m.moveTo(b,x):m.lineTo(b,x)}m.lineTo(y[0],y[1]);break;default:break}m.endFill(),d.updateTransformAndMatrix(),d.updateGlobalTransform();var T=d.global;m.setTransform(T.x,T.y,T.scaleX,T.scaleY,T.rotation,T.skew,0,d._pivotX,d._pivotY)}else{m=this._debugDrawer.getChildByName(d.name);m&&this._debugDrawer.removeChild(m)}}}else null!==this._debugDrawer&&this._debugDrawer.parent===this&&this.removeChild(this._debugDrawer)},r.prototype.dispose=function(t){void 0===t&&(t=!0),null!==this._armature&&(this._armature.dispose(),this._armature=null)},r.prototype.destroy=function(){this.dispose()},r.prototype.dispatchDBEvent=function(t,e){this.emit(t,e)},r.prototype.hasDBEventListener=function(t){return this.listenerCount(t)>0},r.prototype.addDBEventListener=function(t,e,r){this.addListener(t,e,r)},r.prototype.removeDBEventListener=function(t,e,r){this.removeListener(t,e,r)},Object.defineProperty(r.prototype,"armature",{get:function(){return this._armature},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"animation",{get:function(){return this._armature.animation},enumerable:!0,configurable:!0}),r}(PIXI.Sprite);t.PixiArmatureDisplay=e}(n||(n={})),function(t){var e=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return i(r,e),r.toString=function(){return"[class dragonBones.PixiSlot]"},r.prototype._onClear=function(){e.prototype._onClear.call(this),this._textureScale=1,this._renderDisplay=null,this._updateTransform="3"===PIXI.VERSION[0]?this._updateTransformV3:this._updateTransformV4},r.prototype._initDisplay=function(t,e){},r.prototype._disposeDisplay=function(t,e){e||t.destroy()},r.prototype._onUpdateDisplay=function(){this._renderDisplay=this._display?this._display:this._rawDisplay},r.prototype._addDisplay=function(){var t=this._armature.display;t.addChild(this._renderDisplay)},r.prototype._replaceDisplay=function(t){var e=this._armature.display,r=t;e.addChild(this._renderDisplay),e.swapChildren(this._renderDisplay,r),e.removeChild(r),this._textureScale=1},r.prototype._removeDisplay=function(){this._renderDisplay.parent.removeChild(this._renderDisplay)},r.prototype._updateZOrder=function(){var t=this._armature.display,e=t.getChildIndex(this._renderDisplay);e!==this._zOrder&&t.addChildAt(this._renderDisplay,this._zOrder)},r.prototype._updateVisible=function(){this._renderDisplay.visible=this._parent.visible&&this._visible},r.prototype._updateBlendMode=function(){if(this._renderDisplay instanceof PIXI.Sprite)switch(this._blendMode){case 0:this._renderDisplay.blendMode=PIXI.BLEND_MODES.NORMAL;break;case 1:this._renderDisplay.blendMode=PIXI.BLEND_MODES.ADD;break;case 3:this._renderDisplay.blendMode=PIXI.BLEND_MODES.DARKEN;break;case 4:this._renderDisplay.blendMode=PIXI.BLEND_MODES.DIFFERENCE;break;case 6:this._renderDisplay.blendMode=PIXI.BLEND_MODES.HARD_LIGHT;break;case 9:this._renderDisplay.blendMode=PIXI.BLEND_MODES.LIGHTEN;break;case 10:this._renderDisplay.blendMode=PIXI.BLEND_MODES.MULTIPLY;break;case 11:this._renderDisplay.blendMode=PIXI.BLEND_MODES.OVERLAY;break;case 12:this._renderDisplay.blendMode=PIXI.BLEND_MODES.SCREEN;break;default:break}},r.prototype._updateColor=function(){var t=this._colorTransform.alphaMultiplier*this._globalAlpha;if(this._renderDisplay.alpha=t,this._renderDisplay instanceof PIXI.Sprite||this._renderDisplay instanceof PIXI.SimpleMesh){var e=(Math.round(255*this._colorTransform.redMultiplier)<<16)+(Math.round(255*this._colorTransform.greenMultiplier)<<8)+Math.round(255*this._colorTransform.blueMultiplier);this._renderDisplay.tint=e}},r.prototype._updateFrame=function(){var e=this._textureData;if(this._displayIndex>=0&&null!==this._display&&null!==e){var r=e.parent;null!==this._armature.replacedTexture&&(null===this._armature._replaceTextureAtlasData?(r=t.BaseObject.borrowObject(t.PixiTextureAtlasData),r.copyFrom(e.parent),r.renderTexture=this._armature.replacedTexture,this._armature._replaceTextureAtlasData=r):r=this._armature._replaceTextureAtlasData,e=r.getTexture(e.name));var i=e.renderTexture;if(null!==i){if(null!==this._geometryData){var n=this._geometryData.data,a=n.intArray,s=n.floatArray,o=a[this._geometryData.offset+0],h=a[this._geometryData.offset+1],l=a[this._geometryData.offset+2];l<0&&(l+=65536);for(var u=l+2*o,c=this._armature._armatureData.scale,f=this._renderDisplay,p=new Float32Array(2*o),d=new Float32Array(2*o),_=new Uint16Array(3*h),m=0,y=2*o;m<y;++m)p[m]=s[l+m]*c;for(m=0;m<3*h;++m)_[m]=a[this._geometryData.offset+4+m];for(m=0,y=2*o;m<y;m+=2){var v=s[u+m],g=s[u+m+1];e.rotated?(d[m]=1-g,d[m+1]=v):(d[m]=v,d[m+1]=g)}this._textureScale=1,f.texture=i,f.vertices=p,f.uvBuffer.update(d),f.geometry.addIndex(_);var b=null!==this._geometryData.weight,x=0!==this._parent._boneData.type;(b||x)&&this._identityTransform()}else{this._textureScale=e.parent.scale*this._armature._armatureData.scale;var T=this._renderDisplay;T.texture=i}return void(this._visibleDirty=!0)}}if(null!==this._geometryData){f=this._renderDisplay;f.texture=null,f.x=0,f.y=0,f.visible=!1}else{T=this._renderDisplay;T.texture=null,T.x=0,T.y=0,T.visible=!1}},r.prototype._updateMesh=function(){var t=this._armature._armatureData.scale,e=this._displayFrame.deformVertices,r=this._geometryBones,i=this._geometryData,n=i.weight,a=e.length>0&&i.inheritDeform,s=this._renderDisplay;if(null!==n){var o=i.data,h=o.intArray,l=o.floatArray,u=h[i.offset+0],c=h[n.offset+1];c<0&&(c+=65536);for(var f=0,p=0,d=n.offset+2+r.length,_=c,m=0;f<u;++f){for(var y=h[d++],v=0,g=0,b=0;b<y;++b){var x=h[d++],T=r[x];if(null!==T){var D=T.globalTransformMatrix,A=l[_++],w=l[_++]*t,S=l[_++]*t;a&&(w+=e[m++],S+=e[m++]),v+=(D.a*w+D.c*S+D.tx)*A,g+=(D.b*w+D.d*S+D.ty)*A}}s.vertices[p++]=v,s.vertices[p++]=g}}else{var E=0!==this._parent._boneData.type,P=(o=i.data,h=o.intArray,l=o.floatArray,u=h[i.offset+0],h[i.offset+2]);P<0&&(P+=65536);f=0;for(var O=2*u;f<O;f+=2){var I=l[P+f]*t,C=l[P+f+1]*t;if(a&&(I+=e[f],C+=e[f+1]),E){D=this._parent._getGlobalTransformMatrix(I,C);s.vertices[f]=D.a*I+D.c*C+D.tx,s.vertices[f+1]=D.b*I+D.d*C+D.ty}else s.vertices[f]=I,s.vertices[f+1]=C}}},r.prototype._updateTransform=function(){throw new Error},r.prototype._updateTransformV3=function(){this.updateGlobalTransform();var t=this.global;if(this._renderDisplay===this._rawDisplay||this._renderDisplay===this._meshDisplay){var e=t.x-(this.globalTransformMatrix.a*this._pivotX+this.globalTransformMatrix.c*this._pivotY),r=t.y-(this.globalTransformMatrix.b*this._pivotX+this.globalTransformMatrix.d*this._pivotY);this._renderDisplay.setTransform(e,r,t.scaleX*this._textureScale,t.scaleY*this._textureScale,t.rotation,t.skew,0)}else this._renderDisplay.position.set(t.x,t.y),this._renderDisplay.rotation=t.rotation,this._renderDisplay.skew.set(t.skew,0),this._renderDisplay.scale.set(t.scaleX,t.scaleY)},r.prototype._updateTransformV4=function(){this.updateGlobalTransform();var t=this.global;if(this._renderDisplay===this._rawDisplay||this._renderDisplay===this._meshDisplay){var e=t.x-(this.globalTransformMatrix.a*this._pivotX+this.globalTransformMatrix.c*this._pivotY),r=t.y-(this.globalTransformMatrix.b*this._pivotX+this.globalTransformMatrix.d*this._pivotY);this._renderDisplay.setTransform(e,r,t.scaleX*this._textureScale,t.scaleY*this._textureScale,t.rotation,-t.skew,0)}else this._renderDisplay.position.set(t.x,t.y),this._renderDisplay.rotation=t.rotation,this._renderDisplay.skew.set(-t.skew,0),this._renderDisplay.scale.set(t.scaleX,t.scaleY)},r.prototype._identityTransform=function(){this._renderDisplay.setTransform(0,0,1,1,0,0,0)},r}(t.Slot);t.PixiSlot=e}(n||(n={})),function(t){var e=function(e){function r(i,n){void 0===i&&(i=null),void 0===n&&(n=!0);var a=e.call(this,i)||this;if(null===r._dragonBonesInstance){var s=new t.PixiArmatureDisplay(PIXI.Texture.EMPTY);r._dragonBonesInstance=new t.DragonBones(s),n&&PIXI.Ticker.shared.add(r._clockHandler,r)}return a._dragonBones=r._dragonBonesInstance,a}return i(r,e),r._clockHandler=function(t){this._dragonBonesInstance.advanceTime(t/PIXI.settings.TARGET_FPMS*.001)},r.advanceTime=function(t){this._dragonBonesInstance.advanceTime(t)},Object.defineProperty(r,"factory",{get:function(){return null===r._factory&&(r._factory=new r(null,r.useSharedTicker)),r._factory},enumerable:!0,configurable:!0}),r.newInstance=function(t){return void 0===t&&(t=!0),null===r._factory&&(r._factory=new r(null,t)),r._factory},r.prototype._buildTextureAtlasData=function(e,r){return e?e.renderTexture=r:e=t.BaseObject.borrowObject(t.PixiTextureAtlasData),e},r.prototype._buildArmature=function(e){var r=t.BaseObject.borrowObject(t.Armature),i=new t.PixiArmatureDisplay(PIXI.Texture.EMPTY);return r.init(e.armature,i,i,this._dragonBones),r},r.prototype._buildSlot=function(e,r,i){var n=t.BaseObject.borrowObject(t.PixiSlot);return n.init(r,i,new PIXI.Sprite(PIXI.Texture.EMPTY),new PIXI.SimpleMesh),n},r.prototype.buildArmatureDisplay=function(t,e,r,i){void 0===e&&(e=""),void 0===r&&(r=""),void 0===i&&(i="");var n=this.buildArmature(t,e||"",r||"",i||"");return null!==n?(this._dragonBones.clock.add(n),n.display):null},r.prototype.getTextureDisplay=function(t,e){void 0===e&&(e=null);var r=this._getTextureData(null!==e?e:"",t);return null!==r&&null!==r.renderTexture?new PIXI.Sprite(r.renderTexture):null},Object.defineProperty(r.prototype,"soundEventManager",{get:function(){return this._dragonBones.eventManager},enumerable:!0,configurable:!0}),r._dragonBonesInstance=null,r._factory=null,r.useSharedTicker=!0,r}(t.BaseFactory);t.PixiFactory=e}(n||(n={}))},ae93:function(t,e,r){"use strict";var i,n,a,s=r("e163"),o=r("9112"),h=r("5135"),l=r("b622"),u=r("c430"),c=l("iterator"),f=!1,p=function(){return this};[].keys&&(a=[].keys(),"next"in a?(n=s(s(a)),n!==Object.prototype&&(i=n)):f=!0),void 0==i&&(i={}),u||h(i,c)||o(i,c,p),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:f}},b041:function(t,e,r){"use strict";var i=r("f5df"),n=r("b622"),a=n("toStringTag"),s={};s[a]="z",t.exports="[object z]"!==String(s)?function(){return"[object "+i(this)+"]"}:s.toString},b383:function(t,e,r){"use strict";e.decode=e.parse=r("91dd"),e.encode=e.stringify=r("e099")},b39a:function(t,e,r){var i=r("d066");t.exports=i("navigator","userAgent")||""},b575:function(t,e,r){var i,n,a,s,o,h,l,u,c=r("da84"),f=r("06cf").f,p=r("c6b6"),d=r("2cf4").set,_=r("b39a"),m=c.MutationObserver||c.WebKitMutationObserver,y=c.process,v=c.Promise,g="process"==p(y),b=f(c,"queueMicrotask"),x=b&&b.value;x||(i=function(){var t,e;g&&(t=y.domain)&&t.exit();while(n){e=n.fn,n=n.next;try{e()}catch(r){throw n?s():a=void 0,r}}a=void 0,t&&t.enter()},g?s=function(){y.nextTick(i)}:m&&!/(iphone|ipod|ipad).*applewebkit/i.test(_)?(o=!0,h=document.createTextNode(""),new m(i).observe(h,{characterData:!0}),s=function(){h.data=o=!o}):v&&v.resolve?(l=v.resolve(void 0),u=l.then,s=function(){u.call(l,i)}):s=function(){d.call(c,i)}),t.exports=x||function(t){var e={fn:t,next:void 0};a&&(a.next=e),n||(n=e,s()),a=e}},b622:function(t,e,r){var i=r("da84"),n=r("5692"),a=r("90e3"),s=r("4930"),o=i.Symbol,h=n("wks");t.exports=function(t){return h[t]||(h[t]=s&&o[t]||(s?o:a)("Symbol."+t))}},b727:function(t,e,r){var i=r("f8c2"),n=r("44ad"),a=r("7b0b"),s=r("50c4"),o=r("65f0"),h=[].push,l=function(t){var e=1==t,r=2==t,l=3==t,u=4==t,c=6==t,f=5==t||c;return function(p,d,_,m){for(var y,v,g=a(p),b=n(g),x=i(d,_,3),T=s(b.length),D=0,A=m||o,w=e?A(p,T):r?A(p,0):void 0;T>D;D++)if((f||D in b)&&(y=b[D],v=x(y,D,g),t))if(e)w[D]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return D;case 2:h.call(w,y)}else if(u)return!1;return c?-1:l||u?u:w}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},bbad:function(t,e,r){"use strict";t.exports=function(t,e){e=e||{};var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),n={},a=14;while(a--)n[r.key[a]]=i[a]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,(function(t,e,i){e&&(n[r.q.name][e]=i)})),n}},c032:function(t,e,r){e.f=r("b622")},c04e:function(t,e,r){var i=r("861d");t.exports=function(t,e){if(!i(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!i(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},c430:function(t,e){t.exports=!1},c6b6:function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},c6cd:function(t,e,r){var i=r("da84"),n=r("ce4e"),a="__core-js_shared__",s=i[a]||n(a,{});t.exports=s},c8ba:function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(i){"object"===typeof window&&(r=window)}t.exports=r},ca84:function(t,e,r){var i=r("5135"),n=r("fc6a"),a=r("4d64").indexOf,s=r("d012");t.exports=function(t,e){var r,o=n(t),h=0,l=[];for(r in o)!i(s,r)&&i(o,r)&&l.push(r);while(e.length>h)i(o,r=e[h++])&&(~a(l,r)||l.push(r));return l}},cc12:function(t,e,r){var i=r("da84"),n=r("861d"),a=i.document,s=n(a)&&n(a.createElement);t.exports=function(t){return s?a.createElement(t):{}}},cca6:function(t,e,r){var i=r("23e7"),n=r("60da");i({target:"Object",stat:!0,forced:Object.assign!==n},{assign:n})},cdf9:function(t,e,r){var i=r("825a"),n=r("861d"),a=r("f069");t.exports=function(t,e){if(i(t),n(e)&&e.constructor===t)return e;var r=a.f(t),s=r.resolve;return s(e),r.promise}},ce4e:function(t,e,r){var i=r("da84"),n=r("9112");t.exports=function(t,e){try{n(i,t,e)}catch(r){i[t]=e}return e}},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,r){var i=r("428f"),n=r("da84"),a=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?a(i[t])||a(n[t]):i[t]&&i[t][e]||n[t]&&n[t][e]}},d1e7:function(t,e,r){"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!i.call({1:2},1);e.f=a?function(t){var e=n(this,t);return!!e&&e.enumerable}:i},d28b:function(t,e,r){var i=r("746f");i("iterator")},d2bb:function(t,e,r){var i=r("825a"),n=r("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(r,[]),e=r instanceof Array}catch(a){}return function(r,a){return i(r),n(a),e?t.call(r,a):r.__proto__=a,r}}():void 0)},d3b7:function(t,e,r){var i=r("6eeb"),n=r("b041"),a=Object.prototype;n!==a.toString&&i(a,"toString",n,{unsafe:!0})},d44e:function(t,e,r){var i=r("9bf2").f,n=r("5135"),a=r("b622"),s=a("toStringTag");t.exports=function(t,e,r){t&&!n(t=r?t:t.prototype,s)&&i(t,s,{configurable:!0,value:e})}},d5e4:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(e,r,i){void 0===r&&(r=!1),n(this,t),this._fn=e,this._once=r,this._thisArg=i,this._next=this._prev=this._owner=null}return i(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function s(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var o=function(){function t(){n(this,t),this._head=this._tail=void 0}return i(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;var r=[];while(e)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof a))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;while(t)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!==typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return s(this,new a(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!==typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return s(this,new a(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof a))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;this._head=this._tail=null;while(t)t._owner=null,t=t._next;return this}}]),t}();o.MiniSignalBinding=a,e["default"]=o,t.exports=e["default"]},da84:function(t,e,r){(function(e){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||Function("return this")()}).call(this,r("c8ba"))},ddb0:function(t,e,r){var i=r("da84"),n=r("fdbc"),a=r("e260"),s=r("9112"),o=r("b622"),h=o("iterator"),l=o("toStringTag"),u=a.values;for(var c in n){var f=i[c],p=f&&f.prototype;if(p){if(p[h]!==u)try{s(p,h,u)}catch(_){p[h]=u}if(p[l]||s(p,l,c),n[c])for(var d in a)if(p[d]!==a[d])try{s(p,d,a[d])}catch(_){p[d]=a[d]}}}},df75:function(t,e,r){var i=r("ca84"),n=r("7839");t.exports=Object.keys||function(t){return i(t,n)}},e01a:function(t,e,r){"use strict";var i=r("23e7"),n=r("83ab"),a=r("da84"),s=r("5135"),o=r("861d"),h=r("9bf2").f,l=r("e893"),u=a.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var c={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new u(t):void 0===t?u():u(t);return""===t&&(c[e]=!0),e};l(f,u);var p=f.prototype=u.prototype;p.constructor=f;var d=p.toString,_="Symbol(test)"==String(u("test")),m=/^Symbol\((.*)\)[^)]+$/;h(p,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=d.call(t);if(s(c,t))return"";var r=_?e.slice(7,-1):e.replace(m,"$1");return""===r?void 0:r}}),i({global:!0,forced:!0},{Symbol:f})}},e099:function(t,e,r){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,o){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"===typeof t?a(s(t),(function(s){var o=encodeURIComponent(i(s))+r;return n(t[s])?a(t[s],(function(t){return o+encodeURIComponent(i(t))})).join(e):o+encodeURIComponent(i(t[s]))})).join(e):o?encodeURIComponent(i(o))+r+encodeURIComponent(i(t)):""};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},e163:function(t,e,r){var i=r("5135"),n=r("7b0b"),a=r("f772"),s=r("e177"),o=a("IE_PROTO"),h=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=n(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?h:null}},e177:function(t,e,r){var i=r("d039");t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e260:function(t,e,r){"use strict";var i=r("fc6a"),n=r("44d2"),a=r("3f8c"),s=r("69f3"),o=r("7dd0"),h="Array Iterator",l=s.set,u=s.getterFor(h);t.exports=o(Array,"Array",(function(t,e){l(this,{type:h,target:i(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,r=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:i,done:!1}:"values"==r?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},e2cc:function(t,e,r){var i=r("6eeb");t.exports=function(t,e,r){for(var n in e)i(t,n,e[n],r);return t}},e667:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},e6cf:function(t,e,r){"use strict";var i,n,a,s,o=r("23e7"),h=r("c430"),l=r("da84"),u=r("d066"),c=r("fea9"),f=r("6eeb"),p=r("e2cc"),d=r("d44e"),_=r("2626"),m=r("861d"),y=r("1c0b"),v=r("19aa"),g=r("c6b6"),b=r("2266"),x=r("1c7e"),T=r("4840"),D=r("2cf4").set,A=r("b575"),w=r("cdf9"),S=r("44de"),E=r("f069"),P=r("e667"),O=r("69f3"),I=r("94ca"),C=r("b622"),M=r("60ae"),F=C("species"),R="Promise",B=O.get,N=O.set,L=O.getterFor(R),k=c,j=l.TypeError,U=l.document,X=l.process,V=u("fetch"),G=E.f,Y=G,H="process"==g(X),z=!!(U&&U.createEvent&&l.dispatchEvent),W="unhandledrejection",$="rejectionhandled",q=0,K=1,Z=2,J=1,Q=2,tt=I(R,(function(){if(66===M)return!0;if(!H&&"function"!=typeof PromiseRejectionEvent)return!0;if(h&&!k.prototype["finally"])return!0;if(M>=51&&/native code/.test(k))return!1;var t=k.resolve(1),e=function(t){t((function(){}),(function(){}))},r=t.constructor={};return r[F]=e,!(t.then((function(){}))instanceof e)})),et=tt||!x((function(t){k.all(t)["catch"]((function(){}))})),rt=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},it=function(t,e,r){if(!e.notified){e.notified=!0;var i=e.reactions;A((function(){var n=e.value,a=e.state==K,s=0;while(i.length>s){var o,h,l,u=i[s++],c=a?u.ok:u.fail,f=u.resolve,p=u.reject,d=u.domain;try{c?(a||(e.rejection===Q&&ot(t,e),e.rejection=J),!0===c?o=n:(d&&d.enter(),o=c(n),d&&(d.exit(),l=!0)),o===u.promise?p(j("Promise-chain cycle")):(h=rt(o))?h.call(o,f,p):f(o)):p(n)}catch(_){d&&!l&&d.exit(),p(_)}}e.reactions=[],e.notified=!1,r&&!e.rejection&&at(t,e)}))}},nt=function(t,e,r){var i,n;z?(i=U.createEvent("Event"),i.promise=e,i.reason=r,i.initEvent(t,!1,!0),l.dispatchEvent(i)):i={promise:e,reason:r},(n=l["on"+t])?n(i):t===W&&S("Unhandled promise rejection",r)},at=function(t,e){D.call(l,(function(){var r,i=e.value,n=st(e);if(n&&(r=P((function(){H?X.emit("unhandledRejection",i,t):nt(W,t,i)})),e.rejection=H||st(e)?Q:J,r.error))throw r.value}))},st=function(t){return t.rejection!==J&&!t.parent},ot=function(t,e){D.call(l,(function(){H?X.emit("rejectionHandled",t):nt($,t,e.value)}))},ht=function(t,e,r,i){return function(n){t(e,r,n,i)}},lt=function(t,e,r,i){e.done||(e.done=!0,i&&(e=i),e.value=r,e.state=Z,it(t,e,!0))},ut=function(t,e,r,i){if(!e.done){e.done=!0,i&&(e=i);try{if(t===r)throw j("Promise can't be resolved itself");var n=rt(r);n?A((function(){var i={done:!1};try{n.call(r,ht(ut,t,i,e),ht(lt,t,i,e))}catch(a){lt(t,i,a,e)}})):(e.value=r,e.state=K,it(t,e,!1))}catch(a){lt(t,{done:!1},a,e)}}};tt&&(k=function(t){v(this,k,R),y(t),i.call(this);var e=B(this);try{t(ht(ut,this,e),ht(lt,this,e))}catch(r){lt(this,e,r)}},i=function(t){N(this,{type:R,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:q,value:void 0})},i.prototype=p(k.prototype,{then:function(t,e){var r=L(this),i=G(T(this,k));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=H?X.domain:void 0,r.parent=!0,r.reactions.push(i),r.state!=q&&it(this,r,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),n=function(){var t=new i,e=B(t);this.promise=t,this.resolve=ht(ut,t,e),this.reject=ht(lt,t,e)},E.f=G=function(t){return t===k||t===a?new n(t):Y(t)},h||"function"!=typeof c||(s=c.prototype.then,f(c.prototype,"then",(function(t,e){var r=this;return new k((function(t,e){s.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof V&&o({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return w(k,V.apply(l,arguments))}}))),o({global:!0,wrap:!0,forced:tt},{Promise:k}),d(k,R,!1,!0),_(R),a=u(R),o({target:R,stat:!0,forced:tt},{reject:function(t){var e=G(this);return e.reject.call(void 0,t),e.promise}}),o({target:R,stat:!0,forced:h||tt},{resolve:function(t){return w(h&&this===a?k:this,t)}}),o({target:R,stat:!0,forced:et},{all:function(t){var e=this,r=G(e),i=r.resolve,n=r.reject,a=P((function(){var r=y(e.resolve),a=[],s=0,o=1;b(t,(function(t){var h=s++,l=!1;a.push(void 0),o++,r.call(e,t).then((function(t){l||(l=!0,a[h]=t,--o||i(a))}),n)})),--o||i(a)}));return a.error&&n(a.value),r.promise},race:function(t){var e=this,r=G(e),i=r.reject,n=P((function(){var n=y(e.resolve);b(t,(function(t){n.call(e,t).then(r.resolve,i)}))}));return n.error&&i(n.value),r.promise}})},e893:function(t,e,r){var i=r("5135"),n=r("56ef"),a=r("06cf"),s=r("9bf2");t.exports=function(t,e){for(var r=n(e),o=s.f,h=a.f,l=0;l<r.length;l++){var u=r[l];i(t,u)||o(t,u,h(e,u))}}},e8b5:function(t,e,r){var i=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}},e95a:function(t,e,r){var i=r("b622"),n=r("3f8c"),a=i("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||s[a]===t)}},eae9:function(t,e,r){var i=r("d039");t.exports=function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},eb0a:function(t,e,r){"use strict";(function(t){var e=r("3907"),i=r("320c"),n=r.n(i);
/*!
 * @pixi/polyfill - v5.1.0
 * Compiled Fri, 19 Jul 2019 21:54:36 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
window.Promise||(window.Promise=e["Polyfill"]),Object.assign||(Object.assign=n.a);var a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},s=16;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!a.performance||!a.performance.now){var o=Date.now();a.performance||(a.performance={}),a.performance.now=function(){return Date.now()-o}}for(var h=Date.now(),l=["ms","moz","webkit","o"],u=0;u<l.length&&!a.requestAnimationFrame;++u){var c=l[u];a.requestAnimationFrame=a[c+"RequestAnimationFrame"],a.cancelAnimationFrame=a[c+"CancelAnimationFrame"]||a[c+"CancelRequestAnimationFrame"]}a.requestAnimationFrame||(a.requestAnimationFrame=function(t){if("function"!==typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=s+h-e;return r<0&&(r=0),h=e,setTimeout((function(){h=Date.now(),t(performance.now())}),r)}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return t=Number(t),0===t||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array)}).call(this,r("c8ba"))},f069:function(t,e,r){"use strict";var i=r("1c0b"),n=function(t){var e,r;this.promise=new t((function(t,i){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=i})),this.resolve=i(e),this.reject=i(r)};t.exports.f=function(t){return new n(t)}},f142:function(t,e,r){"use strict";var i=Object.prototype.hasOwnProperty,n="~";function a(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,r,i,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new s(r,i||t,a),h=n?n+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],o]:t._events[h].push(o):(t._events[h]=o,t._eventsCount++),t}function h(t,e){0===--t._eventsCount?t._events=new a:delete t._events[e]}function l(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(n=!1)),l.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)i.call(t,e)&&r.push(n?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},l.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=new Array(a);i<a;i++)s[i]=r[i].fn;return s},l.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},l.prototype.emit=function(t,e,r,i,a,s){var o=n?n+t:t;if(!this._events[o])return!1;var h,l,u=this._events[o],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,i),!0;case 5:return u.fn.call(u.context,e,r,i,a),!0;case 6:return u.fn.call(u.context,e,r,i,a,s),!0}for(l=1,h=new Array(c-1);l<c;l++)h[l-1]=arguments[l];u.fn.apply(u.context,h)}else{var f,p=u.length;for(l=0;l<p;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),c){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,r);break;case 4:u[l].fn.call(u[l].context,e,r,i);break;default:if(!h)for(f=1,h=new Array(c-1);f<c;f++)h[f-1]=arguments[f];u[l].fn.apply(u[l].context,h)}}return!0},l.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},l.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},l.prototype.removeListener=function(t,e,r,i){var a=n?n+t:t;if(!this._events[a])return this;if(!e)return h(this,a),this;var s=this._events[a];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||h(this,a);else{for(var o=0,l=[],u=s.length;o<u;o++)(s[o].fn!==e||i&&!s[o].once||r&&s[o].context!==r)&&l.push(s[o]);l.length?this._events[a]=1===l.length?l[0]:l:h(this,a)}return this},l.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&h(this,e)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l},f5df:function(t,e,r){var i=r("c6b6"),n=r("b622"),a=n("toStringTag"),s="Arguments"==i(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(r){}};t.exports=function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=o(e=Object(t),a))?r:s?i(e):"Object"==(n=i(e))&&"function"==typeof e.callee?"Arguments":n}},f772:function(t,e,r){var i=r("5692"),n=r("90e3"),a=i("keys");t.exports=function(t){return a[t]||(a[t]=n(t))}},f8c2:function(t,e,r){var i=r("1c0b");t.exports=function(t,e,r){if(i(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,i){return t.call(e,r,i)};case 3:return function(r,i,n){return t.call(e,r,i,n)}}return function(){return t.apply(e,arguments)}}},fc6a:function(t,e,r){var i=r("44ad"),n=r("1d80");t.exports=function(t){return i(n(t))}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fea9:function(t,e,r){var i=r("da84");t.exports=i.Promise}}]);
//# sourceMappingURL=chunk-vendors.c365a16b.js.map